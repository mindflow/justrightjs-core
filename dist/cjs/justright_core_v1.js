"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var coreutil_v1=require("coreutil_v1"),xmlparser_v1=require("xmlparser_v1"),mindi_v1=require("mindi_v1");const LOG=new coreutil_v1.Logger("ContainerBridge");class ContainerBridge{static getElementById(t){return document.getElementById(t)}static createTextNode(t){return document.createTextNode(t)}static createElement(t){return document.createElement(t)}static createElementNS(t,e){return document.createElementNS(t,e)}static fetch(t,e){return window.fetch(t,e)}static setSessionAttribute(t,e){window.sessionStorage.setItem(t,e)}static removeSessionAttribute(t){window.sessionStorage.removeItem(t)}static getSessionAttribute(t){return window.sessionStorage.getItem(t)}static hasSessionAttribute(t){return null!==window.sessionStorage.getItem(t)}static setLocalAttribute(t,e){window.localStorage.setItem(t,e)}static removeLocalAttribute(t){window.localStorage.removeItem(t)}static hasLocalAttribute(t){return null!==window.localStorage.getItem(t)}static getLocalAttribute(t){return window.localStorage.getItem(t)}static removeElement(t){let e=document.getElementById(t);e.parentNode.removeChild(e)}static addHeaderElement(t){document.getElementsByTagName("head")[0].append(t)}static addBodyElement(t){document.getElementsByTagName("body")[0].append(t)}}class Attribute{constructor(t){this.attribute=t}getValue(){return this.attribute.value}getName(){return this.attribute.name}getNamespace(){return this.attribute.name}}const LOG$1=new coreutil_v1.Logger("BaseElement");class BaseElement{constructor(t,e){return this.element=null,this.attributeMap=null,this.eventsAttached=new coreutil_v1.List,t instanceof xmlparser_v1.XmlElement?void(this.element=this.createFromXmlElement(t,e)):"string"==typeof t?void(this.element=ContainerBridge.createElement(t)):t instanceof HTMLElement?void(this.element=t):(LOG$1.error("Unrecognized value for Element"),void LOG$1.error(t))}loadAttributes(){if(null===this.element.attributes||void 0===this.element.attributes)return void(this.attributeMap=new coreutil_v1.Map);if(null===this.attributeMap||void 0===this.attributeMap){this.attributeMap=new coreutil_v1.Map;for(var t=0;t<this.element.attributes.length;t++)this.attributeMap.set(this.element.attributes[t].name,new Attribute(this.element.attributes[t]))}}createFromXmlElement(t,e){let n=null;return n=t.getNamespace()?ContainerBridge.createElementNS(t.getNamespaceUri(),t.getFullName()):ContainerBridge.createElement(t.getName()),e&&null!==e.getMappedElement()&&e.getMappedElement().appendChild(n),t.getAttributes().forEach(function(t,e){return n.setAttribute(t,e.getValue()),!0}),n}attachEvent(t,e){this.eventsAttached.contains(t)?LOG$1.warn("Event '"+t+"' allready attached for "+this.element.name):(t.startsWith("on")&&(t=t.substr(2)),this.element.addEventListener(t,e),this.eventsAttached.add(t))}getMappedElement(){return this.element}getFullName(){return this.element.tagName}getTop(){return this.element.getBoundingClientRect().top}getBottom(){return this.element.getBoundingClientRect().bottom}getLeft(){return this.element.getBoundingClientRect().left}getRight(){return this.element.getBoundingClientRect().right}getWidth(){return this.element.offsetWidth}getHeight(){return this.element.offsetHeight}getAttributes(){return this.loadAttributes(),this.attributeMap}setAttributeValue(t,e){this.element.setAttribute(t,e)}getAttributeValue(t){return this.element.getAttribute(t)}containsAttribute(t){return this.element.hasAttribute(t)}removeAttribute(t){this.element.removeAttribute(t)}setStyle(t,e){this.element.style[t]=e}getStyle(t){return this.element.style[t]}removeStyle(t){this.element.style[t]=null}set(t){return null===this.element.parentNode?void console.error("The element has no parent, can not swap it for value"):t.getMappedElement?void this.element.parentNode.replaceChild(t.getMappedElement(),this.element):t&&"function"==typeof t.getRootElement?(this.element.parentNode.replaceChild(t.getRootElement().getMappedElement(),this.element),void(this.element=t.getRootElement().getMappedElement())):"string"==typeof t?void this.element.parentNode.replaceChild(ContainerBridge.createTextNode(t),this.element):t instanceof Text?void this.element.parentNode.replaceChild(t,this.element):t instanceof Element?void this.element.parentNode.replaceChild(t,this.element):void 0}isMounted(){return!!this.element.parentNode}remove(){this.element.parentNode.removeChild(this.element)}clear(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild)}setChild(t){this.clear(),this.addChild(t)}addChild(t){return t.getMappedElement?void this.element.appendChild(t.getMappedElement()):t&&"function"==typeof t.getRootElement?void this.element.appendChild(t.getRootElement().getMappedElement()):"string"==typeof t?void this.element.appendChild(ContainerBridge.createTextNode(t)):t instanceof Text?void this.element.appendChild(t):t instanceof Element?void this.element.appendChild(t):void 0}prependChild(t){return null===this.element.firstChild&&this.addChild(t),t.getMappedElement?void this.element.insertBefore(t.getMappedElement(),this.element.firstChild):t&&"function"==typeof t.getRootElement?void this.element.insertBefore(t.getRootElement().getMappedElement(),this.element.firstChild):"string"==typeof t?void this.element.insertBefore(ContainerBridge.createTextNode(t),this.element.firstChild):t instanceof Text?void this.element.insertBefore(t,this.element.firstChild):t instanceof Element?void this.element.insertBefore(t,this.element.firstChild):void 0}}class CanvasRoot{static replaceComponent(t,e){var n=ContainerBridge.getElementById(t);n.parentNode.replaceChild(e.getRootElement().getMappedElement(),n)}static setComponent(t,e){var n=ContainerBridge.getElementById(t);n.innerHTML="",n.appendChild(e.getRootElement().getMappedElement(),n)}static addChildComponent(t,e){ContainerBridge.getElementById(t).appendChild(e.getRootElement().getMappedElement())}static addChildElement(t,e){ContainerBridge.getElementById(t).appendChild(e.getMappedElement())}static removeElement(t){ContainerBridge.removeElement(t)}static addHeaderElement(t){ContainerBridge.addHeaderElement(t.getMappedElement())}static addBodyElement(t){ContainerBridge.addBodyElement(t.getMappedElement())}}const LOG$2=new coreutil_v1.Logger("AbstractInputElement");class AbstractInputElement extends BaseElement{constructor(t,e){super(t,e)}getName(){return this.element.name}setName(t){this.element.name=t}getValue(){return this.getBackingValue()}getBackingValue(){return this.element.value}setValue(t){this.element.value=t}focus(){this.element.focus()}selectAll(){this.element.select()}enable(){this.element.disabled=!1}disable(){this.element.disabled=!0}}class RadioInputElement extends AbstractInputElement{constructor(t,e){super(t,e)}setChecked(t){this.element.checked=t}isChecked(){return this.element.checked}getValue(){return this.isChecked()?super.getValue():null}}class CheckboxInputElement extends AbstractInputElement{constructor(t,e){super(t,e)}setChecked(t){this.element.checked=t}isChecked(){return this.element.checked}getValue(){return this.isChecked()?super.getValue():null}}class TextInputElement extends AbstractInputElement{constructor(t,e){super(t,e)}}class TextareaInputElement extends AbstractInputElement{constructor(t,e){super(t,e)}getInnerHTML(){return this.element.innerHTML}setInnerHTML(t){this.element.innerHTML=t}addChild(t){super.addChild(t),this.setValue(this.getInnerHTML())}prependChild(t){super.prependChild(t),this.setValue(this.getInnerHTML())}}class TextnodeElement{constructor(t,e){t instanceof xmlparser_v1.XmlCdata&&(this.element=this.createFromXmlCdata(t,e)),"string"==typeof t&&(this.element=ContainerBridge.createTextNode(t))}createFromXmlCdata(t,e){let n=document.createTextNode(t.getValue());return null!==e&&null!==e.getMappedElement()&&e.getMappedElement().appendChild(n),n}setValue(t){this.element=t}getValue(){return this.element}getMappedElement(){return this.element}}class SimpleElement extends BaseElement{constructor(t,e){super(t,e)}getInnerHTML(){return this.element.innerHTML}setInnerHTML(t){this.element.innerHTML=t}}class ElementMapper{static map(t,e){return ElementMapper.mapsToRadio(t)?new RadioInputElement(t,e):ElementMapper.mapsToCheckbox(t)?new CheckboxInputElement(t,e):ElementMapper.mapsToSubmit(t)?new TextInputElement(t,e):ElementMapper.mapsToTextarea(t)?new TextareaInputElement(t,e):ElementMapper.mapsToText(t)?new TextInputElement(t,e):ElementMapper.mapsToTextnode(t)?new TextnodeElement(t,e):ElementMapper.mapsToSimple(t)?new SimpleElement(t,e):(console.log("Mapping to simple by default "+t),new SimpleElement(t,e))}static mapsToRadio(t){return t instanceof HTMLInputElement&&"radio"===t.type||t instanceof xmlparser_v1.XmlElement&&"input"===t.getName()&&"radio"===t.getAttribute("type").getValue()}static mapsToCheckbox(t){return t instanceof HTMLInputElement&&"checkbox"===t.type||t instanceof xmlparser_v1.XmlElement&&"input"===t.getName()&&"checkbox"===t.getAttribute("type").getValue()}static mapsToSubmit(t){return t instanceof HTMLInputElement&&"submit"===t.type||t instanceof xmlparser_v1.XmlElement&&"input"===t.getName()&&"submit"===t.getAttribute("type").getValue()}static mapsToText(t){if(t instanceof HTMLInputElement){if("text"===t.type)return!0;if("password"===t.type)return!0;if("email"===t.type)return!0;if("date"===t.type)return!0;if("time"===t.type)return!0}if(t instanceof xmlparser_v1.XmlElement&&"input"===t.getName()){if("text"===t.getAttribute("type").getValue())return!0;if("password"===t.getAttribute("type").getValue())return!0;if("email"===t.getAttribute("type").getValue())return!0;if("date"===t.getAttribute("type").getValue())return!0;if("time"===t.getAttribute("type").getValue())return!0}return!1}static mapsToTextnode(t){return t instanceof Node&&"TEXT_NODE"===t.nodeType||t instanceof xmlparser_v1.XmlCdata}static mapsToTextarea(t){return t instanceof HTMLTextAreaElement||t instanceof xmlparser_v1.XmlElement&&"textarea"===t.getName()}static mapsToSimple(t){return t instanceof HTMLElement||t instanceof xmlparser_v1.XmlElement}}class HTML{static custom(t){var e=new xmlparser_v1.XmlElement(t);return ElementMapper.map(e)}static applyStyles(t,e,n){null!==e&&t.setAttributeValue("class",e),null!==n&&t.setAttributeValue("style",n)}static a(t,e,n,i){var r=HTML.custom("a");return r.addChild(t),r.setAttributeValue("href",e),HTML.applyStyles(r,n,i),r}}const LOG$3=new coreutil_v1.Logger("CanvasStyles"),styles=new coreutil_v1.Map,enabledStyles=new coreutil_v1.List;class CanvasStyles{static setStyle(t,e){if(styles.contains(t))styles.get(t).setChild(new TextnodeElement(e.getStylesSource()));else{let n=HTML.custom("style");n.setAttributeValue("id",t),n.setChild(new TextnodeElement(e.getStylesSource())),styles.set(t,n)}}static removeStyle(t){enabledStyles.contains(t)&&CanvasStyles.disableStyle(t),styles.remove(t)}static disableStyle(t){if(!styles.contains(t))return void LOG$3.error("Style does not exist: "+t);enabledStyles.contains(t)&&(enabledStyles.remove(t),CanvasRoot.removeElement(t))}static enableStyle(t){if(!styles.contains(t))return void LOG$3.error("Style does not exist: "+t);enabledStyles.contains(t)||(enabledStyles.add(t),CanvasRoot.addHeaderElement(styles.get(t)))}}class Client{static get(t){var e={method:"GET",mode:"cors",redirect:"follow"};return ContainerBridge.fetch(t.toString(),e)}static post(t,e){var n={body:JSON.stringify(e),headers:{"user-agent":"Mozilla/4.0 MDN Example","content-type":"application/json"},method:"POST",mode:"cors",redirect:"follow"};return ContainerBridge.fetch(t.toString(),n)}static put(t,e){var n={body:JSON.stringify(e),method:"PUT",mode:"cors",redirect:"follow",headers:{"user-agent":"Mozilla/4.0 MDN Example","content-type":"application/json"}};return ContainerBridge.fetch(t.toString(),n)}static patch(t,e){var n={body:JSON.stringify(e),method:"PATCH",mode:"cors",redirect:"follow",headers:{"user-agent":"Mozilla/4.0 MDN Example","content-type":"application/json"}};return ContainerBridge.fetch(t.toString(),n)}static delete(t){var e={method:"DELETE",mode:"cors",redirect:"follow"};return ContainerBridge.fetch(t.toString(),e)}}class Component{constructor(t,e,n){this.componentIndex=t,this.elementMap=n,this.rootElement=e}remove(){this.rootElement.remove()}getRootElement(){return this.rootElement}getComponentIndex(){return this.componentIndex}get(t){return this.elementMap.get(t)}set(t,e){this.elementMap.get(t).set(e)}clearChildren(t){this.elementMap.get(t).clear()}setChild(t,e){this.elementMap.get(t).setChild(e)}addChild(t,e){this.elementMap.get(t).addChild(e)}prependChild(t,e){this.elementMap.get(t).prependChild(e)}}class Url{constructor(t){if(this.protocol=null,this.host=null,this.port=null,this.pathList=new coreutil_v1.List,this.parameterMap=new coreutil_v1.Map,this.bookmark=null,null!==t){var e=this.determineProtocol(t);null!==e&&(null!==this.protocol&&(e=this.determineHost(e)),null!==e&&(null!==this.host&&(e=this.determinePort(e)),null!==e&&null!==(e=this.determinePath(e))&&null!==(e=this.determineParameters(e))&&this.determineBookmark(e)))}}getProtocol(){return this.protocol}getHost(){return this.host}getPort(){return this.port}getPathList(){return this.pathList}getPath(t){return this.pathList.get(t)}clearPathList(){this.pathList=new coreutil_v1.List}getParameterMap(){return this.parameterMap}clearParameterMAp(){this.parameterMap=new coreutil_v1.Map}getParameter(t){return this.parameterMap.get(t)}setParameter(t,e){this.parameterMap.set(t,e)}setBookmark(t){this.bookmark=t}setPath(t){this.determinePath(t)}setQueryString(t){this.parameterMap=this.determineParameters(t)}getBookmark(){return this.bookmark}determineProtocol(t){if(-1===t.indexOf("//"))return t;var e=t.split("//");return-1!==e[0].indexOf("/")?t:(this.protocol=e[0],1==e.length?null:t.replace(e[0]+"//",""))}determineHost(t){var e=t.split("/"),n=e[0];return-1!==n.indexOf(":")&&(n=n.split(":")[0]),this.host=n,e.length>1?t.replace(n,""):null}determinePort(t){if(!t.startsWith(":"))return t;var e=t.split("/")[0].substring(1);return this.port=e,t.replace(":"+e,"")}determinePath(t){var e=t;if(-1!==t.indexOf("?"))(n=t.split("?")).length>1&&(e=t.substring(t.indexOf("?"))),t=n[0];else if(-1!==t.indexOf("#")){var n=t.split("#");n.length>1&&(e=t.substring(t.indexOf("#"))),t=n[0]}t.startsWith("/")&&(t=t.substring(1));var i=new coreutil_v1.List(t.split("/"));return this.pathList=new coreutil_v1.List,i.forEach(function(t,e){return e.pathList.add(decodeURI(t)),!0},this),e}determineParameters(t){var e=t;if(-1===t.indexOf("?"))return t;-1!==(t=t.substring(t.indexOf("?")+1)).indexOf("#")&&(e=t.substring(t.indexOf("#")),t=t.substring(0,t.indexOf("#")));var n=new coreutil_v1.List(t.split("&")),i=new coreutil_v1.Map;return n.forEach(function(t,e){var n=t.split("=");return n.length>=2&&i.set(decodeURI(n[0]),decodeURI(n[1])),!0},this),this.parameterMap=i,e}determineBookmark(t){-1!==t.indexOf("#")&&(this.bookmark=t.substring(t.indexOf("#")+1))}toString(){var t="";null!==this.protocol&&(t=t+this.protocol+"//"),null!==this.host&&(t+=this.host),null!==this.port&&(t=t+":"+this.port),this.pathList.forEach(function(e,n){return t=t+"/"+e,!0},this);var e=!0;return this.parameterMap.forEach(function(n,i,r){e?(e=!1,t+="?"):t+="&",t=t+encodeURI(n)+"="+encodeURI(i)},this),null!==this.bookmark&&(t=t+"#"+this.bookmark),t}}class Styles{constructor(t){this.stylesSource=t}getStylesSource(){return this.stylesSource}}const LOG$4=new coreutil_v1.Logger("StylesRegistry");class StylesRegistry{constructor(){this.stylesMap=new coreutil_v1.Map,this.stylesUrlMap=new coreutil_v1.Map,this.stylesQueueSize=0,this.callback=null}set(t,e,n){void 0!==n&&null!==n&&this.stylesUrlMap.set(t,n),this.stylesMap.set(t,e)}get(t){return this.stylesMap.get(t)}contains(t){return this.stylesMap.contains(t)}done(t){this.callback=t,this.doCallback(this)}doCallback(t){if(null!==tmo.callback&&void 0!==t.callback&&t.stylesQueueSize===t.stylesMap.size()){var e=t.callback;t.callback=null,e.call()}}load(t,e){return this.stylesQueueSize++,new Promise(n=>{Client.get(e).then(i=>{if(!i.ok)throw"Unable to load styles for "+t+" at "+e;i.text().then(i=>{this.set(t,new Styles(i),e);this.doCallback(this);n()})})})}getStylesLoadedPromise(t){return new Promise((e,n)=>{var i=0;if(!t||0==t.size())return void e();t.forEach((r,o,s)=>{if(this.contains(r))return++i!=t.size()||(e(),!1);this.privateLoad(r,new Url(o)).then(()=>{i++;if(i==t.size())return e(),!1}).catch(t=>{n(t);return!1});return!0},this)})}privateLoad(t,e){return LOG$4.info("Loading styles "+t+" at "+e.toString()),new Promise(n=>{Client.get(e).then(i=>{if(!i.ok)throw"Unable to load styles for "+t+" at "+e;i.text().then(i=>{this.set(t,new Styles(i),e);n()})})})}}class Template{constructor(t){this.templateSource=t}getTemplateSource(){return this.templateSource}}const LOG$5=new coreutil_v1.Logger("TemplateRegistry");class TemplateRegistry{constructor(){this.templateMap=new coreutil_v1.Map,this.templateUrlMap=new coreutil_v1.Map,this.templateQueueSize=0,this.callback=null,this.languagePrefix=null}setLanguagePrefix(t){this.languagePrefix=t}set(t,e,n){void 0!==n&&null!==n&&this.templateUrlMap.set(t,n),this.templateMap.set(t,e)}get(t){return this.templateMap.get(t)}contains(t){return this.templateMap.contains(t)}done(t){this.callback=t,this.doCallback(this)}doCallback(t){if(null!==tmo.callback&&void 0!==t.callback&&t.templateQueueSize===t.templateMap.size()){var e=t.callback;t.callback=null,e.call()}}load(t,e){return null!==this.languagePrefix&&e.getPathList().setLast(this.languagePrefix+"."+e.getPathList().getLast()),this.templateQueueSize++,new Promise(n=>{Client.get(e).then(i=>{if(!i.ok)throw"Unable to load template for "+t+" at "+e;i.text().then(i=>{this.set(t,new Template(i),e);this.doCallback(this);n()})})})}getTemplatesLoadedPromise(t){return new Promise((e,n)=>{var i=0;if(!t||0==t.size())return void e();t.forEach((r,o,s)=>{if(this.contains(r))return++i!=t.size()||(e(),!1);this.privateLoad(r,new Url(o)).then(()=>{i++;if(i==t.size())return e(),!1}).catch(t=>{n(t);return!1});return!0},this)})}privateLoad(t,e){return null!==this.languagePrefix&&e.getPathList().setLast(this.languagePrefix+"."+e.getPathList().getLast()),LOG$5.info("Loading template "+t+" at "+e.toString()),new Promise(n=>{Client.get(e).then(i=>{if(!i.ok)throw"Unable to load template for "+t+" at "+e;i.text().then(i=>{this.set(t,new Template(i),e);n()})})})}}const LOG$6=new coreutil_v1.Logger("TemplatePostConfig");class TemplatesLoader{constructor(t){this.templateRegistry=t}load(t){let e=new coreutil_v1.Map;return t.getConfigEntries().forEach((t,n,i)=>{n.getClassReference().TEMPLATE_URL&&n.getClassReference().COMPONENT_NAME&&e.set(n.getClassReference().COMPONENT_NAME,n.getClassReference().TEMPLATE_URL);return!0},this),this.templateRegistry.getTemplatesLoadedPromise(e)}}const LOG$7=new coreutil_v1.Logger("StylesLoader");class StylesLoader{constructor(t){this.stylesRegistry=t}load(t){let e=new coreutil_v1.Map;return t.getConfigEntries().forEach((t,n,i)=>{n.getClassReference().STYLES_URL&&n.getClassReference().COMPONENT_NAME&&e.set(n.getClassReference().COMPONENT_NAME,n.getClassReference().STYLES_URL);return!0},this),this.stylesRegistry.getStylesLoadedPromise(e)}}const LOG$8=new coreutil_v1.Logger("ComponentConfigProcessor");class ComponentConfigProcessor{constructor(){this.templateRegistry=mindi_v1.InjectionPoint.instance(TemplateRegistry),this.stylesRegistry=mindi_v1.InjectionPoint.instance(StylesRegistry)}postConfig(){this.templatesLoader=new TemplatesLoader(this.templateRegistry),this.stylesLoader=new StylesLoader(this.stylesRegistry)}processConfig(t){return Promise.all([this.templatesLoader.load(t),this.stylesLoader.load(t)])}}const LOG$9=new coreutil_v1.Logger("ComponentCreatorInstanceProcessor");class ComponentCreatorInstanceProcessor{constructor(){LOG$9.info("Creating")}process(t){t.createComponent&&t.createComponent()}}class UniqueIdRegistry{idAttributeWithSuffix(t){if(idNames.contains(t)){var e=idNames.get(t);return idNames.set(t,e+1),t+"-"+e}return idNames.set(t,1),t}}var idNames=new coreutil_v1.Map;class Event{constructor(t){this.event=t,"dragstart"==this.event.type.toLowerCase()&&this.event.dataTransfer.setData("text/plain",null)}preventDefault(){this.event.preventDefault()}getOffsetX(){return this.event.offsetX}getOffsetY(){return this.event.offsetY}getClientX(){return this.event.clientX}getClientY(){return this.event.clientY}getTarget(){return ElementMapper.map(this.event.target)}getKeyCode(){return this.event.keyCode}}const LOG$a=new coreutil_v1.Logger("EventRegistry");class EventRegistry{constructor(){this.listeners=new coreutil_v1.Map,this.beforeListeners=new coreutil_v1.Map,this.afterListeners=new coreutil_v1.Map}attach(t,e,n,i){const r=n+"_"+i,o=this;t.attachEvent(e,function(t){o.trigger(r,n,t)})}listen(t,e,n){const i=t+"_"+n;this.listeners.exists(i)||this.listeners.set(i,new coreutil_v1.List),this.listeners.get(i).add(e)}listenBefore(t,e,n){this.beforeListeners.exists(t)||this.beforeListeners.set(t,new coreutil_v1.List),this.beforeListeners.get(t).add(new coreutil_v1.ObjectFunction(e,n))}listenAfter(t,e,n){this.afterListeners.exists(t)||this.afterListeners.set(t,new coreutil_v1.List),this.afterListeners.get(t).add(new coreutil_v1.ObjectFunction(e,n))}trigger(t,e,n){this.handleBefore(e,n),this.listeners.exists(t)&&this.listeners.get(t).forEach((t,e)=>{t.call(new Event(n));return!0},this),this.handleAfter(e,n)}handleBefore(t,e){this.handleGlobal(this.beforeListeners,t,e)}handleAfter(t,e){this.handleGlobal(this.afterListeners,t,e)}handleGlobal(t,e,n){t.exists(e)&&t.get(e).forEach((t,e)=>{t.call(new Event(n));return!0},this)}}class ElementRegistrator{constructor(t,e,n){this.componentIndex=n,this.uniqueIdRegistry=e,this.eventRegistry=t,this.rootElement=null,this.elementMap=new coreutil_v1.Map}getRootElement(){return this.rootElement}getElementMap(){return this.elementMap}getComponentIndex(){return this.componentIndex}elementCreated(t,e){var n=ElementMapper.map(t,e);return this.addToElementIdMap(n),this.registerElementEvents(n),null===this.rootElement&&null!==n&&(this.rootElement=n),n}registerElementEvents(t){if(null!==t&&void 0!==t&&t instanceof BaseElement){var e=this.eventRegistry,n=this.componentIndex;t.getAttributes().forEach(function(i,r,o){if(null!==r&&void 0!==r&&r.getValue().startsWith("//event:")){var s=r.getValue(),a=r.getName();e.attach(t,a,s,n)}return!0},this)}}addToElementIdMap(t){if(null!==t&&void 0!==t&&t instanceof BaseElement){var e=null;t.containsAttribute("id")&&(e=t.getAttributeValue("id"),t.setAttributeValue("id",this.uniqueIdRegistry.idAttributeWithSuffix(e))),null!==e&&this.elementMap.set(e,t)}}}const LOG$b=new coreutil_v1.Logger("ComponentFactory");class ComponentFactory{constructor(){this.eventRegistry=mindi_v1.InjectionPoint.instance(EventRegistry),this.stylesRegistry=mindi_v1.InjectionPoint.instance(StylesRegistry),this.templateRegistry=mindi_v1.InjectionPoint.instance(TemplateRegistry),this.uniqueIdRegistry=mindi_v1.InjectionPoint.instance(UniqueIdRegistry)}create(t){var e=this.templateRegistry.get(t);if(!e)throw LOG$b.error(this.templateRegistry),"No template was found with name "+t;var n=new ElementRegistrator(this.eventRegistry,this.uniqueIdRegistry,componentCounter++);return new xmlparser_v1.DomTree(e.getTemplateSource(),n).load(),this.mountStyles(t),new Component(n.getComponentIndex(),n.getRootElement(),n.getElementMap())}mountStyles(t){this.stylesRegistry.contains(t)&&CanvasStyles.setStyle(t,this.stylesRegistry.get(t))}}var componentCounter=0;const LOG$c=new coreutil_v1.Logger("InputElementDataBinding");class InputElementDataBinding{constructor(t,e){this.model=t,this.validator=e,this.pullers=new coreutil_v1.List,this.pushers=new coreutil_v1.List}static link(t,e){return new InputElementDataBinding(t,e)}and(t){return this.to(t)}to(t){const e=()=>{let e=coreutil_v1.PropertyAccessor.getValue(this.model,t.getName());t.getValue&&e!==t.getValue()&&coreutil_v1.PropertyAccessor.setValue(this.model,t.getName(),t.getValue());this.validator&&this.validator.validate&&this.validator.validate(t.getValue())};t.attachEvent("onchange",e),t.attachEvent("onkeyup",e),e.call();const n=()=>{var e=coreutil_v1.PropertyAccessor.getValue(this.model,t.getName());e===t.getValue()?t.setChecked&&!t.getChecked()&&t.setChecked(!0):t.setChecked&&t.getChecked()?t.setChecked(!1):t.setValue&&t.setValue(e)};let i="__changed_"+t.getName().replace(".","_");return this.model[i]||(this.model[i]=(()=>{this.push()})),this.pullers.add(e),this.pushers.add(n),this}pull(){this.pullers.forEach((t,e)=>{t.call(e);return!0},this)}push(){this.pushers.forEach((t,e)=>{t.call(e);return!0},this)}}class ProxyObjectFactory{static createProxyObject(t){return new Proxy(t,{set:(t,e,n)=>{let i=t[e]=n;let r="__changed_"+e;let o=t[r];if(o&&"function"==typeof o){let e=o.bind(t);e()}return i===n}})}}class History{static pushUrl(t,e,n){window.history.pushState(n,e,t.toString())}static getUrl(){return new Url(window.location.href)}static loadUrl(t){window.location=t.toString()}}class State{constructor(){this.stateListenerMap=new coreutil_v1.Map}recordState(t){var e=History.getUrl();e.getPath(0)!==t&&this.setUrl(e)}setUrl(t){History.pushUrl(t,"",{})}}const LOG$d=new coreutil_v1.Logger("JustrightConfig");class JustrightConfig{static getInstance(){return justrightConfig}constructor(){this.config=(new mindi_v1.MindiConfig).addTypeConfig(mindi_v1.SingletonConfig.unnamed(TemplateRegistry)).addTypeConfig(mindi_v1.SingletonConfig.unnamed(StylesRegistry)).addTypeConfig(mindi_v1.SingletonConfig.unnamed(EventRegistry)).addTypeConfig(mindi_v1.SingletonConfig.unnamed(UniqueIdRegistry)).addTypeConfig(mindi_v1.SingletonConfig.unnamed(ComponentFactory)).addTypeConfig(mindi_v1.SingletonConfig.unnamed(State))}getConfig(){return this.config}}const justrightConfig=new JustrightConfig;class ApplicationStorage{static setLocalAttribute(t,e){ContainerBridge.setLocalAttribute(t,e)}static getLocalAttribute(t){return ContainerBridge.getLocalAttribute(t)}static hasLocalAttribute(t){return ContainerBridge.hasLocalAttribute(t)}static removeLocalAttribute(t){return ContainerBridge.removeLocalAttribute(t)}}class SessionStorage{static setSessionAttribute(t,e){ContainerBridge.setSessionAttribute(t,e)}static hasSessionAttribute(t){return ContainerBridge.hasSessionAttribute(t)}static getSessionAttribute(t){return ContainerBridge.getSessionAttribute(t)}static removeSessionAttribute(t){return ContainerBridge.removeSessionAttribute(t)}}class HttpResponseHandler{constructor(t,e,n){this.code=t,this.objectFunction=e,this.mapperFunction=n}getCode(){return this.code}getObjectFunction(){return this.objectFunction}getMapperFunction(){return this.mapperFunction}}const LOG$e=new coreutil_v1.Logger("HttpCallBuilder");class HttpCallBuilder{constructor(t,e){this.url=t,this.paramter=e,this.httpCallbackMap=new coreutil_v1.Map,this.errorCallback=null}static newInstance(t,e,n){return new HttpCallBuilder(t,e,n)}responseMapping(t,e,n,i){return this.httpCallbackMap.set(t,new HttpResponseHandler(t,new coreutil_v1.ObjectFunction(e,n),i)),this}errorMapping(t,e){return t&&e&&(this.errorCallback=new coreutil_v1.ObjectFunction(t,e)),this}get(){Client.get(this.url).then(t=>{this.processResponse(t)},t=>{this.processError(t)})}post(){Client.post(this.url,this.paramter).then(t=>{this.processResponse(t)},t=>{this.processError(t)})}put(){Client.put(this.url,this.paramter).then(t=>{this.processResponse(t)},t=>{this.processError(t)})}patch(){Client.patch(this.url,this.paramter).then(t=>{this.processResponse(t)},t=>{this.processError(t)})}delete(){Client.delete(this.url).then(t=>{this.processResponse(t)},t=>{this.processError(t)})}processError(t){LOG$e.error(t),this.errorCallback&&this.errorCallback.call(t)}processResponse(t){var e=this.httpCallbackMap.get(t.status);e&&t.json().then(t=>{var n=e.getMapperFunction();n?e.getObjectFunction().call(n(t)):e.getObjectFunction().call(t)},t=>{})}}const LOG$f=new coreutil_v1.Logger("AbstractValidator");class AbstractValidator{constructor(t=!1){this.validListenerList=new coreutil_v1.List,this.invalidListenerList=new coreutil_v1.List,this.currentlyValid=t}isValid(){return this.iscurrentlyValid}valid(){this.iscurrentlyValid=!0,this.validListenerList.forEach((t,e)=>{t.call();return!0},this)}invalid(){this.iscurrentlyValid=!1,this.invalidListenerList.forEach((t,e)=>{t.call();return!0},this)}withValidListener(t){return this.validListenerList.add(t),this}withInvalidListener(t){return this.invalidListenerList.add(t),this}}class AndValidatorSet extends AbstractValidator{constructor(t=!1){super(t),this.validatorList=new coreutil_v1.List}withValidator(t){return t.withValidListener(new coreutil_v1.ObjectFunction(this,this.oneValid)),t.withInvalidListener(new coreutil_v1.ObjectFunction(this,this.oneInvalid)),this.validatorList.add(t),this}oneValid(){let t=!1;this.validatorList.forEach((e,n)=>{if(!e.isValid())return t=!0,!1;return!0},this),t?super.invalid():super.valid()}oneInvalid(){super.invalid()}}class RegexValidator extends AbstractValidator{constructor(t=!1,e="(.*)"){super(t),this.regex=e}validate(t){t&&"string"==typeof t&&t.match(this.regex)?this.valid():this.invalid()}}const EMAIL_FORMAT=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;class EmailValidator extends RegexValidator{constructor(t=!1){super(t,EMAIL_FORMAT)}}class EqualsValidator extends AbstractValidator{constructor(t=!1,e=null){super(t),this.value=e}setValue(t){this.value=t}validate(t){t&&t===this.value?this.valid():this.invalid()}}class OrValidatorSet extends AbstractValidator{constructor(t=!1){super(t),this.validatorList=new coreutil_v1.List}withValidator(t){return t.withValidListener(new coreutil_v1.ObjectFunction(this,this.oneValid)),t.withInvalidListener(new coreutil_v1.ObjectFunction(this,this.oneInvalid)),this.validatorList.add(t),this}oneValid(){super.valid()}oneInvalid(){let t=!1;this.validatorList.forEach((e,n)=>{if(e.isValid())return t=!0,!1;return!0},this),t?super.valid():super.invalid()}}const PASSWORD_FORMAT=/^(?=.*[A-Za-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$/;class PasswordValidator extends RegexValidator{constructor(t=!1){super(t,PASSWORD_FORMAT)}}class RequiredValidator extends AbstractValidator{validate(t){""===t?this.invalid():this.valid()}}exports.AbstractInputElement=AbstractInputElement,exports.AbstractValidator=AbstractValidator,exports.AndValidatorSet=AndValidatorSet,exports.ApplicationStorage=ApplicationStorage,exports.Attribute=Attribute,exports.BaseElement=BaseElement,exports.CanvasRoot=CanvasRoot,exports.CanvasStyles=CanvasStyles,exports.CheckboxInputElement=CheckboxInputElement,exports.Client=Client,exports.Component=Component,exports.ComponentConfigProcessor=ComponentConfigProcessor,exports.ComponentCreatorInstanceProcessor=ComponentCreatorInstanceProcessor,exports.ComponentFactory=ComponentFactory,exports.ContainerBridge=ContainerBridge,exports.ElementMapper=ElementMapper,exports.ElementRegistrator=ElementRegistrator,exports.EmailValidator=EmailValidator,exports.EqualsValidator=EqualsValidator,exports.Event=Event,exports.EventRegistry=EventRegistry,exports.HTML=HTML,exports.History=History,exports.HttpCallBuilder=HttpCallBuilder,exports.HttpResponseHandler=HttpResponseHandler,exports.InputElementDataBinding=InputElementDataBinding,exports.JustrightConfig=JustrightConfig,exports.OrValidatorSet=OrValidatorSet,exports.PasswordValidator=PasswordValidator,exports.ProxyObjectFactory=ProxyObjectFactory,exports.RadioInputElement=RadioInputElement,exports.RegexValidator=RegexValidator,exports.RequiredValidator=RequiredValidator,exports.SessionStorage=SessionStorage,exports.SimpleElement=SimpleElement,exports.State=State,exports.Styles=Styles,exports.StylesLoader=StylesLoader,exports.StylesRegistry=StylesRegistry,exports.Template=Template,exports.TemplateRegistry=TemplateRegistry,exports.TemplatesLoader=TemplatesLoader,exports.TextInputElement=TextInputElement,exports.TextareaInputElement=TextareaInputElement,exports.TextnodeElement=TextnodeElement,exports.UniqueIdRegistry=UniqueIdRegistry,exports.Url=Url;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoianVzdHJpZ2h0X2NvcmVfdjEuanMiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9qdXN0cmlnaHQvYnJpZGdlL2NvbnRhaW5lckJyaWRnZS5qcyIsIi4uLy4uL3NyYy9qdXN0cmlnaHQvZWxlbWVudC9hdHRyaWJ1dGUuanMiLCIuLi8uLi9zcmMvanVzdHJpZ2h0L2VsZW1lbnQvYmFzZUVsZW1lbnQuanMiLCIuLi8uLi9zcmMvanVzdHJpZ2h0L2NhbnZhcy9jYW52YXNSb290LmpzIiwiLi4vLi4vc3JjL2p1c3RyaWdodC9lbGVtZW50L2Fic3RyYWN0SW5wdXRFbGVtZW50LmpzIiwiLi4vLi4vc3JjL2p1c3RyaWdodC9lbGVtZW50L3JhZGlvSW5wdXRFbGVtZW50LmpzIiwiLi4vLi4vc3JjL2p1c3RyaWdodC9lbGVtZW50L2NoZWNrYm94SW5wdXRFbGVtZW50LmpzIiwiLi4vLi4vc3JjL2p1c3RyaWdodC9lbGVtZW50L3RleHRJbnB1dEVsZW1lbnQuanMiLCIuLi8uLi9zcmMvanVzdHJpZ2h0L2VsZW1lbnQvdGV4dGFyZWFJbnB1dEVsZW1lbnQuanMiLCIuLi8uLi9zcmMvanVzdHJpZ2h0L2VsZW1lbnQvdGV4dG5vZGVFbGVtZW50LmpzIiwiLi4vLi4vc3JjL2p1c3RyaWdodC9lbGVtZW50L3NpbXBsZUVsZW1lbnQuanMiLCIuLi8uLi9zcmMvanVzdHJpZ2h0L2VsZW1lbnQvZWxlbWVudE1hcHBlci5qcyIsIi4uLy4uL3NyYy9qdXN0cmlnaHQvaHRtbC9odG1sLmpzIiwiLi4vLi4vc3JjL2p1c3RyaWdodC9jYW52YXMvY2FudmFzU3R5bGVzLmpzIiwiLi4vLi4vc3JjL2p1c3RyaWdodC9jbGllbnQvY2xpZW50LmpzIiwiLi4vLi4vc3JjL2p1c3RyaWdodC9jb21wb25lbnQvY29tcG9uZW50LmpzIiwiLi4vLi4vc3JjL2p1c3RyaWdodC91dGlsL3VybC5qcyIsIi4uLy4uL3NyYy9qdXN0cmlnaHQvc3R5bGVzL3N0eWxlcy5qcyIsIi4uLy4uL3NyYy9qdXN0cmlnaHQvc3R5bGVzL3N0eWxlc1JlZ2lzdHJ5LmpzIiwiLi4vLi4vc3JjL2p1c3RyaWdodC90ZW1wbGF0ZS90ZW1wbGF0ZS5qcyIsIi4uLy4uL3NyYy9qdXN0cmlnaHQvdGVtcGxhdGUvdGVtcGxhdGVSZWdpc3RyeS5qcyIsIi4uLy4uL3NyYy9qdXN0cmlnaHQvdGVtcGxhdGUvdGVtcGxhdGVzTG9hZGVyLmpzIiwiLi4vLi4vc3JjL2p1c3RyaWdodC9zdHlsZXMvc3R5bGVzTG9hZGVyLmpzIiwiLi4vLi4vc3JjL2p1c3RyaWdodC9jb21wb25lbnQvY29tcG9uZW50Q29uZmlnUHJvY2Vzc29yLmpzIiwiLi4vLi4vc3JjL2p1c3RyaWdodC9jb21wb25lbnQvY29tcG9uZW50Q3JlYXRvckluc3RhbmNlUHJvY2Vzc29yLmpzIiwiLi4vLi4vc3JjL2p1c3RyaWdodC9jb21wb25lbnQvdW5pcXVlSWRSZWdpc3RyeS5qcyIsIi4uLy4uL3NyYy9qdXN0cmlnaHQvZXZlbnQvZXZlbnQuanMiLCIuLi8uLi9zcmMvanVzdHJpZ2h0L2V2ZW50L2V2ZW50UmVnaXN0cnkuanMiLCIuLi8uLi9zcmMvanVzdHJpZ2h0L2NvbXBvbmVudC9lbGVtZW50UmVnaXN0cmF0b3IuanMiLCIuLi8uLi9zcmMvanVzdHJpZ2h0L2NvbXBvbmVudC9jb21wb25lbnRGYWN0b3J5LmpzIiwiLi4vLi4vc3JjL2p1c3RyaWdodC9kYXRhQmluZC9pbnB1dEVsZW1lbnREYXRhQmluZGluZy5qcyIsIi4uLy4uL3NyYy9qdXN0cmlnaHQvZGF0YUJpbmQvcHJveHlPYmplY3RGYWN0b3J5LmpzIiwiLi4vLi4vc3JjL2p1c3RyaWdodC9uYXZpZ2F0aW9uL2hpc3RvcnkuanMiLCIuLi8uLi9zcmMvanVzdHJpZ2h0L25hdmlnYXRpb24vc3RhdGUuanMiLCIuLi8uLi9zcmMvanVzdHJpZ2h0L2p1c3RyaWdodENvbmZpZy5qcyIsIi4uLy4uL3NyYy9qdXN0cmlnaHQvc3RvcmFnZS9hcHBsaWNhdGlvblN0b3JhZ2UuanMiLCIuLi8uLi9zcmMvanVzdHJpZ2h0L3N0b3JhZ2Uvc2Vzc2lvblN0b3JhZ2UuanMiLCIuLi8uLi9zcmMvanVzdHJpZ2h0L3V0aWwvaHR0cFJlc3BvbnNlSGFuZGxlci5qcyIsIi4uLy4uL3NyYy9qdXN0cmlnaHQvdXRpbC9odHRwQ2FsbEJ1aWxkZXIuanMiLCIuLi8uLi9zcmMvanVzdHJpZ2h0L3ZhbGlkYXRvci9hYnN0cmFjdFZhbGlkYXRvci5qcyIsIi4uLy4uL3NyYy9qdXN0cmlnaHQvdmFsaWRhdG9yL2FuZFZhbGlkYXRvclNldC5qcyIsIi4uLy4uL3NyYy9qdXN0cmlnaHQvdmFsaWRhdG9yL3JlZ2V4VmFsaWRhdG9yLmpzIiwiLi4vLi4vc3JjL2p1c3RyaWdodC92YWxpZGF0b3IvZW1haWxWYWxpZGF0b3IuanMiLCIuLi8uLi9zcmMvanVzdHJpZ2h0L3ZhbGlkYXRvci9lcXVhbHNWYWxpZGF0b3IuanMiLCIuLi8uLi9zcmMvanVzdHJpZ2h0L3ZhbGlkYXRvci9vclZhbGlkYXRvclNldC5qcyIsIi4uLy4uL3NyYy9qdXN0cmlnaHQvdmFsaWRhdG9yL3Bhc3N3b3JkVmFsaWRhdG9yLmpzIiwiLi4vLi4vc3JjL2p1c3RyaWdodC92YWxpZGF0b3IvcmVxdWlyZWRWYWxpZGF0b3IuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTG9nZ2VyIH0gZnJvbSBcImNvcmV1dGlsX3YxXCI7XHJcblxyXG5jb25zdCBMT0cgPSBuZXcgTG9nZ2VyKFwiQ29udGFpbmVyQnJpZGdlXCIpO1xyXG5cclxuZXhwb3J0IGNsYXNzIENvbnRhaW5lckJyaWRnZSB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBcclxuICAgICAqL1xyXG4gICAgc3RhdGljIGdldEVsZW1lbnRCeUlkKGlkKSB7XHJcbiAgICAgICAgcmV0dXJuIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHZhbGV1IFxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgY3JlYXRlVGV4dE5vZGUodmFsdWUpIHtcclxuICAgICAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodmFsdWUpXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgY3JlYXRlRWxlbWVudChuYW1lKSB7XHJcbiAgICAgICAgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQobmFtZSlcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWVTcGFjZSBcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgY3JlYXRlRWxlbWVudE5TKG5hbWVTcGFjZSwgbmFtZSkge1xyXG4gICAgICAgIHJldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMobmFtZVNwYWNlLCBuYW1lKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVybCBcclxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBwYXJhbXMgXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBmZXRjaCh1cmwsIHBhcmFtcykge1xyXG4gICAgICAgIHJldHVybiB3aW5kb3cuZmV0Y2godXJsLCBwYXJhbXMpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFN0b3JhZ2UgYnJpZGdlXHJcblxyXG4gICAgc3RhdGljIHNldFNlc3Npb25BdHRyaWJ1dGUoa2V5LCB2YWx1ZSkge1xyXG4gICAgICAgIHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5zZXRJdGVtKGtleSx2YWx1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHJlbW92ZVNlc3Npb25BdHRyaWJ1dGUoa2V5KSB7XHJcbiAgICAgICAgd2luZG93LnNlc3Npb25TdG9yYWdlLnJlbW92ZUl0ZW0oa2V5KTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZ2V0U2Vzc2lvbkF0dHJpYnV0ZShrZXkpIHtcclxuICAgICAgICByZXR1cm4gd2luZG93LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oa2V5KTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgaGFzU2Vzc2lvbkF0dHJpYnV0ZShrZXkpIHtcclxuICAgICAgICByZXR1cm4gd2luZG93LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oa2V5KSAhPT0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgc2V0TG9jYWxBdHRyaWJ1dGUoa2V5LCB2YWx1ZSkge1xyXG4gICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShrZXksdmFsdWUpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyByZW1vdmVMb2NhbEF0dHJpYnV0ZShrZXkpIHtcclxuICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oa2V5KTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgaGFzTG9jYWxBdHRyaWJ1dGUoa2V5KSB7XHJcbiAgICAgICAgcmV0dXJuIHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpICE9PSBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBnZXRMb2NhbEF0dHJpYnV0ZShrZXkpIHtcclxuICAgICAgICByZXR1cm4gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHJlbW92ZUVsZW1lbnQoaWQpIHtcclxuICAgICAgICBsZXQgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTtcclxuICAgICAgICBlbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWxlbWVudCk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGFkZEhlYWRlckVsZW1lbnQoZWxlbWVudCkge1xyXG4gICAgICAgIGxldCBoZWFkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImhlYWRcIilbMF07XHJcbiAgICAgICAgaGVhZGVyLmFwcGVuZChlbGVtZW50KTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgYWRkQm9keUVsZW1lbnQoZWxlbWVudCkge1xyXG4gICAgICAgIGxldCBib2R5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJib2R5XCIpWzBdO1xyXG4gICAgICAgIGJvZHkuYXBwZW5kKGVsZW1lbnQpO1xyXG4gICAgfVxyXG5cclxufSIsImV4cG9ydCBjbGFzcyBBdHRyaWJ1dGUge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGF0dHJpYnV0ZSkge1xyXG4gICAgICAgIHRoaXMuYXR0cmlidXRlID0gYXR0cmlidXRlO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFZhbHVlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmF0dHJpYnV0ZS52YWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICBnZXROYW1lKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmF0dHJpYnV0ZS5uYW1lO1xyXG4gICAgfVxyXG5cclxuICAgIGdldE5hbWVzcGFjZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5hdHRyaWJ1dGUubmFtZTtcclxuICAgIH1cclxufSIsIi8qIGpzaGludCBlc3ZlcnNpb246IDYgKi9cblxuaW1wb3J0IHsgWG1sRWxlbWVudCB9IGZyb20gXCJ4bWxwYXJzZXJfdjFcIjtcbmltcG9ydCB7IE1hcCwgTG9nZ2VyLCBMaXN0IH0gZnJvbSBcImNvcmV1dGlsX3YxXCI7XG5pbXBvcnQgeyBBdHRyaWJ1dGUgfSBmcm9tIFwiLi9hdHRyaWJ1dGUuanNcIjtcbmltcG9ydCB7IENvbnRhaW5lckJyaWRnZSB9IGZyb20gXCIuLi9icmlkZ2UvY29udGFpbmVyQnJpZGdlLmpzXCI7XG5cbmNvbnN0IExPRyA9IG5ldyBMb2dnZXIoXCJCYXNlRWxlbWVudFwiKTtcblxuLyoqXG4gKiBBIGJhc2UgY2xhc3MgZm9yIGVuY2xvc2luZyBhbiBIVE1MRWxlbWVudFxuICovXG5leHBvcnQgY2xhc3MgQmFzZUVsZW1lbnQge1xuXG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0b3JcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7WG1sRWxlbWVudHxzdHJpbmd8SFRNTEVsZW1lbnR9IHZhbHVlXG4gICAgICogQHBhcmFtIHtCYXNlRWxlbWVudH0gcGFyZW50XG4gICAgICovXG4gICAgY29uc3RydWN0b3IodmFsdWUsIHBhcmVudCkge1xuICAgICAgICBcbiAgICAgICAgLyoqIEB0eXBlIHtIVE1MRWxlbWVudH0gKi9cbiAgICAgICAgdGhpcy5lbGVtZW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy5hdHRyaWJ1dGVNYXAgPSBudWxsO1xuICAgICAgICB0aGlzLmV2ZW50c0F0dGFjaGVkID0gbmV3IExpc3QoKTtcbiAgICAgICAgXG4gICAgICAgIGlmKHZhbHVlIGluc3RhbmNlb2YgWG1sRWxlbWVudCkge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50ID0gdGhpcy5jcmVhdGVGcm9tWG1sRWxlbWVudCh2YWx1ZSwgcGFyZW50KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZih0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIpe1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50ID0gQ29udGFpbmVyQnJpZGdlLmNyZWF0ZUVsZW1lbnQodmFsdWUpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmKHZhbHVlIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpe1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50ID0gdmFsdWU7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgTE9HLmVycm9yKFwiVW5yZWNvZ25pemVkIHZhbHVlIGZvciBFbGVtZW50XCIpO1xuICAgICAgICBMT0cuZXJyb3IodmFsdWUpO1xuICAgIH1cblxuICAgIGxvYWRBdHRyaWJ1dGVzKCkge1xuICAgICAgICBpZih0aGlzLmVsZW1lbnQuYXR0cmlidXRlcyA9PT0gbnVsbCB8fCB0aGlzLmVsZW1lbnQuYXR0cmlidXRlcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmF0dHJpYnV0ZU1hcCA9IG5ldyBNYXAoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZih0aGlzLmF0dHJpYnV0ZU1hcCA9PT0gbnVsbCB8fCB0aGlzLmF0dHJpYnV0ZU1hcCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmF0dHJpYnV0ZU1hcCA9IG5ldyBNYXAoKTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5lbGVtZW50LmF0dHJpYnV0ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB0aGlzLmF0dHJpYnV0ZU1hcC5zZXQodGhpcy5lbGVtZW50LmF0dHJpYnV0ZXNbaV0ubmFtZSxuZXcgQXR0cmlidXRlKHRoaXMuZWxlbWVudC5hdHRyaWJ1dGVzW2ldKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgYnJvd3NlciBFbGVtZW50IGZyb20gdGhlIFhtbEVsZW1lbnRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7WG1sRWxlbWVudH0geG1sRWxlbWVudFxuICAgICAqIEBwYXJhbSB7QmFzZUVsZW1lbnR9IHBhcmVudEVsZW1lbnRcbiAgICAgKiBAcmV0dXJuIHtIVE1MRWxlbWVudH1cbiAgICAgKi9cbiAgICBjcmVhdGVGcm9tWG1sRWxlbWVudCh4bWxFbGVtZW50LCBwYXJlbnRFbGVtZW50KSB7XG4gICAgICAgIGxldCBlbGVtZW50ID0gbnVsbDtcbiAgICAgICAgaWYoeG1sRWxlbWVudC5nZXROYW1lc3BhY2UoKSl7XG4gICAgICAgICAgICBlbGVtZW50ID0gQ29udGFpbmVyQnJpZGdlLmNyZWF0ZUVsZW1lbnROUyh4bWxFbGVtZW50LmdldE5hbWVzcGFjZVVyaSgpLHhtbEVsZW1lbnQuZ2V0RnVsbE5hbWUoKSk7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgZWxlbWVudCA9IENvbnRhaW5lckJyaWRnZS5jcmVhdGVFbGVtZW50KHhtbEVsZW1lbnQuZ2V0TmFtZSgpKTtcbiAgICAgICAgfVxuICAgICAgICBpZihwYXJlbnRFbGVtZW50ICYmIHBhcmVudEVsZW1lbnQuZ2V0TWFwcGVkRWxlbWVudCgpICE9PSBudWxsKSB7XG4gICAgICAgICAgICBwYXJlbnRFbGVtZW50LmdldE1hcHBlZEVsZW1lbnQoKS5hcHBlbmRDaGlsZChlbGVtZW50KTtcbiAgICAgICAgfVxuICAgICAgICB4bWxFbGVtZW50LmdldEF0dHJpYnV0ZXMoKS5mb3JFYWNoKGZ1bmN0aW9uKGtleSx2YWx1ZSl7XG4gICAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShrZXksdmFsdWUuZ2V0VmFsdWUoKSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEF0dGFjaCBhIGZ1bmN0aW9uIHRvIGFuIGV2ZW50IGluIHRoZSBlbmNsb3NlZCBlbGVtZW50IGlmIG5vbmUgYWxscmVhZHkgZXhpc3RzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnRUeXBlXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gZnVuY3Rpb25QYXJhbVxuICAgICAqL1xuICAgIGF0dGFjaEV2ZW50KGV2ZW50VHlwZSwgZnVuY3Rpb25QYXJhbSkge1xuICAgICAgICBpZighdGhpcy5ldmVudHNBdHRhY2hlZC5jb250YWlucyhldmVudFR5cGUpKSB7XG4gICAgICAgICAgICBpZihldmVudFR5cGUuc3RhcnRzV2l0aChcIm9uXCIpKSB7XG4gICAgICAgICAgICAgICAgZXZlbnRUeXBlID0gZXZlbnRUeXBlLnN1YnN0cigyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKGV2ZW50VHlwZSwgZnVuY3Rpb25QYXJhbSk7XG4gICAgICAgICAgICB0aGlzLmV2ZW50c0F0dGFjaGVkLmFkZChldmVudFR5cGUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgTE9HLndhcm4oXCJFdmVudCAnXCIgKyBldmVudFR5cGUgKyBcIicgYWxscmVhZHkgYXR0YWNoZWQgZm9yIFwiICsgdGhpcy5lbGVtZW50Lm5hbWUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBlbmNsb3NlZCBlbGVtZW50XG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtIVE1MRWxlbWVudH1cbiAgICAgKi9cbiAgICBnZXRNYXBwZWRFbGVtZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50O1xuICAgIH1cblxuICAgIGdldEZ1bGxOYW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50LnRhZ05hbWU7XG4gICAgfVxuXG4gICAgZ2V0VG9wKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcDtcbiAgICB9XG5cbiAgICBnZXRCb3R0b20oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuYm90dG9tO1xuICAgIH1cblxuICAgIGdldExlZnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdDtcbiAgICB9XG5cbiAgICBnZXRSaWdodCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5yaWdodDtcbiAgICB9XG5cbiAgICBnZXRXaWR0aCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudC5vZmZzZXRXaWR0aDtcbiAgICB9XG5cbiAgICBnZXRIZWlnaHQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnQub2Zmc2V0SGVpZ2h0O1xuICAgIH1cblxuICAgIGdldEF0dHJpYnV0ZXMoKSB7XG4gICAgICAgIHRoaXMubG9hZEF0dHJpYnV0ZXMoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXR0cmlidXRlTWFwO1xuICAgIH1cblxuICAgIHNldEF0dHJpYnV0ZVZhbHVlKGtleSx2YWx1ZSkge1xuICAgICAgICB0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKGtleSx2YWx1ZSk7XG4gICAgfVxuXG4gICAgZ2V0QXR0cmlidXRlVmFsdWUoa2V5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnQuZ2V0QXR0cmlidXRlKGtleSk7XG4gICAgfVxuXG4gICAgY29udGFpbnNBdHRyaWJ1dGUoa2V5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnQuaGFzQXR0cmlidXRlKGtleSk7XG4gICAgfVxuXG4gICAgcmVtb3ZlQXR0cmlidXRlKGtleSkge1xuICAgICAgICB0aGlzLmVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKGtleSk7XG4gICAgfVxuXG4gICAgc2V0U3R5bGUoa2V5LHZhbHVlKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZVtrZXldID0gdmFsdWU7XG4gICAgfVxuXG4gICAgZ2V0U3R5bGUoa2V5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnQuc3R5bGVba2V5XTtcbiAgICB9XG5cbiAgICByZW1vdmVTdHlsZShrZXkpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50LnN0eWxlW2tleV0gPSBudWxsO1xuICAgIH1cblxuICAgIHNldChpbnB1dCkge1xuICAgICAgICBpZih0aGlzLmVsZW1lbnQucGFyZW50Tm9kZSA9PT0gbnVsbCl7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiVGhlIGVsZW1lbnQgaGFzIG5vIHBhcmVudCwgY2FuIG5vdCBzd2FwIGl0IGZvciB2YWx1ZVwiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZihpbnB1dC5nZXRNYXBwZWRFbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQoaW5wdXQuZ2V0TWFwcGVkRWxlbWVudCgpLHRoaXMuZWxlbWVudCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYoaW5wdXQgJiYgdHlwZW9mIGlucHV0LmdldFJvb3RFbGVtZW50ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChpbnB1dC5nZXRSb290RWxlbWVudCgpLmdldE1hcHBlZEVsZW1lbnQoKSx0aGlzLmVsZW1lbnQpO1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50ID0gaW5wdXQuZ2V0Um9vdEVsZW1lbnQoKS5nZXRNYXBwZWRFbGVtZW50KCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYodHlwZW9mIGlucHV0ID09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChDb250YWluZXJCcmlkZ2UuY3JlYXRlVGV4dE5vZGUoaW5wdXQpLHRoaXMuZWxlbWVudCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYoaW5wdXQgaW5zdGFuY2VvZiBUZXh0KSB7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQoaW5wdXQsdGhpcy5lbGVtZW50KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZihpbnB1dCBpbnN0YW5jZW9mIEVsZW1lbnQpIHtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChpbnB1dCx0aGlzLmVsZW1lbnQpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaXNNb3VudGVkKCkge1xuICAgICAgICBpZih0aGlzLmVsZW1lbnQucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJlbW92ZSgpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5lbGVtZW50KTtcbiAgICB9XG5cbiAgICBjbGVhcigpIHtcbiAgICAgICAgd2hpbGUgKHRoaXMuZWxlbWVudC5maXJzdENoaWxkKSB7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQucmVtb3ZlQ2hpbGQodGhpcy5lbGVtZW50LmZpcnN0Q2hpbGQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2V0Q2hpbGQoaW5wdXQpIHtcbiAgICAgICAgdGhpcy5jbGVhcigpO1xuICAgICAgICB0aGlzLmFkZENoaWxkKGlucHV0KTtcbiAgICB9XG5cbiAgICBhZGRDaGlsZChpbnB1dCkge1xuICAgICAgICBpZiAoaW5wdXQuZ2V0TWFwcGVkRWxlbWVudCkge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LmFwcGVuZENoaWxkKGlucHV0LmdldE1hcHBlZEVsZW1lbnQoKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlucHV0ICYmIHR5cGVvZiBpbnB1dC5nZXRSb290RWxlbWVudCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQuYXBwZW5kQ2hpbGQoaW5wdXQuZ2V0Um9vdEVsZW1lbnQoKS5nZXRNYXBwZWRFbGVtZW50KCkpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgaW5wdXQgPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LmFwcGVuZENoaWxkKENvbnRhaW5lckJyaWRnZS5jcmVhdGVUZXh0Tm9kZShpbnB1dCkpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbnB1dCBpbnN0YW5jZW9mIFRleHQpIHtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5hcHBlbmRDaGlsZChpbnB1dCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlucHV0IGluc3RhbmNlb2YgRWxlbWVudCkge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LmFwcGVuZENoaWxkKGlucHV0KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByZXBlbmRDaGlsZChpbnB1dCkge1xuICAgICAgICBpZih0aGlzLmVsZW1lbnQuZmlyc3RDaGlsZCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5hZGRDaGlsZChpbnB1dCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlucHV0LmdldE1hcHBlZEVsZW1lbnQpIHtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5pbnNlcnRCZWZvcmUoaW5wdXQuZ2V0TWFwcGVkRWxlbWVudCgpLHRoaXMuZWxlbWVudC5maXJzdENoaWxkKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW5wdXQgJiYgdHlwZW9mIGlucHV0LmdldFJvb3RFbGVtZW50ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5pbnNlcnRCZWZvcmUoaW5wdXQuZ2V0Um9vdEVsZW1lbnQoKS5nZXRNYXBwZWRFbGVtZW50KCksdGhpcy5lbGVtZW50LmZpcnN0Q2hpbGQpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgaW5wdXQgPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50Lmluc2VydEJlZm9yZShDb250YWluZXJCcmlkZ2UuY3JlYXRlVGV4dE5vZGUoaW5wdXQpLHRoaXMuZWxlbWVudC5maXJzdENoaWxkKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW5wdXQgaW5zdGFuY2VvZiBUZXh0KSB7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQuaW5zZXJ0QmVmb3JlKGlucHV0LHRoaXMuZWxlbWVudC5maXJzdENoaWxkKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW5wdXQgaW5zdGFuY2VvZiBFbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQuaW5zZXJ0QmVmb3JlKGlucHV0LHRoaXMuZWxlbWVudC5maXJzdENoaWxkKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCB7IENvbnRhaW5lckJyaWRnZSB9IGZyb20gXCIuLi9icmlkZ2UvY29udGFpbmVyQnJpZGdlXCI7XHJcbmltcG9ydCB7IEJhc2VFbGVtZW50IH0gZnJvbSBcIi4uL2VsZW1lbnQvYmFzZUVsZW1lbnRcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBDYW52YXNSb290IHtcclxuXHJcbiAgICBzdGF0aWMgcmVwbGFjZUNvbXBvbmVudChpZCwgY29tcG9uZW50KSB7XHJcbiAgICAgICAgdmFyIGJvZHlFbGVtZW50ID0gQ29udGFpbmVyQnJpZGdlLmdldEVsZW1lbnRCeUlkKGlkKTtcclxuICAgICAgICBib2R5RWxlbWVudC5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChjb21wb25lbnQuZ2V0Um9vdEVsZW1lbnQoKS5nZXRNYXBwZWRFbGVtZW50KCksIGJvZHlFbGVtZW50KTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgc2V0Q29tcG9uZW50KGlkLCBjb21wb25lbnQpIHtcclxuICAgICAgICB2YXIgYm9keUVsZW1lbnQgPSBDb250YWluZXJCcmlkZ2UuZ2V0RWxlbWVudEJ5SWQoaWQpO1xyXG4gICAgICAgIGJvZHlFbGVtZW50LmlubmVySFRNTCA9ICcnO1xyXG4gICAgICAgIGJvZHlFbGVtZW50LmFwcGVuZENoaWxkKGNvbXBvbmVudC5nZXRSb290RWxlbWVudCgpLmdldE1hcHBlZEVsZW1lbnQoKSwgYm9keUVsZW1lbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBhZGRDaGlsZENvbXBvbmVudChpZCwgY29tcG9uZW50KSB7XHJcbiAgICAgICAgdmFyIGJvZHlFbGVtZW50ID0gQ29udGFpbmVyQnJpZGdlLmdldEVsZW1lbnRCeUlkKGlkKTtcclxuICAgICAgICBib2R5RWxlbWVudC5hcHBlbmRDaGlsZChjb21wb25lbnQuZ2V0Um9vdEVsZW1lbnQoKS5nZXRNYXBwZWRFbGVtZW50KCkpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBhZGRDaGlsZEVsZW1lbnQoaWQsIGVsZW1lbnQpIHtcclxuICAgICAgICB2YXIgYm9keUVsZW1lbnQgPSBDb250YWluZXJCcmlkZ2UuZ2V0RWxlbWVudEJ5SWQoaWQpO1xyXG4gICAgICAgIGJvZHlFbGVtZW50LmFwcGVuZENoaWxkKGVsZW1lbnQuZ2V0TWFwcGVkRWxlbWVudCgpKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgcmVtb3ZlRWxlbWVudChpZCkge1xyXG4gICAgICAgIENvbnRhaW5lckJyaWRnZS5yZW1vdmVFbGVtZW50KGlkKTtcclxuICAgIH1cclxuXHJcbiAgICAvKiogXHJcbiAgICAgKiBAcGFyYW0ge0Jhc2VFbGVtZW50fSBlbGVtZW50XHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBhZGRIZWFkZXJFbGVtZW50KGVsZW1lbnQpIHtcclxuICAgICAgICBDb250YWluZXJCcmlkZ2UuYWRkSGVhZGVyRWxlbWVudChlbGVtZW50LmdldE1hcHBlZEVsZW1lbnQoKSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqIFxyXG4gICAgICogQHBhcmFtIHtCYXNlRWxlbWVudH0gZWxlbWVudFxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgYWRkQm9keUVsZW1lbnQoZWxlbWVudCkge1xyXG4gICAgICAgIENvbnRhaW5lckJyaWRnZS5hZGRCb2R5RWxlbWVudChlbGVtZW50LmdldE1hcHBlZEVsZW1lbnQoKSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBMb2dnZXIgfSBmcm9tIFwiY29yZXV0aWxfdjFcIjtcbmltcG9ydCB7IFhtbEVsZW1lbnQgfSBmcm9tIFwieG1scGFyc2VyX3YxXCI7XG5pbXBvcnQgeyBCYXNlRWxlbWVudCB9IGZyb20gXCIuL2Jhc2VFbGVtZW50LmpzXCI7XG5cblxuY29uc3QgTE9HID0gbmV3IExvZ2dlcihcIkFic3RyYWN0SW5wdXRFbGVtZW50XCIpO1xuXG4vKipcbiAqIFNoYXJlZCBwcm9wZXJ0aWVzIG9mIGlucHV0IGVsZW1lbnRzXG4gKi9cbmV4cG9ydCBjbGFzcyBBYnN0cmFjdElucHV0RWxlbWVudCBleHRlbmRzIEJhc2VFbGVtZW50e1xuXG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0b3JcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7WG1sRWxlbWVudH0gdmFsdWVcbiAgICAgKiBAcGFyYW0ge0Jhc2VFbGVtZW50fSBwYXJlbnRcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcih2YWx1ZSwgcGFyZW50KSB7XG4gICAgICAgIHN1cGVyKHZhbHVlLCBwYXJlbnQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgdmFsdWUgb2YgdGhlIGlucHV0cyBuYW1lXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAgICovXG4gICAgZ2V0TmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudC5uYW1lO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgdmFsdWUgb2YgaW5wdXRzIG5hbWVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICAgICAqL1xuICAgIHNldE5hbWUodmFsdWUpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50Lm5hbWUgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSB2YWx1ZSBnaXZlbiBhbnkgcHJvY2Vzc2luZyBydWxlc1xuICAgICAqL1xuICAgIGdldFZhbHVlKCl7XG4gICAgICAgIHJldHVybiB0aGlzLmdldEJhY2tpbmdWYWx1ZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHNvdXJjZSB2YWx1ZVxuICAgICAqL1xuICAgIGdldEJhY2tpbmdWYWx1ZSgpe1xuICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50LnZhbHVlO1xuICAgIH1cblxuICAgIHNldFZhbHVlKHZhbHVlKXtcbiAgICAgICAgdGhpcy5lbGVtZW50LnZhbHVlID0gdmFsdWU7XG4gICAgfVxuXG4gICAgZm9jdXMoKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudC5mb2N1cygpO1xuICAgIH1cblxuICAgIHNlbGVjdEFsbCgpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50LnNlbGVjdCgpO1xuICAgIH1cblxuICAgIGVuYWJsZSgpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50LmRpc2FibGVkID0gZmFsc2U7XG4gICAgfVxuXG4gICAgZGlzYWJsZSgpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50LmRpc2FibGVkID0gdHJ1ZTtcbiAgICB9XG59XG4iLCIvKiBqc2hpbnQgZXN2ZXJzaW9uOiA2ICovXG5cbmltcG9ydCB7WG1sRWxlbWVudH0gZnJvbSBcInhtbHBhcnNlcl92MVwiO1xuaW1wb3J0IHtBYnN0cmFjdElucHV0RWxlbWVudH0gZnJvbSBcIi4vYWJzdHJhY3RJbnB1dEVsZW1lbnQuanNcIjtcbmltcG9ydCB7IEJhc2VFbGVtZW50IH0gZnJvbSBcIi4vYmFzZUVsZW1lbnQuanNcIjtcblxuZXhwb3J0IGNsYXNzIFJhZGlvSW5wdXRFbGVtZW50IGV4dGVuZHMgQWJzdHJhY3RJbnB1dEVsZW1lbnR7XG5cbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RvclxuICAgICAqXG4gICAgICogQHBhcmFtIHtYbWxFbGVtZW50fSBlbGVtZW50IFxuICAgICAqIEBwYXJhbSB7QmFzZUVsZW1lbnR9IHBhcmVudCBcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50LCBwYXJlbnQpIHtcbiAgICAgICAgc3VwZXIoZWxlbWVudCwgcGFyZW50KTtcbiAgICB9XG5cbiAgICBzZXRDaGVja2VkKHZhbHVlKXtcbiAgICAgICAgdGhpcy5lbGVtZW50LmNoZWNrZWQgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBpc0NoZWNrZWQoKXtcbiAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudC5jaGVja2VkO1xuICAgIH1cblxuICAgIGdldFZhbHVlKCkge1xuICAgICAgICBpZih0aGlzLmlzQ2hlY2tlZCgpKSB7XG4gICAgICAgICAgICByZXR1cm4gc3VwZXIuZ2V0VmFsdWUoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59XG4iLCIvKiBqc2hpbnQgZXN2ZXJzaW9uOiA2ICovXG5cbmltcG9ydCB7IFhtbEVsZW1lbnQgfSBmcm9tIFwieG1scGFyc2VyX3YxXCI7XG5pbXBvcnQgeyBBYnN0cmFjdElucHV0RWxlbWVudCB9IGZyb20gXCIuL2Fic3RyYWN0SW5wdXRFbGVtZW50LmpzXCI7XG5pbXBvcnQgeyBCYXNlRWxlbWVudCB9IGZyb20gXCIuL2Jhc2VFbGVtZW50LmpzXCI7XG5cbmV4cG9ydCBjbGFzcyBDaGVja2JveElucHV0RWxlbWVudCBleHRlbmRzIEFic3RyYWN0SW5wdXRFbGVtZW50e1xuXG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0b3JcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7WG1sRWxlbWVudH0gZWxlbWVudCBcbiAgICAgKiBAcGFyYW0ge0Jhc2VFbGVtZW50fSBwYXJlbnQgXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoZWxlbWVudCwgcGFyZW50KSB7XG4gICAgICAgIHN1cGVyKGVsZW1lbnQsIHBhcmVudCk7XG4gICAgfVxuXG4gICAgc2V0Q2hlY2tlZCh2YWx1ZSl7XG4gICAgICAgIHRoaXMuZWxlbWVudC5jaGVja2VkID0gdmFsdWU7XG4gICAgfVxuXG4gICAgaXNDaGVja2VkKCl7XG4gICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnQuY2hlY2tlZDtcbiAgICB9XG5cbiAgICBnZXRWYWx1ZSgpIHtcbiAgICAgICAgaWYodGhpcy5pc0NoZWNrZWQoKSkge1xuICAgICAgICAgICAgcmV0dXJuIHN1cGVyLmdldFZhbHVlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxufVxuIiwiLyoganNoaW50IGVzdmVyc2lvbjogNiAqL1xuXG5pbXBvcnQge1htbEVsZW1lbnR9IGZyb20gXCJ4bWxwYXJzZXJfdjFcIjtcbmltcG9ydCB7QWJzdHJhY3RJbnB1dEVsZW1lbnR9IGZyb20gXCIuL2Fic3RyYWN0SW5wdXRFbGVtZW50LmpzXCI7XG5pbXBvcnQgeyBCYXNlRWxlbWVudCB9IGZyb20gXCIuL2Jhc2VFbGVtZW50LmpzXCI7XG5cbmV4cG9ydCBjbGFzcyBUZXh0SW5wdXRFbGVtZW50IGV4dGVuZHMgQWJzdHJhY3RJbnB1dEVsZW1lbnR7XG5cbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RvclxuICAgICAqXG4gICAgICogQHBhcmFtIHtYbWxFbGVtZW50fSBlbGVtZW50IFxuICAgICAqIEBwYXJhbSB7QmFzZUVsZW1lbnR9IHBhcmVudCBcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50LCBwYXJlbnQpIHtcbiAgICAgICAgc3VwZXIoZWxlbWVudCwgcGFyZW50KTtcbiAgICB9XG5cbn1cbiIsIi8qIGpzaGludCBlc3ZlcnNpb246IDYgKi9cblxuaW1wb3J0IHtYbWxFbGVtZW50fSBmcm9tIFwieG1scGFyc2VyX3YxXCI7XG5pbXBvcnQge0Fic3RyYWN0SW5wdXRFbGVtZW50fSBmcm9tIFwiLi9hYnN0cmFjdElucHV0RWxlbWVudC5qc1wiO1xuaW1wb3J0IHsgQmFzZUVsZW1lbnQgfSBmcm9tIFwiLi9iYXNlRWxlbWVudC5qc1wiO1xuXG5leHBvcnQgY2xhc3MgVGV4dGFyZWFJbnB1dEVsZW1lbnQgZXh0ZW5kcyBBYnN0cmFjdElucHV0RWxlbWVudHtcblxuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdG9yXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1htbEVsZW1lbnR9IGVsZW1lbnQgXG4gICAgICogQHBhcmFtIHtCYXNlRWxlbWVudH0gcGFyZW50IFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQsIHBhcmVudCkge1xuICAgICAgICBzdXBlcihlbGVtZW50LCBwYXJlbnQpO1xuICAgIH1cblxuICAgIGdldElubmVySFRNTCgpe1xuICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50LmlubmVySFRNTDtcbiAgICB9XG5cbiAgICBzZXRJbm5lckhUTUwodmFsdWUpe1xuICAgICAgICB0aGlzLmVsZW1lbnQuaW5uZXJIVE1MID0gdmFsdWU7XG4gICAgfVxuXG4gICAgYWRkQ2hpbGQoaW5wdXQpIHtcbiAgICAgICAgc3VwZXIuYWRkQ2hpbGQoaW5wdXQpO1xuICAgICAgICB0aGlzLnNldFZhbHVlKHRoaXMuZ2V0SW5uZXJIVE1MKCkpO1xuICAgIH1cblxuICAgIHByZXBlbmRDaGlsZChpbnB1dCkge1xuICAgICAgICBzdXBlci5wcmVwZW5kQ2hpbGQoaW5wdXQpO1xuICAgICAgICB0aGlzLnNldFZhbHVlKHRoaXMuZ2V0SW5uZXJIVE1MKCkpO1xuICAgIH1cblxufVxuIiwiaW1wb3J0IHtYbWxDZGF0YX0gZnJvbSBcInhtbHBhcnNlcl92MVwiO1xuaW1wb3J0IHsgQmFzZUVsZW1lbnQgfSBmcm9tIFwiLi9iYXNlRWxlbWVudC5qc1wiO1xuaW1wb3J0IHsgQ29udGFpbmVyQnJpZGdlIH0gZnJvbSBcIi4uL2JyaWRnZS9jb250YWluZXJCcmlkZ2UuanNcIjtcblxuZXhwb3J0IGNsYXNzIFRleHRub2RlRWxlbWVudCB7XG5cbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RvclxuICAgICAqXG4gICAgICogQHBhcmFtIHtYbWxDZGF0YX0gdmFsdWUgXG4gICAgICogQHBhcmFtIHtCYXNlRWxlbWVudH0gcGFyZW50IFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHZhbHVlLCBwYXJlbnQpIHtcbiAgICAgICAgaWYodmFsdWUgaW5zdGFuY2VvZiBYbWxDZGF0YSkge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50ID0gdGhpcy5jcmVhdGVGcm9tWG1sQ2RhdGEodmFsdWUsIHBhcmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYodHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiKXtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudCA9IENvbnRhaW5lckJyaWRnZS5jcmVhdGVUZXh0Tm9kZSh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjcmVhdGVGcm9tWG1sQ2RhdGEoY2RhdGFFbGVtZW50LCBwYXJlbnRFbGVtZW50KSB7XG4gICAgICAgIGxldCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY2RhdGFFbGVtZW50LmdldFZhbHVlKCkpO1xuICAgICAgICBpZihwYXJlbnRFbGVtZW50ICE9PSBudWxsICYmIHBhcmVudEVsZW1lbnQuZ2V0TWFwcGVkRWxlbWVudCgpICE9PSBudWxsKSB7XG4gICAgICAgICAgICBwYXJlbnRFbGVtZW50LmdldE1hcHBlZEVsZW1lbnQoKS5hcHBlbmRDaGlsZChlbGVtZW50KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICB9XG5cbiAgICBzZXRWYWx1ZSh2YWx1ZSkge1xuICAgICAgICB0aGlzLmVsZW1lbnQgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBnZXRWYWx1ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudDtcbiAgICB9XG5cbiAgICBnZXRNYXBwZWRFbGVtZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50O1xuICAgIH1cblxufVxuIiwiLyoganNoaW50IGVzdmVyc2lvbjogNiAqL1xuXG5pbXBvcnQge1htbEVsZW1lbnR9IGZyb20gXCJ4bWxwYXJzZXJfdjFcIjtcbmltcG9ydCB7QWJzdHJhY3RJbnB1dEVsZW1lbnR9IGZyb20gXCIuL2Fic3RyYWN0SW5wdXRFbGVtZW50LmpzXCI7XG5pbXBvcnQgeyBCYXNlRWxlbWVudCB9IGZyb20gXCIuL2Jhc2VFbGVtZW50LmpzXCI7XG5cbmV4cG9ydCBjbGFzcyBTaW1wbGVFbGVtZW50IGV4dGVuZHMgQmFzZUVsZW1lbnR7XG5cbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RvclxuICAgICAqXG4gICAgICogQHBhcmFtIHtYbWxFbGVtZW50fSBlbGVtZW50IFxuICAgICAqIEBwYXJhbSB7QmFzZUVsZW1lbnR9IHBhcmVudCBcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50LCBwYXJlbnQpIHtcbiAgICAgICAgc3VwZXIoZWxlbWVudCwgcGFyZW50KTtcbiAgICB9XG5cbiAgICBnZXRJbm5lckhUTUwoKXtcbiAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudC5pbm5lckhUTUw7XG4gICAgfVxuXG4gICAgc2V0SW5uZXJIVE1MKHZhbHVlKXtcbiAgICAgICAgdGhpcy5lbGVtZW50LmlubmVySFRNTCA9IHZhbHVlO1xuICAgIH1cblxufVxuIiwiLyoganNoaW50IGVzdmVyc2lvbjogNiAqL1xuXG5pbXBvcnQge1htbENkYXRhLFhtbEVsZW1lbnR9IGZyb20gXCJ4bWxwYXJzZXJfdjFcIjtcbmltcG9ydCB7UmFkaW9JbnB1dEVsZW1lbnR9IGZyb20gXCIuL3JhZGlvSW5wdXRFbGVtZW50LmpzXCI7XG5pbXBvcnQge0NoZWNrYm94SW5wdXRFbGVtZW50fSBmcm9tIFwiLi9jaGVja2JveElucHV0RWxlbWVudC5qc1wiO1xuaW1wb3J0IHtUZXh0SW5wdXRFbGVtZW50fSBmcm9tIFwiLi90ZXh0SW5wdXRFbGVtZW50LmpzXCI7XG5pbXBvcnQge1RleHRhcmVhSW5wdXRFbGVtZW50fSBmcm9tIFwiLi90ZXh0YXJlYUlucHV0RWxlbWVudC5qc1wiO1xuaW1wb3J0IHtUZXh0bm9kZUVsZW1lbnR9IGZyb20gXCIuL3RleHRub2RlRWxlbWVudC5qc1wiO1xuaW1wb3J0IHtTaW1wbGVFbGVtZW50fSBmcm9tIFwiLi9zaW1wbGVFbGVtZW50LmpzXCI7XG5pbXBvcnQgeyBCYXNlRWxlbWVudCB9IGZyb20gXCIuL2Jhc2VFbGVtZW50LmpzXCI7XG5cbmV4cG9ydCBjbGFzcyBFbGVtZW50TWFwcGVyIHtcblxuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdG9yXG4gICAgICogXG4gICAgICogQHBhcmFtIHthbnl9IGlucHV0IFxuICAgICAqIEBwYXJhbSB7QmFzZUVsZW1lbnR9IHBhcmVudCBcbiAgICAgKi9cbiAgICBzdGF0aWMgbWFwKGlucHV0LCBwYXJlbnQpIHtcbiAgICAgICAgaWYgKEVsZW1lbnRNYXBwZXIubWFwc1RvUmFkaW8oaW5wdXQpKXsgcmV0dXJuIG5ldyBSYWRpb0lucHV0RWxlbWVudChpbnB1dCwgcGFyZW50KTsgfVxuICAgICAgICBpZiAoRWxlbWVudE1hcHBlci5tYXBzVG9DaGVja2JveChpbnB1dCkpeyByZXR1cm4gbmV3IENoZWNrYm94SW5wdXRFbGVtZW50KGlucHV0LCBwYXJlbnQpOyB9XG4gICAgICAgIGlmIChFbGVtZW50TWFwcGVyLm1hcHNUb1N1Ym1pdChpbnB1dCkpeyByZXR1cm4gbmV3IFRleHRJbnB1dEVsZW1lbnQoaW5wdXQsIHBhcmVudCk7IH1cbiAgICAgICAgaWYgKEVsZW1lbnRNYXBwZXIubWFwc1RvVGV4dGFyZWEoaW5wdXQpKXsgcmV0dXJuIG5ldyBUZXh0YXJlYUlucHV0RWxlbWVudChpbnB1dCwgcGFyZW50KTsgfVxuICAgICAgICBpZiAoRWxlbWVudE1hcHBlci5tYXBzVG9UZXh0KGlucHV0KSl7IHJldHVybiBuZXcgVGV4dElucHV0RWxlbWVudChpbnB1dCwgcGFyZW50KTsgfVxuICAgICAgICBpZiAoRWxlbWVudE1hcHBlci5tYXBzVG9UZXh0bm9kZShpbnB1dCkpeyByZXR1cm4gbmV3IFRleHRub2RlRWxlbWVudChpbnB1dCwgcGFyZW50KTsgfVxuICAgICAgICBpZiAoRWxlbWVudE1hcHBlci5tYXBzVG9TaW1wbGUoaW5wdXQpKXsgcmV0dXJuIG5ldyBTaW1wbGVFbGVtZW50KGlucHV0LCBwYXJlbnQpOyB9XG4gICAgICAgIGNvbnNvbGUubG9nKFwiTWFwcGluZyB0byBzaW1wbGUgYnkgZGVmYXVsdCBcIiArIGlucHV0KTtcbiAgICAgICAgcmV0dXJuIG5ldyBTaW1wbGVFbGVtZW50KGlucHV0LCBwYXJlbnQpO1xuICAgIH1cblxuICAgIHN0YXRpYyBtYXBzVG9SYWRpbyhpbnB1dCl7XG4gICAgICAgIHJldHVybiAoaW5wdXQgaW5zdGFuY2VvZiBIVE1MSW5wdXRFbGVtZW50ICYmIGlucHV0LnR5cGUgPT09IFwicmFkaW9cIikgfHxcbiAgICAgICAgICAgIChpbnB1dCBpbnN0YW5jZW9mIFhtbEVsZW1lbnQgJiYgaW5wdXQuZ2V0TmFtZSgpID09PSBcImlucHV0XCIgJiYgaW5wdXQuZ2V0QXR0cmlidXRlKFwidHlwZVwiKS5nZXRWYWx1ZSgpID09PSBcInJhZGlvXCIpO1xuICAgIH1cblxuICAgIHN0YXRpYyBtYXBzVG9DaGVja2JveChpbnB1dCl7XG4gICAgICAgIHJldHVybiAoaW5wdXQgaW5zdGFuY2VvZiBIVE1MSW5wdXRFbGVtZW50ICYmIGlucHV0LnR5cGUgPT09IFwiY2hlY2tib3hcIikgfHxcbiAgICAgICAgICAgIChpbnB1dCBpbnN0YW5jZW9mIFhtbEVsZW1lbnQgJiYgaW5wdXQuZ2V0TmFtZSgpID09PSBcImlucHV0XCIgJiYgaW5wdXQuZ2V0QXR0cmlidXRlKFwidHlwZVwiKS5nZXRWYWx1ZSgpID09PSBcImNoZWNrYm94XCIpO1xuICAgIH1cblxuICAgIHN0YXRpYyBtYXBzVG9TdWJtaXQoaW5wdXQpe1xuICAgICAgICByZXR1cm4gKGlucHV0IGluc3RhbmNlb2YgSFRNTElucHV0RWxlbWVudCAmJiBpbnB1dC50eXBlID09PSBcInN1Ym1pdFwiKSB8fFxuICAgICAgICAgICAgKGlucHV0IGluc3RhbmNlb2YgWG1sRWxlbWVudCAmJiBpbnB1dC5nZXROYW1lKCkgPT09IFwiaW5wdXRcIiAmJiBpbnB1dC5nZXRBdHRyaWJ1dGUoXCJ0eXBlXCIpLmdldFZhbHVlKCkgPT09IFwic3VibWl0XCIpO1xuICAgIH1cblxuICAgIHN0YXRpYyBtYXBzVG9UZXh0KGlucHV0KXtcbiAgICAgICAgaWYgKGlucHV0IGluc3RhbmNlb2YgSFRNTElucHV0RWxlbWVudCkge1xuICAgICAgICAgICAgaWYgKGlucHV0LnR5cGUgPT09IFwidGV4dFwiKSB7IHJldHVybiB0cnVlOyB9XG4gICAgICAgICAgICBpZiAoaW5wdXQudHlwZSA9PT0gXCJwYXNzd29yZFwiKSB7IHJldHVybiB0cnVlOyB9XG4gICAgICAgICAgICBpZiAoaW5wdXQudHlwZSA9PT0gXCJlbWFpbFwiKSB7IHJldHVybiB0cnVlOyB9XG4gICAgICAgICAgICBpZiAoaW5wdXQudHlwZSA9PT0gXCJkYXRlXCIpIHsgcmV0dXJuIHRydWU7IH1cbiAgICAgICAgICAgIGlmIChpbnB1dC50eXBlID09PSBcInRpbWVcIikgeyByZXR1cm4gdHJ1ZTsgfVxuICAgICAgICB9XG4gICAgICAgIGlmKGlucHV0IGluc3RhbmNlb2YgWG1sRWxlbWVudCAmJiBpbnB1dC5nZXROYW1lKCkgPT09IFwiaW5wdXRcIikge1xuICAgICAgICAgICAgaWYoaW5wdXQuZ2V0QXR0cmlidXRlKFwidHlwZVwiKS5nZXRWYWx1ZSgpID09PSBcInRleHRcIikgeyByZXR1cm4gdHJ1ZTsgfVxuICAgICAgICAgICAgaWYoaW5wdXQuZ2V0QXR0cmlidXRlKFwidHlwZVwiKS5nZXRWYWx1ZSgpID09PSBcInBhc3N3b3JkXCIpIHsgcmV0dXJuIHRydWU7IH1cbiAgICAgICAgICAgIGlmKGlucHV0LmdldEF0dHJpYnV0ZShcInR5cGVcIikuZ2V0VmFsdWUoKSA9PT0gXCJlbWFpbFwiKSB7IHJldHVybiB0cnVlOyB9XG4gICAgICAgICAgICBpZihpbnB1dC5nZXRBdHRyaWJ1dGUoXCJ0eXBlXCIpLmdldFZhbHVlKCkgPT09IFwiZGF0ZVwiKSB7IHJldHVybiB0cnVlOyB9XG4gICAgICAgICAgICBpZihpbnB1dC5nZXRBdHRyaWJ1dGUoXCJ0eXBlXCIpLmdldFZhbHVlKCkgPT09IFwidGltZVwiKSB7IHJldHVybiB0cnVlOyB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHN0YXRpYyBtYXBzVG9UZXh0bm9kZShpbnB1dCl7XG4gICAgICAgIHJldHVybiAoaW5wdXQgaW5zdGFuY2VvZiBOb2RlICYmIGlucHV0Lm5vZGVUeXBlID09PSBcIlRFWFRfTk9ERVwiKSB8fFxuICAgICAgICAgICAgKGlucHV0IGluc3RhbmNlb2YgWG1sQ2RhdGEpO1xuICAgIH1cblxuICAgIHN0YXRpYyBtYXBzVG9UZXh0YXJlYShpbnB1dCl7XG4gICAgICAgIHJldHVybiAoaW5wdXQgaW5zdGFuY2VvZiBIVE1MVGV4dEFyZWFFbGVtZW50KSB8fFxuICAgICAgICAgICAgKGlucHV0IGluc3RhbmNlb2YgWG1sRWxlbWVudCAmJiBpbnB1dC5nZXROYW1lKCkgPT09IFwidGV4dGFyZWFcIik7XG4gICAgfVxuXG4gICAgc3RhdGljIG1hcHNUb1NpbXBsZShpbnB1dCl7XG4gICAgICAgIHJldHVybiAoaW5wdXQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkgfHxcbiAgICAgICAgICAgIChpbnB1dCBpbnN0YW5jZW9mIFhtbEVsZW1lbnQpO1xuICAgIH1cbn1cbiIsIi8qIGpzaGludCBlc3ZlcnNpb246IDYgKi9cblxuaW1wb3J0IHtYbWxFbGVtZW50fSBmcm9tIFwieG1scGFyc2VyX3YxXCI7XG5pbXBvcnQge0VsZW1lbnRNYXBwZXJ9IGZyb20gXCIuLi9lbGVtZW50L2VsZW1lbnRNYXBwZXIuanNcIjtcblxuZXhwb3J0IGNsYXNzIEhUTUx7XG5cbiAgICBzdGF0aWMgY3VzdG9tKGVsZW1lbnROYW1lKXtcbiAgICAgICAgdmFyIHhtbEVsZW1lbnQgPSBuZXcgWG1sRWxlbWVudChlbGVtZW50TmFtZSk7XG4gICAgICAgIHJldHVybiBFbGVtZW50TWFwcGVyLm1hcCh4bWxFbGVtZW50KTtcbiAgICB9XG5cbiAgICBzdGF0aWMgYXBwbHlTdHlsZXMoZWxlbWVudCxjbGFzc1ZhbHVlLHN0eWxlVmFsdWUpe1xuICAgICAgICBpZihjbGFzc1ZhbHVlICE9PSBudWxsKXtcbiAgICAgICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlVmFsdWUoXCJjbGFzc1wiLGNsYXNzVmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmKHN0eWxlVmFsdWUgIT09IG51bGwpe1xuICAgICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGVWYWx1ZShcInN0eWxlXCIsc3R5bGVWYWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgYShuYW1lLGhyZWYsY2xhc3NWYWx1ZSxzdHlsZVZhbHVlKXtcbiAgICAgICAgdmFyIGVsZW1lbnQgPSBIVE1MLmN1c3RvbShcImFcIik7XG4gICAgICAgIGVsZW1lbnQuYWRkQ2hpbGQobmFtZSk7XG4gICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlVmFsdWUoXCJocmVmXCIsaHJlZik7XG4gICAgICAgIEhUTUwuYXBwbHlTdHlsZXMoZWxlbWVudCxjbGFzc1ZhbHVlLHN0eWxlVmFsdWUpO1xuICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBNYXAsIExpc3QsIExvZ2dlciB9IGZyb20gXCJjb3JldXRpbF92MVwiO1xyXG5pbXBvcnQgeyBDYW52YXNSb290IH0gZnJvbSBcIi4vY2FudmFzUm9vdFwiO1xyXG5pbXBvcnQgeyBIVE1MIH0gZnJvbSBcIi4uL2h0bWwvaHRtbFwiO1xyXG5pbXBvcnQgeyBCYXNlRWxlbWVudCB9IGZyb20gXCIuLi9lbGVtZW50L2Jhc2VFbGVtZW50XCI7XHJcbmltcG9ydCB7IFRleHRub2RlRWxlbWVudCB9IGZyb20gXCIuLi9lbGVtZW50L3RleHRub2RlRWxlbWVudFwiO1xyXG5cclxuY29uc3QgTE9HID0gbmV3IExvZ2dlcihcIkNhbnZhc1N0eWxlc1wiKTtcclxuXHJcbmNvbnN0IHN0eWxlcyA9IG5ldyBNYXAoKTtcclxuY29uc3QgZW5hYmxlZFN0eWxlcyA9IG5ldyBMaXN0KCk7XHJcblxyXG5leHBvcnQgY2xhc3MgQ2FudmFzU3R5bGVzIHtcclxuXHJcbiAgICBzdGF0aWMgc2V0U3R5bGUobmFtZSwgc291cmNlKSB7XHJcbiAgICAgICAgaWYoc3R5bGVzLmNvbnRhaW5zKG5hbWUpKSB7XHJcbiAgICAgICAgICAgIHN0eWxlcy5nZXQobmFtZSkuc2V0Q2hpbGQobmV3IFRleHRub2RlRWxlbWVudChzb3VyY2UuZ2V0U3R5bGVzU291cmNlKCkpKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvKiogQHR5cGUge0Jhc2VFbGVtZW50fSAqL1xyXG4gICAgICAgICAgICBsZXQgc3R5bGVFbGVtZW50ID0gSFRNTC5jdXN0b20oXCJzdHlsZVwiKTtcclxuICAgICAgICAgICAgc3R5bGVFbGVtZW50LnNldEF0dHJpYnV0ZVZhbHVlKFwiaWRcIixuYW1lKTtcclxuICAgICAgICAgICAgc3R5bGVFbGVtZW50LnNldENoaWxkKG5ldyBUZXh0bm9kZUVsZW1lbnQoc291cmNlLmdldFN0eWxlc1NvdXJjZSgpKSk7XHJcbiAgICAgICAgICAgIHN0eWxlcy5zZXQobmFtZSwgc3R5bGVFbGVtZW50KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHJlbW92ZVN0eWxlKG5hbWUpIHtcclxuICAgICAgICBpZihlbmFibGVkU3R5bGVzLmNvbnRhaW5zKG5hbWUpKSB7XHJcbiAgICAgICAgICAgIENhbnZhc1N0eWxlcy5kaXNhYmxlU3R5bGUobmFtZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHN0eWxlcy5yZW1vdmUobmFtZSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGRpc2FibGVTdHlsZShuYW1lKSB7XHJcbiAgICAgICAgaWYoIXN0eWxlcy5jb250YWlucyhuYW1lKSkge1xyXG4gICAgICAgICAgICBMT0cuZXJyb3IoXCJTdHlsZSBkb2VzIG5vdCBleGlzdDogXCIgKyBuYW1lKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZihlbmFibGVkU3R5bGVzLmNvbnRhaW5zKG5hbWUpKSB7XHJcbiAgICAgICAgICAgIGVuYWJsZWRTdHlsZXMucmVtb3ZlKG5hbWUpO1xyXG4gICAgICAgICAgICBDYW52YXNSb290LnJlbW92ZUVsZW1lbnQobmFtZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBlbmFibGVTdHlsZShuYW1lKSB7XHJcbiAgICAgICAgaWYoIXN0eWxlcy5jb250YWlucyhuYW1lKSkge1xyXG4gICAgICAgICAgICBMT0cuZXJyb3IoXCJTdHlsZSBkb2VzIG5vdCBleGlzdDogXCIgKyBuYW1lKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZighZW5hYmxlZFN0eWxlcy5jb250YWlucyhuYW1lKSkge1xyXG4gICAgICAgICAgICBlbmFibGVkU3R5bGVzLmFkZChuYW1lKTtcclxuICAgICAgICAgICAgQ2FudmFzUm9vdC5hZGRIZWFkZXJFbGVtZW50KHN0eWxlcy5nZXQobmFtZSkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImltcG9ydCB7IENvbnRhaW5lckJyaWRnZSB9IGZyb20gXCIuLi9icmlkZ2UvY29udGFpbmVyQnJpZGdlXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQ2xpZW50IHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVybCBcclxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPFJlc3BvbnNlPn1cclxuICAgICAqL1xyXG4gICAgc3RhdGljIGdldCh1cmwpe1xyXG4gICAgICAgIHZhciBwYXJhbXMgPSAge1xyXG4gICAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxyXG4gICAgICAgICAgICBtb2RlOiAnY29ycycsIC8vIG5vLWNvcnMsIGNvcnMsICpzYW1lLW9yaWdpblxyXG4gICAgICAgICAgICByZWRpcmVjdDogJ2ZvbGxvdycgLy8gbWFudWFsLCAqZm9sbG93LCBlcnJvclxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gQ29udGFpbmVyQnJpZGdlLmZldGNoKHVybC50b1N0cmluZygpLHBhcmFtcyk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZGF0YVxyXG4gICAgICogQHJldHVybnMge1Byb21pc2U8UmVzcG9uc2U+fVxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgcG9zdCh1cmwsIGRhdGEpe1xyXG4gICAgICAgIHZhciBwYXJhbXMgPSAge1xyXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKSwgLy8gbXVzdCBtYXRjaCAnQ29udGVudC1UeXBlJyBoZWFkZXJcclxuICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgXCJ1c2VyLWFnZW50XCI6IFwiTW96aWxsYS80LjAgTUROIEV4YW1wbGVcIixcclxuICAgICAgICAgICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgIG1vZGU6IFwiY29yc1wiLCAvLyBuby1jb3JzLCBjb3JzLCAqc2FtZS1vcmlnaW5cclxuICAgICAgICAgICAgcmVkaXJlY3Q6IFwiZm9sbG93XCIsIC8vIG1hbnVhbCwgKmZvbGxvdywgZXJyb3JcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIENvbnRhaW5lckJyaWRnZS5mZXRjaCh1cmwudG9TdHJpbmcoKSwgcGFyYW1zKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVybCBcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBkYXRhXHJcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxSZXNwb25zZT59XHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBwdXQodXJsLCBkYXRhKXtcclxuICAgICAgICB2YXIgcGFyYW1zID0gIHtcclxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSksIC8vIG11c3QgbWF0Y2ggJ0NvbnRlbnQtVHlwZScgaGVhZGVyXHJcbiAgICAgICAgICAgIG1ldGhvZDogJ1BVVCcsIFxyXG4gICAgICAgICAgICBtb2RlOiAnY29ycycsIC8vIG5vLWNvcnMsIGNvcnMsICpzYW1lLW9yaWdpblxyXG4gICAgICAgICAgICByZWRpcmVjdDogJ2ZvbGxvdycsIC8vIG1hbnVhbCwgKmZvbGxvdywgZXJyb3JcclxuICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgJ3VzZXItYWdlbnQnOiAnTW96aWxsYS80LjAgTUROIEV4YW1wbGUnLFxyXG4gICAgICAgICAgICAgICAgJ2NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBDb250YWluZXJCcmlkZ2UuZmV0Y2godXJsLnRvU3RyaW5nKCksIHBhcmFtcyk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZGF0YVxyXG4gICAgICogQHJldHVybnMge1Byb21pc2U8UmVzcG9uc2U+fVxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgcGF0Y2godXJsLCBkYXRhKXtcclxuICAgICAgICB2YXIgcGFyYW1zID0gIHtcclxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSksIC8vIG11c3QgbWF0Y2ggJ0NvbnRlbnQtVHlwZScgaGVhZGVyXHJcbiAgICAgICAgICAgIG1ldGhvZDogJ1BBVENIJywgXHJcbiAgICAgICAgICAgIG1vZGU6ICdjb3JzJywgLy8gbm8tY29ycywgY29ycywgKnNhbWUtb3JpZ2luXHJcbiAgICAgICAgICAgIHJlZGlyZWN0OiAnZm9sbG93JywgLy8gbWFudWFsLCAqZm9sbG93LCBlcnJvclxyXG4gICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICAndXNlci1hZ2VudCc6ICdNb3ppbGxhLzQuMCBNRE4gRXhhbXBsZScsXHJcbiAgICAgICAgICAgICAgICAnY29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIENvbnRhaW5lckJyaWRnZS5mZXRjaCh1cmwudG9TdHJpbmcoKSwgcGFyYW1zKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVybFxyXG4gICAgICogQHJldHVybnMge1Byb21pc2U8UmVzcG9uc2U+fVxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgZGVsZXRlKHVybCl7XHJcbiAgICAgICAgdmFyIHBhcmFtcyA9ICB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogJ0RFTEVURScsXHJcbiAgICAgICAgICAgIG1vZGU6ICdjb3JzJywgLy8gbm8tY29ycywgY29ycywgKnNhbWUtb3JpZ2luXHJcbiAgICAgICAgICAgIHJlZGlyZWN0OiAnZm9sbG93JyAvLyBtYW51YWwsICpmb2xsb3csIGVycm9yXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBDb250YWluZXJCcmlkZ2UuZmV0Y2godXJsLnRvU3RyaW5nKCksIHBhcmFtcyk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBNYXAgfSBmcm9tIFwiY29yZXV0aWxfdjFcIjtcclxuaW1wb3J0IHsgQmFzZUVsZW1lbnQgfSBmcm9tIFwiLi4vZWxlbWVudC9iYXNlRWxlbWVudFwiO1xyXG5cclxuLyoganNoaW50IGVzdmVyc2lvbjogNiAqL1xyXG5cclxuZXhwb3J0IGNsYXNzIENvbXBvbmVudCB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBcclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjb21wb25lbnRJbmRleCBcclxuICAgICAqIEBwYXJhbSB7QmFzZUVsZW1lbnR9IHJvb3RFbGVtZW50IFxyXG4gICAgICogQHBhcmFtIHtNYXB9IGVsZW1lbnRNYXAgXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKGNvbXBvbmVudEluZGV4LCByb290RWxlbWVudCwgZWxlbWVudE1hcCkge1xyXG4gICAgICAgIHRoaXMuY29tcG9uZW50SW5kZXggPSBjb21wb25lbnRJbmRleDtcclxuICAgICAgICB0aGlzLmVsZW1lbnRNYXAgPSBlbGVtZW50TWFwO1xyXG4gICAgICAgIHRoaXMucm9vdEVsZW1lbnQgPSByb290RWxlbWVudDtcclxuICAgIH1cclxuXHJcbiAgICByZW1vdmUoKSB7XHJcbiAgICAgICAgdGhpcy5yb290RWxlbWVudC5yZW1vdmUoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEByZXR1cm5zIHtCYXNlRWxlbWVudH1cclxuICAgICAqL1xyXG4gICAgZ2V0Um9vdEVsZW1lbnQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucm9vdEVsZW1lbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Q29tcG9uZW50SW5kZXgoKXtcclxuICAgICAgICByZXR1cm4gdGhpcy5jb21wb25lbnRJbmRleDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEByZXR1cm5zIHtCYXNlRWxlbWVudH1cclxuICAgICAqL1xyXG4gICAgZ2V0KGlkKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudE1hcC5nZXQoaWQpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldCAoaWQsIHZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50TWFwLmdldChpZCkuc2V0KHZhbHVlKTtcclxuICAgIH1cclxuXHJcbiAgICBjbGVhckNoaWxkcmVuKGlkKXtcclxuICAgICAgICB0aGlzLmVsZW1lbnRNYXAuZ2V0KGlkKS5jbGVhcigpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldENoaWxkIChpZCwgdmFsdWUpIHtcclxuICAgICAgICB0aGlzLmVsZW1lbnRNYXAuZ2V0KGlkKS5zZXRDaGlsZCh2YWx1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgYWRkQ2hpbGQgKGlkLCB2YWx1ZSkge1xyXG4gICAgICAgIHRoaXMuZWxlbWVudE1hcC5nZXQoaWQpLmFkZENoaWxkKHZhbHVlKTtcclxuICAgIH1cclxuXHJcbiAgICBwcmVwZW5kQ2hpbGQgKGlkLCB2YWx1ZSkge1xyXG4gICAgICAgIHRoaXMuZWxlbWVudE1hcC5nZXQoaWQpLnByZXBlbmRDaGlsZCh2YWx1ZSk7XHJcbiAgICB9XHJcblxyXG59XHJcbiIsIi8qIGpzaGludCBlc3ZlcnNpb246IDYgKi9cblxuaW1wb3J0IHtMaXN0LE1hcH0gZnJvbSBcImNvcmV1dGlsX3YxXCI7XG5cbmV4cG9ydCBjbGFzcyBVcmx7XG5cbiAgICBjb25zdHJ1Y3Rvcih2YWx1ZSl7XG4gICAgICAgIHRoaXMucHJvdG9jb2wgPSBudWxsO1xuICAgICAgICB0aGlzLmhvc3QgPSBudWxsO1xuICAgICAgICB0aGlzLnBvcnQgPSBudWxsO1xuICAgICAgICB0aGlzLnBhdGhMaXN0ID0gbmV3IExpc3QoKTtcbiAgICAgICAgdGhpcy5wYXJhbWV0ZXJNYXAgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuYm9va21hcmsgPSBudWxsO1xuICAgICAgICBpZih2YWx1ZSA9PT0gbnVsbCl7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlbWFpbmluZyA9IHRoaXMuZGV0ZXJtaW5lUHJvdG9jb2wodmFsdWUpO1xuICAgICAgICBpZihyZW1haW5pbmcgPT09IG51bGwpe1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmKHRoaXMucHJvdG9jb2wgIT09IG51bGwpe1xuICAgICAgICAgICAgcmVtYWluaW5nID0gdGhpcy5kZXRlcm1pbmVIb3N0KHJlbWFpbmluZyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYocmVtYWluaW5nID09PSBudWxsKXtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZih0aGlzLmhvc3QgIT09IG51bGwpe1xuICAgICAgICAgICAgcmVtYWluaW5nID0gdGhpcy5kZXRlcm1pbmVQb3J0KHJlbWFpbmluZyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYocmVtYWluaW5nID09PSBudWxsKXtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICByZW1haW5pbmcgPSB0aGlzLmRldGVybWluZVBhdGgocmVtYWluaW5nKTtcbiAgICAgICAgaWYocmVtYWluaW5nID09PSBudWxsKXtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICByZW1haW5pbmcgPSB0aGlzLmRldGVybWluZVBhcmFtZXRlcnMocmVtYWluaW5nKTtcbiAgICAgICAgaWYocmVtYWluaW5nID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRldGVybWluZUJvb2ttYXJrKHJlbWFpbmluZyk7XG4gICAgfVxuXG4gICAgZ2V0UHJvdG9jb2woKXtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvdG9jb2w7XG4gICAgfVxuXG4gICAgZ2V0SG9zdCgpe1xuICAgICAgICByZXR1cm4gdGhpcy5ob3N0O1xuICAgIH1cblxuICAgIGdldFBvcnQoKXtcbiAgICAgICAgcmV0dXJuIHRoaXMucG9ydDtcbiAgICB9XG5cbiAgICBnZXRQYXRoTGlzdCgpe1xuICAgICAgICByZXR1cm4gdGhpcy5wYXRoTGlzdDtcbiAgICB9XG5cbiAgICBnZXRQYXRoKGluZGV4KXtcbiAgICAgICAgcmV0dXJuIHRoaXMucGF0aExpc3QuZ2V0KGluZGV4KTtcbiAgICB9XG5cbiAgICBjbGVhclBhdGhMaXN0KCl7XG4gICAgICAgIHRoaXMucGF0aExpc3QgPSBuZXcgTGlzdCgpO1xuICAgIH1cblxuICAgIGdldFBhcmFtZXRlck1hcCgpe1xuICAgICAgICByZXR1cm4gdGhpcy5wYXJhbWV0ZXJNYXA7XG4gICAgfVxuXG4gICAgY2xlYXJQYXJhbWV0ZXJNQXAoKXtcbiAgICAgICAgdGhpcy5wYXJhbWV0ZXJNYXAgPSBuZXcgTWFwKCk7XG4gICAgfVxuXG4gICAgZ2V0UGFyYW1ldGVyKGtleSl7XG4gICAgICAgIHJldHVybiB0aGlzLnBhcmFtZXRlck1hcC5nZXQoa2V5KTtcbiAgICB9XG5cbiAgICBzZXRQYXJhbWV0ZXIoa2V5LHZhbHVlKXtcbiAgICAgICAgdGhpcy5wYXJhbWV0ZXJNYXAuc2V0KGtleSx2YWx1ZSk7XG4gICAgfVxuXG4gICAgc2V0Qm9va21hcmsoYm9va21hcmspe1xuICAgICAgICB0aGlzLmJvb2ttYXJrID0gYm9va21hcms7XG4gICAgfVxuXG4gICAgc2V0UGF0aCh2YWx1ZSkge1xuICAgICAgICB0aGlzLmRldGVybWluZVBhdGgodmFsdWUpO1xuICAgIH1cblxuICAgIHNldFF1ZXJ5U3RyaW5nKHZhbHVlKSB7XG4gICAgICAgIHRoaXMucGFyYW1ldGVyTWFwID0gdGhpcy5kZXRlcm1pbmVQYXJhbWV0ZXJzKHZhbHVlKTtcbiAgICB9XG5cbiAgICBnZXRCb29rbWFyaygpe1xuICAgICAgICByZXR1cm4gdGhpcy5ib29rbWFyaztcbiAgICB9XG5cbiAgICBkZXRlcm1pbmVQcm90b2NvbCh2YWx1ZSl7XG4gICAgICAgIGlmKHZhbHVlLmluZGV4T2YoXCIvL1wiKSA9PT0gLTEpe1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBwYXJ0cyA9IHZhbHVlLnNwbGl0KFwiLy9cIik7XG4gICAgICAgIGlmKHBhcnRzWzBdLmluZGV4T2YoXCIvXCIpICE9PSAtMSl7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wcm90b2NvbCA9IHBhcnRzWzBdO1xuICAgICAgICBpZihwYXJ0cy5sZW5ndGg9PTEpe1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbHVlLnJlcGxhY2UocGFydHNbMF0gKyBcIi8vXCIsXCJcIik7XG4gICAgfVxuXG4gICAgZGV0ZXJtaW5lSG9zdCh2YWx1ZSl7XG4gICAgICAgIHZhciBwYXJ0cyA9IHZhbHVlLnNwbGl0KFwiL1wiKTtcbiAgICAgICAgdmFyIGhvc3RQYXJ0ID0gcGFydHNbMF07XG4gICAgICAgIGlmKGhvc3RQYXJ0LmluZGV4T2YoXCI6XCIpICE9PSAtMSl7XG4gICAgICAgICAgICBob3N0UGFydCA9IGhvc3RQYXJ0LnNwbGl0KFwiOlwiKVswXTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmhvc3QgPSBob3N0UGFydDtcbiAgICAgICAgaWYocGFydHMubGVuZ3RoID4gMSl7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWUucmVwbGFjZShob3N0UGFydCxcIlwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBkZXRlcm1pbmVQb3J0KHZhbHVlKXtcbiAgICAgICAgaWYoIXZhbHVlLnN0YXJ0c1dpdGgoXCI6XCIpKXtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcG9ydFBhcnQgPSB2YWx1ZS5zcGxpdChcIi9cIilbMF0uc3Vic3RyaW5nKDEpO1xuICAgICAgICB0aGlzLnBvcnQgPSBwb3J0UGFydDtcbiAgICAgICAgcmV0dXJuIHZhbHVlLnJlcGxhY2UoXCI6XCIgKyBwb3J0UGFydCxcIlwiKTtcbiAgICB9XG5cbiAgICBkZXRlcm1pbmVQYXRoKHZhbHVlKXtcbiAgICAgICAgdmFyIHJlbWFpbmluZyA9IHZhbHVlO1xuICAgICAgICBpZih2YWx1ZS5pbmRleE9mKFwiP1wiKSAhPT0gLTEpe1xuICAgICAgICAgICAgdmFyIHBhcnRzID0gdmFsdWUuc3BsaXQoXCI/XCIpO1xuICAgICAgICAgICAgaWYocGFydHMubGVuZ3RoID4gMSl7XG4gICAgICAgICAgICAgICAgcmVtYWluaW5nID0gdmFsdWUuc3Vic3RyaW5nKHZhbHVlLmluZGV4T2YoXCI/XCIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhbHVlID0gcGFydHNbMF07XG4gICAgICAgIH0gZWxzZSBpZih2YWx1ZS5pbmRleE9mKFwiI1wiKSAhPT0gLTEpe1xuICAgICAgICAgICAgdmFyIHBhcnRzID0gdmFsdWUuc3BsaXQoXCIjXCIpO1xuICAgICAgICAgICAgaWYocGFydHMubGVuZ3RoID4gMSl7XG4gICAgICAgICAgICAgICAgcmVtYWluaW5nID0gdmFsdWUuc3Vic3RyaW5nKHZhbHVlLmluZGV4T2YoXCIjXCIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhbHVlID0gcGFydHNbMF07XG4gICAgICAgIH1cbiAgICAgICAgaWYodmFsdWUuc3RhcnRzV2l0aChcIi9cIikpe1xuICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS5zdWJzdHJpbmcoMSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHBhdGhQYXJ0cyA9IG5ldyBMaXN0KHZhbHVlLnNwbGl0KFwiL1wiKSk7XG4gICAgICAgIHRoaXMucGF0aExpc3QgPSBuZXcgTGlzdCgpO1xuICAgICAgICBwYXRoUGFydHMuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSxwYXJlbnQpe1xuICAgICAgICAgICAgcGFyZW50LnBhdGhMaXN0LmFkZChkZWNvZGVVUkkodmFsdWUpKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9LHRoaXMpO1xuICAgICAgICByZXR1cm4gcmVtYWluaW5nO1xuICAgIH1cblxuICAgIGRldGVybWluZVBhcmFtZXRlcnModmFsdWUpe1xuICAgICAgICB2YXIgcmVtYWluaW5nID0gdmFsdWU7XG4gICAgICAgIGlmKHZhbHVlLmluZGV4T2YoXCI/XCIpID09PSAtMSkge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHZhbHVlID0gdmFsdWUuc3Vic3RyaW5nKHZhbHVlLmluZGV4T2YoXCI/XCIpKzEpO1xuICAgICAgICBpZih2YWx1ZS5pbmRleE9mKFwiI1wiKSAhPT0gLTEpIHtcbiAgICAgICAgICAgIHJlbWFpbmluZyA9IHZhbHVlLnN1YnN0cmluZyh2YWx1ZS5pbmRleE9mKFwiI1wiKSk7XG4gICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnN1YnN0cmluZygwLHZhbHVlLmluZGV4T2YoXCIjXCIpKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcGFydExpc3QgPSBuZXcgTGlzdCh2YWx1ZS5zcGxpdChcIiZcIikpO1xuICAgICAgICB2YXIgcGFyYW1ldGVyTWFwID0gbmV3IE1hcCgpO1xuICAgICAgICBwYXJ0TGlzdC5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLHBhcmVudCl7XG4gICAgICAgICAgICB2YXIga2V5VmFsdWUgPSB2YWx1ZS5zcGxpdChcIj1cIik7XG4gICAgICAgICAgICBpZihrZXlWYWx1ZS5sZW5ndGggPj0gMil7XG4gICAgICAgICAgICAgICAgcGFyYW1ldGVyTWFwLnNldChkZWNvZGVVUkkoa2V5VmFsdWVbMF0pLGRlY29kZVVSSShrZXlWYWx1ZVsxXSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0sdGhpcyk7XG4gICAgICAgIHRoaXMucGFyYW1ldGVyTWFwID0gcGFyYW1ldGVyTWFwO1xuICAgICAgICByZXR1cm4gcmVtYWluaW5nO1xuICAgIH1cblxuICAgIGRldGVybWluZUJvb2ttYXJrKHZhbHVlKXtcbiAgICAgICAgaWYodmFsdWUuaW5kZXhPZihcIiNcIikgIT09IC0xKSB7XG4gICAgICAgICAgICB0aGlzLmJvb2ttYXJrID0gdmFsdWUuc3Vic3RyaW5nKHZhbHVlLmluZGV4T2YoXCIjXCIpKzEpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdG9TdHJpbmcoKXtcbiAgICAgICAgdmFyIHZhbHVlID0gXCJcIjtcbiAgICAgICAgaWYodGhpcy5wcm90b2NvbCAhPT0gbnVsbCl7XG4gICAgICAgICAgICB2YWx1ZSA9IHZhbHVlICsgdGhpcy5wcm90b2NvbCArIFwiLy9cIjtcbiAgICAgICAgfVxuICAgICAgICBpZih0aGlzLmhvc3QgIT09IG51bGwpe1xuICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZSArIHRoaXMuaG9zdDtcbiAgICAgICAgfVxuICAgICAgICBpZih0aGlzLnBvcnQgIT09IG51bGwpe1xuICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZSArIFwiOlwiICsgdGhpcy5wb3J0O1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5wYXRoTGlzdC5mb3JFYWNoKGZ1bmN0aW9uKHBhdGhQYXJ0LHBhcmVudCl7XG4gICAgICAgICAgICB2YWx1ZSA9IHZhbHVlICsgXCIvXCIgKyBwYXRoUGFydDtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9LHRoaXMpO1xuXG4gICAgICAgIHZhciBmaXJzdFBhcmFtZXRlciA9IHRydWU7XG4gICAgICAgIHRoaXMucGFyYW1ldGVyTWFwLmZvckVhY2goZnVuY3Rpb24ocGFyYW1ldGVyS2V5LHBhcmFtZXRlclZhbHVlLHBhcmVudCl7XG4gICAgICAgICAgICBpZihmaXJzdFBhcmFtZXRlcil7XG4gICAgICAgICAgICAgICAgZmlyc3RQYXJhbWV0ZXI9ZmFsc2U7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZSArIFwiP1wiO1xuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZSArIFwiJlwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZSArIGVuY29kZVVSSShwYXJhbWV0ZXJLZXkpICsgXCI9XCIgKyBlbmNvZGVVUkkocGFyYW1ldGVyVmFsdWUpO1xuICAgICAgICB9LHRoaXMpO1xuICAgICAgICBpZih0aGlzLmJvb2ttYXJrICE9PSBudWxsKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IHZhbHVlICsgXCIjXCIgKyB0aGlzLmJvb2ttYXJrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG5cbn1cbiIsImV4cG9ydCBjbGFzcyBTdHlsZXN7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzdHlsZXNTb3VyY2UgXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKHN0eWxlc1NvdXJjZSl7XHJcblxyXG4gICAgICAgIC8qKiBAdHlwZSB7c3RyaW5nfSAqL1xyXG4gICAgICAgIHRoaXMuc3R5bGVzU291cmNlID0gc3R5bGVzU291cmNlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQHJldHVybnMge3N0cmluZ31cclxuICAgICAqL1xyXG4gICAgZ2V0U3R5bGVzU291cmNlKCl7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc3R5bGVzU291cmNlO1xyXG4gICAgfVxyXG5cclxufVxyXG4iLCIvKiBqc2hpbnQgZXN2ZXJzaW9uOiA2ICovXHJcblxyXG5pbXBvcnQge01hcCwgTG9nZ2VyLCBPYmplY3RGdW5jdGlvbn0gZnJvbSBcImNvcmV1dGlsX3YxXCI7XHJcbmltcG9ydCB7IENsaWVudCB9IGZyb20gXCIuLi9jbGllbnQvY2xpZW50LmpzXCI7XHJcbmltcG9ydCB7IFVybCB9IGZyb20gXCIuLi91dGlsL3VybC5qc1wiO1xyXG5pbXBvcnQgeyBTdHlsZXMgfSBmcm9tIFwiLi9zdHlsZXMuanNcIjtcclxuXHJcbmNvbnN0IExPRyA9IG5ldyBMb2dnZXIoXCJTdHlsZXNSZWdpc3RyeVwiKTtcclxuXHJcbmV4cG9ydCBjbGFzcyBTdHlsZXNSZWdpc3RyeSB7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKXtcclxuICAgICAgICAvKiogQHR5cGUge01hcH0gKi9cclxuICAgICAgICB0aGlzLnN0eWxlc01hcCA9IG5ldyBNYXAoKTtcclxuXHJcbiAgICAgICAgLyoqIEB0eXBlIHtNYXB9ICovXHJcbiAgICAgICAgdGhpcy5zdHlsZXNVcmxNYXAgPSBuZXcgTWFwKCk7XHJcblxyXG4gICAgICAgIC8qKiBAdHlwZSB7aW50ZWdlcn0gKi9cclxuICAgICAgICB0aGlzLnN0eWxlc1F1ZXVlU2l6ZSA9IDA7XHJcblxyXG4gICAgICAgIC8qKiBAdHlwZSB7T2JqZWN0RnVuY3Rpb259ICovXHJcbiAgICAgICAgdGhpcy5jYWxsYmFjayA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFxyXG4gICAgICogQHBhcmFtIHtTdHlsZXN9IHN0eWxlcyBcclxuICAgICAqIEBwYXJhbSB7VXJsfSB1cmwgXHJcbiAgICAgKi9cclxuICAgIHNldChuYW1lLHN0eWxlcyx1cmwpe1xyXG4gICAgICAgIGlmKHVybCAhPT0gdW5kZWZpbmVkICYmIHVybCAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aGlzLnN0eWxlc1VybE1hcC5zZXQobmFtZSwgdXJsKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zdHlsZXNNYXAuc2V0KG5hbWUsIHN0eWxlcyk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFxyXG4gICAgICovXHJcbiAgICBnZXQobmFtZSl7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc3R5bGVzTWFwLmdldChuYW1lKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgXHJcbiAgICAgKi9cclxuICAgIGNvbnRhaW5zKG5hbWUpe1xyXG4gICAgICAgIHJldHVybiB0aGlzLnN0eWxlc01hcC5jb250YWlucyhuYW1lKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFxyXG4gICAgICogQHBhcmFtIHtPYmplY3RGdW5jdGlvbn0gY2FsbGJhY2sgXHJcbiAgICAgKi9cclxuICAgIGRvbmUoY2FsbGJhY2spe1xyXG4gICAgICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjaztcclxuICAgICAgICB0aGlzLmRvQ2FsbGJhY2sodGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBcclxuICAgICAqIEBwYXJhbSB7U3R5bGVzUmVnaXN0cnl9IHJlZ2lzdHJ5IFxyXG4gICAgICovXHJcbiAgICBkb0NhbGxiYWNrKHJlZ2lzdHJ5KXtcclxuICAgICAgICBpZih0bW8uY2FsbGJhY2sgIT09IG51bGwgJiYgcmVnaXN0cnkuY2FsbGJhY2sgIT09IHVuZGVmaW5lZCAgJiYgcmVnaXN0cnkuc3R5bGVzUXVldWVTaXplID09PSByZWdpc3RyeS5zdHlsZXNNYXAuc2l6ZSgpKXtcclxuICAgICAgICAgICAgdmFyIHRlbXBDYWxsYmFjayA9IHJlZ2lzdHJ5LmNhbGxiYWNrO1xyXG4gICAgICAgICAgICByZWdpc3RyeS5jYWxsYmFjayA9IG51bGw7XHJcbiAgICAgICAgICAgIHRlbXBDYWxsYmFjay5jYWxsKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBcclxuICAgICAqIEBwYXJhbSB7VXJsfSB1cmwgXHJcbiAgICAgKi9cclxuICAgICBsb2FkKG5hbWUsIHVybCkge1xyXG4gICAgICAgIHRoaXMuc3R5bGVzUXVldWVTaXplICsrO1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xyXG4gICAgICAgICAgICBDbGllbnQuZ2V0KHVybCkudGhlbigocmVzcG9uc2UpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmKCFyZXNwb25zZS5vayl7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgXCJVbmFibGUgdG8gbG9hZCBzdHlsZXMgZm9yIFwiICsgbmFtZSArIFwiIGF0IFwiICsgdXJsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmVzcG9uc2UudGV4dCgpLnRoZW4oKHRleHQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldChuYW1lLG5ldyBTdHlsZXModGV4dCksdXJsKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRvQ2FsbGJhY2sodGhpcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFxyXG4gICAgICogQHBhcmFtIHtNYXB9IG5hbWVVcmxNYXAgXHJcbiAgICAgKi9cclxuICAgIGdldFN0eWxlc0xvYWRlZFByb21pc2UobmFtZVVybE1hcCkge1xyXG4gICAgICAgIFxyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSxyZWplY3QpID0+IHtcclxuICAgICAgICAgICAgdmFyIGxvYWRlZCA9IDA7XHJcbiAgICAgICAgICAgIGlmKCFuYW1lVXJsTWFwIHx8IG5hbWVVcmxNYXAuc2l6ZSgpID09IDApIHtcclxuICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBuYW1lVXJsTWFwLmZvckVhY2goKGtleSwgdmFsdWUsIHBhcmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYodGhpcy5jb250YWlucyhrZXkpKXtcclxuICAgICAgICAgICAgICAgICAgICBsb2FkZWQgKys7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYobG9hZGVkID09IG5hbWVVcmxNYXAuc2l6ZSgpKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBCcmVhayBsb29wXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLnByaXZhdGVMb2FkKGtleSwgbmV3IFVybCh2YWx1ZSkpXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbG9hZGVkICsrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihsb2FkZWQgPT0gbmFtZVVybE1hcC5zaXplKCkpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQnJlYWsgbG9vcFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKChyZWFzb24pID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KHJlYXNvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEJyZWFrIGxvb3BcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH0sdGhpcyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFxyXG4gICAgICogQHBhcmFtIHtVcmx9IHVybCBcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZUxvYWQobmFtZSwgdXJsKSB7XHJcbiAgICAgICAgTE9HLmluZm8oXCJMb2FkaW5nIHN0eWxlcyBcIiArIG5hbWUgKyBcIiBhdCBcIiArIHVybC50b1N0cmluZygpKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XHJcbiAgICAgICAgICAgIENsaWVudC5nZXQodXJsKS50aGVuKChyZXNwb25zZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYoIXJlc3BvbnNlLm9rKXtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBcIlVuYWJsZSB0byBsb2FkIHN0eWxlcyBmb3IgXCIgKyBuYW1lICsgXCIgYXQgXCIgKyB1cmw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXNwb25zZS50ZXh0KCkudGhlbigodGV4dCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0KG5hbWUsbmV3IFN0eWxlcyh0ZXh0KSx1cmwpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsIi8qIGpzaGludCBlc3ZlcnNpb246IDYgKi9cblxuZXhwb3J0IGNsYXNzIFRlbXBsYXRle1xuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRlbXBsYXRlU291cmNlIFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHRlbXBsYXRlU291cmNlKXtcblxuICAgICAgICAvKiogQHR5cGUge3N0cmluZ30gKi9cbiAgICAgICAgdGhpcy50ZW1wbGF0ZVNvdXJjZSA9IHRlbXBsYXRlU291cmNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAgICovXG4gICAgZ2V0VGVtcGxhdGVTb3VyY2UoKXtcbiAgICAgICAgcmV0dXJuIHRoaXMudGVtcGxhdGVTb3VyY2U7XG4gICAgfVxuXG59XG4iLCIvKiBqc2hpbnQgZXN2ZXJzaW9uOiA2ICovXG5cbmltcG9ydCB7TWFwLCBMb2dnZXIsIE9iamVjdEZ1bmN0aW9ufSBmcm9tIFwiY29yZXV0aWxfdjFcIjtcbmltcG9ydCB7VGVtcGxhdGV9IGZyb20gXCIuL3RlbXBsYXRlLmpzXCI7XG5pbXBvcnQgeyBDbGllbnQgfSBmcm9tIFwiLi4vY2xpZW50L2NsaWVudC5qc1wiO1xuaW1wb3J0IHsgVXJsIH0gZnJvbSBcIi4uL3V0aWwvdXJsLmpzXCI7XG5cbmNvbnN0IExPRyA9IG5ldyBMb2dnZXIoXCJUZW1wbGF0ZVJlZ2lzdHJ5XCIpO1xuXG5leHBvcnQgY2xhc3MgVGVtcGxhdGVSZWdpc3RyeSB7XG5cbiAgICBjb25zdHJ1Y3Rvcigpe1xuICAgICAgICAvKiogQHR5cGUge01hcH0gKi9cbiAgICAgICAgdGhpcy50ZW1wbGF0ZU1hcCA9IG5ldyBNYXAoKTtcblxuICAgICAgICAvKiogQHR5cGUge01hcH0gKi9cbiAgICAgICAgdGhpcy50ZW1wbGF0ZVVybE1hcCA9IG5ldyBNYXAoKTtcblxuICAgICAgICAvKiogQHR5cGUge2ludGVnZXJ9ICovXG4gICAgICAgIHRoaXMudGVtcGxhdGVRdWV1ZVNpemUgPSAwO1xuXG4gICAgICAgIC8qKiBAdHlwZSB7T2JqZWN0RnVuY3Rpb259ICovXG4gICAgICAgIHRoaXMuY2FsbGJhY2sgPSBudWxsO1xuXG4gICAgICAgIC8qKiBAdHlwZSB7c3RyaW5nfSAqL1xuICAgICAgICB0aGlzLmxhbmd1YWdlUHJlZml4ID0gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbGFuZ3VhZ2VQcmVmaXggXG4gICAgICovXG4gICAgc2V0TGFuZ3VhZ2VQcmVmaXgobGFuZ3VhZ2VQcmVmaXgpIHtcbiAgICAgICAgdGhpcy5sYW5ndWFnZVByZWZpeCA9IGxhbmd1YWdlUHJlZml4O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFxuICAgICAqIEBwYXJhbSB7VGVtcGxhdGV9IHRlbXBsYXRlIFxuICAgICAqIEBwYXJhbSB7VXJsfSB1cmwgXG4gICAgICovXG4gICAgc2V0KG5hbWUsdGVtcGxhdGUsdXJsKXtcbiAgICAgICAgaWYodXJsICE9PSB1bmRlZmluZWQgJiYgdXJsICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLnRlbXBsYXRlVXJsTWFwLnNldChuYW1lLCB1cmwpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudGVtcGxhdGVNYXAuc2V0KG5hbWUsIHRlbXBsYXRlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBcbiAgICAgKi9cbiAgICBnZXQobmFtZSl7XG4gICAgICAgIHJldHVybiB0aGlzLnRlbXBsYXRlTWFwLmdldChuYW1lKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBcbiAgICAgKi9cbiAgICBjb250YWlucyhuYW1lKXtcbiAgICAgICAgcmV0dXJuIHRoaXMudGVtcGxhdGVNYXAuY29udGFpbnMobmFtZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogQHBhcmFtIHtPYmplY3RGdW5jdGlvbn0gY2FsbGJhY2sgXG4gICAgICovXG4gICAgZG9uZShjYWxsYmFjayl7XG4gICAgICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICAgICAgdGhpcy5kb0NhbGxiYWNrKHRoaXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7VGVtcGxhdGVSZWdpc3RyeX0gcmVnaXN0cnkgXG4gICAgICovXG4gICAgZG9DYWxsYmFjayhyZWdpc3RyeSl7XG4gICAgICAgIGlmKHRtby5jYWxsYmFjayAhPT0gbnVsbCAmJiByZWdpc3RyeS5jYWxsYmFjayAhPT0gdW5kZWZpbmVkICAmJiByZWdpc3RyeS50ZW1wbGF0ZVF1ZXVlU2l6ZSA9PT0gcmVnaXN0cnkudGVtcGxhdGVNYXAuc2l6ZSgpKXtcbiAgICAgICAgICAgIHZhciB0ZW1wQ2FsbGJhY2sgPSByZWdpc3RyeS5jYWxsYmFjaztcbiAgICAgICAgICAgIHJlZ2lzdHJ5LmNhbGxiYWNrID0gbnVsbDtcbiAgICAgICAgICAgIHRlbXBDYWxsYmFjay5jYWxsKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBcbiAgICAgKiBAcGFyYW0ge1VybH0gdXJsIFxuICAgICAqL1xuICAgIGxvYWQobmFtZSwgdXJsKSB7XG4gICAgICAgIGlmKHRoaXMubGFuZ3VhZ2VQcmVmaXggIT09IG51bGwpIHtcbiAgICAgICAgICAgIHVybC5nZXRQYXRoTGlzdCgpLnNldExhc3QoXG4gICAgICAgICAgICAgICAgdGhpcy5sYW5ndWFnZVByZWZpeCArIFwiLlwiICtcbiAgICAgICAgICAgICAgICB1cmwuZ2V0UGF0aExpc3QoKS5nZXRMYXN0KClcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50ZW1wbGF0ZVF1ZXVlU2l6ZSArKztcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICAgICAgICBDbGllbnQuZ2V0KHVybCkudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICBpZighcmVzcG9uc2Uub2spe1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBcIlVuYWJsZSB0byBsb2FkIHRlbXBsYXRlIGZvciBcIiArIG5hbWUgKyBcIiBhdCBcIiArIHVybDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UudGV4dCgpLnRoZW4oKHRleHQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXQobmFtZSxuZXcgVGVtcGxhdGUodGV4dCksdXJsKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kb0NhbGxiYWNrKHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogQHBhcmFtIHtNYXB9IG5hbWVVcmxNYXAgXG4gICAgICovXG4gICAgZ2V0VGVtcGxhdGVzTG9hZGVkUHJvbWlzZShuYW1lVXJsTWFwKSB7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgdmFyIGxvYWRlZCA9IDA7XG4gICAgICAgICAgICBpZighbmFtZVVybE1hcCB8fCBuYW1lVXJsTWFwLnNpemUoKSA9PSAwKSB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5hbWVVcmxNYXAuZm9yRWFjaCgoa2V5LCB2YWx1ZSwgcGFyZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYodGhpcy5jb250YWlucyhrZXkpKXtcbiAgICAgICAgICAgICAgICAgICAgbG9hZGVkICsrO1xuICAgICAgICAgICAgICAgICAgICBpZihsb2FkZWQgPT0gbmFtZVVybE1hcC5zaXplKCkpe1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQnJlYWsgbG9vcFxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnByaXZhdGVMb2FkKGtleSwgbmV3IFVybCh2YWx1ZSkpXG5cbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9hZGVkICsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYobG9hZGVkID09IG5hbWVVcmxNYXAuc2l6ZSgpKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQnJlYWsgbG9vcFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgICAgICAgICAuY2F0Y2goKHJlYXNvbikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KHJlYXNvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBCcmVhayBsb29wXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfSx0aGlzKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgXG4gICAgICogQHBhcmFtIHtVcmx9IHVybCBcbiAgICAgKi9cbiAgICBwcml2YXRlTG9hZChuYW1lLCB1cmwpIHtcbiAgICAgICAgaWYodGhpcy5sYW5ndWFnZVByZWZpeCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdXJsLmdldFBhdGhMaXN0KCkuc2V0TGFzdChcbiAgICAgICAgICAgICAgICB0aGlzLmxhbmd1YWdlUHJlZml4ICsgXCIuXCIgK1xuICAgICAgICAgICAgICAgIHVybC5nZXRQYXRoTGlzdCgpLmdldExhc3QoKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBMT0cuaW5mbyhcIkxvYWRpbmcgdGVtcGxhdGUgXCIgKyBuYW1lICsgXCIgYXQgXCIgKyB1cmwudG9TdHJpbmcoKSk7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2xzZSkgPT4ge1xuICAgICAgICAgICAgQ2xpZW50LmdldCh1cmwpLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYoIXJlc3BvbnNlLm9rKXtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgXCJVbmFibGUgdG8gbG9hZCB0ZW1wbGF0ZSBmb3IgXCIgKyBuYW1lICsgXCIgYXQgXCIgKyB1cmw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlc3BvbnNlLnRleHQoKS50aGVuKCh0ZXh0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0KG5hbWUsbmV3IFRlbXBsYXRlKHRleHQpLHVybCk7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sc2UoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG59IiwiaW1wb3J0IHsgTG9nZ2VyLCBNYXAgfSBmcm9tIFwiY29yZXV0aWxfdjFcIjtcclxuaW1wb3J0IHsgQ29uZmlnIH0gZnJvbSBcIm1pbmRpX3YxXCI7XHJcbmltcG9ydCB7IFRlbXBsYXRlUmVnaXN0cnkgfSBmcm9tIFwiLi90ZW1wbGF0ZVJlZ2lzdHJ5LmpzXCI7XHJcblxyXG5jb25zdCBMT0cgPSBuZXcgTG9nZ2VyKFwiVGVtcGxhdGVQb3N0Q29uZmlnXCIpO1xyXG5cclxuLyoqXHJcbiAqIFRvIGJlIGFkZGVkIHRvIG1pbmRpIGFzIGEgc2luZ2xldG9uLiBXaWxsIHNjYW4gdGhyb3VnaCBhbGwgY29uZmlndXJlZCBjbGFzc2VzIHRoYXQgaGF2ZSBhIFRFTVBMQVRFX1VSTCBhbmQgQ09NUE9ORU5UX05BTUVcclxuICogc3RhdGljIGdldHRlciBhbmQgd2lsbCBhc3luY3Jvbm91c2x5IGxvYWQgdGhlbS4gUmV0dXJucyBhIHByb21pc2Ugd2hpY2ggcmVzb2x2ZXMgd2hlbiBhbGwgdGVtcGxhdGVzIGFyZSBsb2FkZWRcclxuICovXHJcbmV4cG9ydCBjbGFzcyBUZW1wbGF0ZXNMb2FkZXIge1xyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIFxyXG4gICAgICogQHBhcmFtIHtUZW1wbGF0ZVJlZ2lzdHJ5fSB0ZW1wbGF0ZVJlZ2lzdHJ5IFxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3Rvcih0ZW1wbGF0ZVJlZ2lzdHJ5KSB7XHJcbiAgICAgICAgdGhpcy50ZW1wbGF0ZVJlZ2lzdHJ5ID0gdGVtcGxhdGVSZWdpc3RyeTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFxyXG4gICAgICogQHBhcmFtIHtDb25maWd9IGNvbmZpZ1xyXG4gICAgICogQHJldHVybnMge1Byb21pc2V9XHJcbiAgICAgKi9cclxuICAgIGxvYWQoY29uZmlnKSB7XHJcbiAgICAgICAgbGV0IHRlbXBsYXRlTWFwID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIGNvbmZpZy5nZXRDb25maWdFbnRyaWVzKCkuZm9yRWFjaCgoa2V5LCBjb25maWdFbnRyeSwgcGFyZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGlmKGNvbmZpZ0VudHJ5LmdldENsYXNzUmVmZXJlbmNlKCkuVEVNUExBVEVfVVJMICYmIGNvbmZpZ0VudHJ5LmdldENsYXNzUmVmZXJlbmNlKCkuQ09NUE9ORU5UX05BTUUpIHtcclxuICAgICAgICAgICAgICAgIHRlbXBsYXRlTWFwLnNldChjb25maWdFbnRyeS5nZXRDbGFzc1JlZmVyZW5jZSgpLkNPTVBPTkVOVF9OQU1FLCBjb25maWdFbnRyeS5nZXRDbGFzc1JlZmVyZW5jZSgpLlRFTVBMQVRFX1VSTCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfSwgdGhpcyk7IFxyXG4gICAgICAgIHJldHVybiB0aGlzLnRlbXBsYXRlUmVnaXN0cnkuZ2V0VGVtcGxhdGVzTG9hZGVkUHJvbWlzZSh0ZW1wbGF0ZU1hcCk7XHJcbiAgICB9XHJcblxyXG59IiwiaW1wb3J0IHsgTG9nZ2VyLCBNYXAgfSBmcm9tIFwiY29yZXV0aWxfdjFcIjtcclxuaW1wb3J0IHsgQ29uZmlnIH0gZnJvbSBcIm1pbmRpX3YxXCI7XHJcbmltcG9ydCB7IFN0eWxlc1JlZ2lzdHJ5IH0gZnJvbSBcIi4vc3R5bGVzUmVnaXN0cnkuanNcIjtcclxuXHJcbmNvbnN0IExPRyA9IG5ldyBMb2dnZXIoXCJTdHlsZXNMb2FkZXJcIik7XHJcblxyXG4vKipcclxuICogVG8gYmUgYWRkZWQgdG8gbWluZGkgYXMgYSBzaW5nbGV0b24uIFdpbGwgc2NhbiB0aHJvdWdoIGFsbCBjb25maWd1cmVkIGNsYXNzZXMgdGhhdCBoYXZlIGEgU1RZTEVTX1VSTCBhbmQgQ09NUE9ORU5UX05BTUVcclxuICogc3RhdGljIGdldHRlciBhbmQgd2lsbCBhc3luY3Jvbm91c2x5IGxvYWQgdGhlbS4gUmV0dXJucyBhIHByb21pc2Ugd2hpY2ggcmVzb2x2ZXMgd2hlbiBhbGwgc3R5bGVzIGFyZSBsb2FkZWRcclxuICovXHJcbmV4cG9ydCBjbGFzcyBTdHlsZXNMb2FkZXIge1xyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIFxyXG4gICAgICogQHBhcmFtIHtTdHlsZXNSZWdpc3RyeX0gc3R5bGVzUmVnaXN0cnkgXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKHN0eWxlc1JlZ2lzdHJ5KSB7XHJcbiAgICAgICAgdGhpcy5zdHlsZXNSZWdpc3RyeSA9IHN0eWxlc1JlZ2lzdHJ5O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogXHJcbiAgICAgKiBAcGFyYW0ge0NvbmZpZ30gY29uZmlnXHJcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZX1cclxuICAgICAqL1xyXG4gICAgbG9hZChjb25maWcpIHtcclxuICAgICAgICBsZXQgc3R5bGVzTWFwID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIGNvbmZpZy5nZXRDb25maWdFbnRyaWVzKCkuZm9yRWFjaCgoa2V5LCBjb25maWdFbnRyeSwgcGFyZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGlmKGNvbmZpZ0VudHJ5LmdldENsYXNzUmVmZXJlbmNlKCkuU1RZTEVTX1VSTCAmJiBjb25maWdFbnRyeS5nZXRDbGFzc1JlZmVyZW5jZSgpLkNPTVBPTkVOVF9OQU1FKSB7XHJcbiAgICAgICAgICAgICAgICBzdHlsZXNNYXAuc2V0KGNvbmZpZ0VudHJ5LmdldENsYXNzUmVmZXJlbmNlKCkuQ09NUE9ORU5UX05BTUUsIGNvbmZpZ0VudHJ5LmdldENsYXNzUmVmZXJlbmNlKCkuU1RZTEVTX1VSTCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfSwgdGhpcyk7IFxyXG4gICAgICAgIHJldHVybiB0aGlzLnN0eWxlc1JlZ2lzdHJ5LmdldFN0eWxlc0xvYWRlZFByb21pc2Uoc3R5bGVzTWFwKTtcclxuICAgIH1cclxuXHJcbn0iLCJpbXBvcnQgeyBMb2dnZXIgfSBmcm9tIFwiY29yZXV0aWxfdjFcIjtcclxuaW1wb3J0IHsgQ29uZmlnLCBJbmplY3Rpb25Qb2ludCB9IGZyb20gXCJtaW5kaV92MVwiO1xyXG5pbXBvcnQgeyBTdHlsZXNSZWdpc3RyeSB9IGZyb20gXCIuLi9zdHlsZXMvc3R5bGVzUmVnaXN0cnkuanNcIjtcclxuaW1wb3J0IHsgVGVtcGxhdGVSZWdpc3RyeSB9IGZyb20gXCIuLi90ZW1wbGF0ZS90ZW1wbGF0ZVJlZ2lzdHJ5LmpzXCI7XHJcbmltcG9ydCB7IFRlbXBsYXRlc0xvYWRlciB9IGZyb20gXCIuLi90ZW1wbGF0ZS90ZW1wbGF0ZXNMb2FkZXIuanNcIjtcclxuaW1wb3J0IHsgU3R5bGVzTG9hZGVyIH0gZnJvbSBcIi4uL3N0eWxlcy9zdHlsZXNMb2FkZXIuanNcIjtcclxuXHJcbmNvbnN0IExPRyA9IG5ldyBMb2dnZXIoXCJDb21wb25lbnRDb25maWdQcm9jZXNzb3JcIilcclxuXHJcbi8qKlxyXG4gKiBNaW5kaSBjb25maWcgcHJvY2Vzc29yIHdoaWNoIGxvYWRzIGFsbCB0ZW1wbGF0ZXMgYW5kIHN0eWxlcyBmb3IgYWxsIGNvbmZpZ3VyZWQgY29tcG9uZW50c1xyXG4gKiBhbmQgdGhlbiBjYWxscyBhbnkgZXhpc3RpbmcgY29tcG9uZW50TG9hZGVkIGZ1bmN0aW9uIG9uIGVhY2ggY29tcG9uZW50XHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ29tcG9uZW50Q29uZmlnUHJvY2Vzc29yIHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQHR5cGUge1RlbXBsYXRlUmVnaXN0cnl9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy50ZW1wbGF0ZVJlZ2lzdHJ5ID0gSW5qZWN0aW9uUG9pbnQuaW5zdGFuY2UoVGVtcGxhdGVSZWdpc3RyeSk7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEB0eXBlIHtTdHlsZXNSZWdpc3RyeX1cclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLnN0eWxlc1JlZ2lzdHJ5ID0gSW5qZWN0aW9uUG9pbnQuaW5zdGFuY2UoU3R5bGVzUmVnaXN0cnkpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFxyXG4gICAgICovXHJcbiAgICBwb3N0Q29uZmlnKCl7XHJcbiAgICAgICAgdGhpcy50ZW1wbGF0ZXNMb2FkZXIgPSBuZXcgVGVtcGxhdGVzTG9hZGVyKHRoaXMudGVtcGxhdGVSZWdpc3RyeSk7XHJcbiAgICAgICAgdGhpcy5zdHlsZXNMb2FkZXIgPSBuZXcgU3R5bGVzTG9hZGVyKHRoaXMuc3R5bGVzUmVnaXN0cnkpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogXHJcbiAgICAgKiBAcGFyYW0ge0NvbmZpZ30gY29uZmlnXHJcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZX1cclxuICAgICAqL1xyXG4gICAgcHJvY2Vzc0NvbmZpZyhjb25maWcpIHtcclxuICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoXHJcbiAgICAgICAgICAgIFsgXHJcbiAgICAgICAgICAgICAgICB0aGlzLnRlbXBsYXRlc0xvYWRlci5sb2FkKGNvbmZpZyksIFxyXG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZXNMb2FkZXIubG9hZChjb25maWcpIFxyXG4gICAgICAgICAgICBdXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbn0iLCJpbXBvcnQgeyBMb2dnZXIgfSBmcm9tIFwiY29yZXV0aWxfdjFcIjtcclxuXHJcbmNvbnN0IExPRyA9IG5ldyBMb2dnZXIoXCJDb21wb25lbnRDcmVhdG9ySW5zdGFuY2VQcm9jZXNzb3JcIik7XHJcblxyXG4vKipcclxuICogSW5zdGFuY2Ugd2hpY2ggY2FsbHMgY3JlYXRlQ29tcG9uZW50IG9uIGNvbXBvbmVudHMgYWZ0ZXIgY29uZmlnUHJvY2Vzc29yIGlzIGZpbmlzaGVkXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ29tcG9uZW50Q3JlYXRvckluc3RhbmNlUHJvY2Vzc29yIHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBMT0cuaW5mbyhcIkNyZWF0aW5nXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIHByb2Nlc3MoaW5zdGFuY2UpIHtcclxuICAgICAgICBpZihpbnN0YW5jZS5jcmVhdGVDb21wb25lbnQpIHtcclxuICAgICAgICAgICAgaW5zdGFuY2UuY3JlYXRlQ29tcG9uZW50KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxufSIsImltcG9ydCB7IE1hcCB9IGZyb20gXCJjb3JldXRpbF92MVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFVuaXF1ZUlkUmVnaXN0cnkge1xyXG5cclxuICAgIGlkQXR0cmlidXRlV2l0aFN1ZmZpeCAoaWQpIHtcclxuICAgICAgICBpZihpZE5hbWVzLmNvbnRhaW5zKGlkKSkge1xyXG4gICAgICAgICAgICB2YXIgbnVtYmVyID0gaWROYW1lcy5nZXQoaWQpO1xyXG4gICAgICAgICAgICBpZE5hbWVzLnNldChpZCxudW1iZXIrMSk7XHJcbiAgICAgICAgICAgIHJldHVybiBpZCArIFwiLVwiICsgbnVtYmVyO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZE5hbWVzLnNldChpZCwxKTtcclxuICAgICAgICByZXR1cm4gaWQ7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG52YXIgaWROYW1lcyA9IG5ldyBNYXAoKTsiLCIvKiBqc2hpbnQgZXN2ZXJzaW9uOiA2ICovXG5cbmltcG9ydCB7IEVsZW1lbnRNYXBwZXIgfSBmcm9tIFwiLi4vZWxlbWVudC9lbGVtZW50TWFwcGVyLmpzXCI7XG5cbmV4cG9ydCBjbGFzcyBFdmVudHtcblxuICAgIGNvbnN0cnVjdG9yKGV2ZW50KXtcbiAgICAgICAgdGhpcy5ldmVudCA9IGV2ZW50O1xuICAgICAgICBpZih0aGlzLmV2ZW50LnR5cGUudG9Mb3dlckNhc2UoKSA9PSBcImRyYWdzdGFydFwiKXtcbiAgICAgICAgICAgIHRoaXMuZXZlbnQuZGF0YVRyYW5zZmVyLnNldERhdGEoJ3RleHQvcGxhaW4nLCBudWxsKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByZXZlbnREZWZhdWx0KCl7XG4gICAgICAgIHRoaXMuZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZGlzdGFuY2UgYmV0d2VlbiB0aGUgZXZlbnQgYW5kIHRoZSBlZGdlIHggY29vcmRpbmF0ZSBvZiB0aGUgY29udGFpbmluZyBvYmplY3RcbiAgICAgKi9cbiAgICBnZXRPZmZzZXRYKCl7XG4gICAgICAgIHJldHVybiB0aGlzLmV2ZW50Lm9mZnNldFg7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGRpc3RhbmNlIGJldHdlZW4gdGhlIGV2ZW50IGFuZCB0aGUgZWRnZSB5IGNvb3JkaW5hdGUgb2YgdGhlIGNvbnRhaW5pbmcgb2JqZWN0XG4gICAgICovXG4gICAgZ2V0T2Zmc2V0WSgpe1xuICAgICAgICByZXR1cm4gdGhpcy5ldmVudC5vZmZzZXRZO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBtb3VzZSB4IGNvb3JkaW5hdGUgb2YgdGhlIGV2ZW50IHJlbGF0aXZlIHRvIHRoZSBjbGllbnQgd2luZG93IHZpZXdcbiAgICAgKi9cbiAgICBnZXRDbGllbnRYKCl7XG4gICAgICAgIHJldHVybiB0aGlzLmV2ZW50LmNsaWVudFg7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIG1vdXNlIHkgY29vcmRpbmF0ZSBvZiB0aGUgZXZlbnQgcmVsYXRpdmUgdG8gdGhlIGNsaWVudCB3aW5kb3cgdmlld1xuICAgICAqL1xuICAgIGdldENsaWVudFkoKXtcbiAgICAgICAgcmV0dXJuIHRoaXMuZXZlbnQuY2xpZW50WTtcbiAgICB9XG5cbiAgICBnZXRUYXJnZXQoKXtcbiAgICAgICAgcmV0dXJuIEVsZW1lbnRNYXBwZXIubWFwKHRoaXMuZXZlbnQudGFyZ2V0KTtcbiAgICB9XG5cbiAgICBnZXRLZXlDb2RlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ldmVudC5rZXlDb2RlO1xuICAgIH1cblxufVxuIiwiLyoganNoaW50IGVzdmVyc2lvbjogNiAqL1xuXG5pbXBvcnQgeyBMaXN0LCBNYXAsIE9iamVjdEZ1bmN0aW9uLCBMb2dnZXIgfSBmcm9tIFwiY29yZXV0aWxfdjFcIjtcbmltcG9ydCB7IEV2ZW50IH0gZnJvbSBcIi4vZXZlbnQuanNcIjtcbmltcG9ydCB7IEJhc2VFbGVtZW50IH0gZnJvbSBcIi4uL2VsZW1lbnQvYmFzZUVsZW1lbnQuanNcIjtcblxuY29uc3QgTE9HID0gbmV3IExvZ2dlcihcIkV2ZW50UmVnaXN0cnlcIik7XG5cbmV4cG9ydCBjbGFzcyBFdmVudFJlZ2lzdHJ5IHtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmxpc3RlbmVycyA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5iZWZvcmVMaXN0ZW5lcnMgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuYWZ0ZXJMaXN0ZW5lcnMgPSBuZXcgTWFwKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogQHBhcmFtIHtCYXNlRWxlbWVudH0gZWxlbWVudCB0aGUgZWxlbWVudCB3aGljaCBpcyB0aGUgc291cmNlIG9mIHRoZSBldmVudCBhbmQgd2hpY2ggY2FuIGJlIGF0dGFjaGVkIHRvXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50VHlwZSB0aGUgZXZlbnQgdHlwZSBhcyBpdCBpcyBkZWZpbmVkIGJ5IHRoZSBjb250YWluaW5nIHRyaWdnZXIgKGV4YW1wbGUgXCJvbmNsaWNrXCIpXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50TmFtZSB0aGUgZXZlbnQgbmFtZSBhcyBpdCB3aWxsIGJlIHJlZmVycmVkIHRvIGluIHRoZSBFdmVudFJlZ2lzdHJ5IChleGFtcGxlIFwiLy9ldmVudDpjbGlja2VkXCIpXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNvbXBvbmVudEluZGV4IHVuaXF1ZSBpZCBvZiB0aGUgY29tcG9uZW50IHdoaWNoIG93bnMgdGhlIGVsZW1lbnRcbiAgICAgKi9cbiAgICBhdHRhY2goZWxlbWVudCwgZXZlbnRUeXBlLCBldmVudE5hbWUsIGNvbXBvbmVudEluZGV4KSB7XG4gICAgICAgIGNvbnN0IHVuaXF1ZUV2ZW50TmFtZSA9IGV2ZW50TmFtZSArIFwiX1wiICsgY29tcG9uZW50SW5kZXg7XG4gICAgICAgIGNvbnN0IHRoZUV2ZW50UmVnaXN0cnkgPSB0aGlzO1xuICAgICAgICBlbGVtZW50LmF0dGFjaEV2ZW50KGV2ZW50VHlwZSwgZnVuY3Rpb24oZXZlbnQpIHsgdGhlRXZlbnRSZWdpc3RyeS50cmlnZ2VyKHVuaXF1ZUV2ZW50TmFtZSwgZXZlbnROYW1lLCBldmVudCk7IH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudE5hbWUgdGhlIGV2ZW50IG5hbWUgYXMgaXQgd2lsbCBiZSByZWZlcnJlZCB0byBpbiB0aGUgRXZlbnRSZWdpc3RyeSAoZXhhbXBsZSBcIi8vZXZlbnQ6Y2xpY2tlZFwiKVxuICAgICAqIEBwYXJhbSB7T2JqZWN0RnVuY3Rpb259IGxpc3RlbmVyIHRoZSBvYmplY3Qgd2hpY2ggb3ducyB0aGUgaGFuZGxlciBmdW5jdGlvblxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1bmlxdWVJbmRleCBhIHVuaXF1ZSBpbmRleCBmb3IgdGhlIGV2ZW50XG4gICAgICovXG4gICAgbGlzdGVuKGV2ZW50TmFtZSwgbGlzdGVuZXIsIHVuaXF1ZUluZGV4KSB7XG4gICAgICAgIGNvbnN0IHVuaXF1ZUV2ZW50TmFtZSA9IGV2ZW50TmFtZSArIFwiX1wiICsgdW5pcXVlSW5kZXg7XG4gICAgICAgIGlmICghdGhpcy5saXN0ZW5lcnMuZXhpc3RzKHVuaXF1ZUV2ZW50TmFtZSkpIHtcbiAgICAgICAgICAgIHRoaXMubGlzdGVuZXJzLnNldCh1bmlxdWVFdmVudE5hbWUsIG5ldyBMaXN0KCkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubGlzdGVuZXJzXG4gICAgICAgICAgICAuZ2V0KHVuaXF1ZUV2ZW50TmFtZSlcbiAgICAgICAgICAgIC5hZGQobGlzdGVuZXIpO1xuICAgIH1cblxuICAgIGxpc3RlbkJlZm9yZShldmVudE5hbWUsIGhhbmRsZXJPYmplY3QsIGhhbmRsZXJGdW5jdGlvbikge1xuICAgICAgICBpZiAoIXRoaXMuYmVmb3JlTGlzdGVuZXJzLmV4aXN0cyhldmVudE5hbWUpKSB7XG4gICAgICAgICAgICB0aGlzLmJlZm9yZUxpc3RlbmVycy5zZXQoZXZlbnROYW1lLCBuZXcgTGlzdCgpKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmJlZm9yZUxpc3RlbmVyc1xuICAgICAgICAgICAgLmdldChldmVudE5hbWUpXG4gICAgICAgICAgICAuYWRkKG5ldyBPYmplY3RGdW5jdGlvbihoYW5kbGVyT2JqZWN0LCBoYW5kbGVyRnVuY3Rpb24pKTtcbiAgICB9XG5cbiAgICBsaXN0ZW5BZnRlcihldmVudE5hbWUsIGhhbmRsZXJPYmplY3QsIGhhbmRsZXJGdW5jdGlvbikge1xuICAgICAgICBpZiAoIXRoaXMuYWZ0ZXJMaXN0ZW5lcnMuZXhpc3RzKGV2ZW50TmFtZSkpIHtcbiAgICAgICAgICAgIHRoaXMuYWZ0ZXJMaXN0ZW5lcnMuc2V0KGV2ZW50TmFtZSxuZXcgTGlzdCgpKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFmdGVyTGlzdGVuZXJzXG4gICAgICAgICAgICAuZ2V0KGV2ZW50TmFtZSlcbiAgICAgICAgICAgIC5hZGQobmV3IE9iamVjdEZ1bmN0aW9uKGhhbmRsZXJPYmplY3QsIGhhbmRsZXJGdW5jdGlvbikpO1xuICAgIH1cblxuICAgIHRyaWdnZXIoc3VmZml4ZWRFdmVudE5hbWUsIGV2ZW50TmFtZSwgZXZlbnQpIHtcbiAgICAgICAgdGhpcy5oYW5kbGVCZWZvcmUoZXZlbnROYW1lLCBldmVudCk7XG4gICAgICAgIGlmICh0aGlzLmxpc3RlbmVycy5leGlzdHMoc3VmZml4ZWRFdmVudE5hbWUpKSB7XG4gICAgICAgICAgICB0aGlzLmxpc3RlbmVycy5nZXQoc3VmZml4ZWRFdmVudE5hbWUpLmZvckVhY2goKHZhbHVlLCBwYXJlbnQpID0+IHtcbiAgICAgICAgICAgICAgICB2YWx1ZS5jYWxsKG5ldyBFdmVudChldmVudCkpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfSwgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5oYW5kbGVBZnRlcihldmVudE5hbWUsIGV2ZW50KTtcbiAgICB9XG5cbiAgICBoYW5kbGVCZWZvcmUoZXZlbnROYW1lLCBldmVudCkge1xuICAgICAgICB0aGlzLmhhbmRsZUdsb2JhbCh0aGlzLmJlZm9yZUxpc3RlbmVycywgZXZlbnROYW1lLCBldmVudCk7XG4gICAgfVxuXG4gICAgaGFuZGxlQWZ0ZXIoZXZlbnROYW1lLCBldmVudCkge1xuICAgICAgICB0aGlzLmhhbmRsZUdsb2JhbCh0aGlzLmFmdGVyTGlzdGVuZXJzLCBldmVudE5hbWUsIGV2ZW50KTtcbiAgICB9XG5cbiAgICBoYW5kbGVHbG9iYWwobGlzdGVuZXJzLCBldmVudE5hbWUsIGV2ZW50KSB7XG4gICAgICAgIGlmKGxpc3RlbmVycy5leGlzdHMoZXZlbnROYW1lKSkge1xuICAgICAgICAgICAgbGlzdGVuZXJzLmdldChldmVudE5hbWUpLmZvckVhY2goKHZhbHVlLCBwYXJlbnQpID0+IHtcbiAgICAgICAgICAgICAgICB2YWx1ZS5jYWxsKG5ldyBFdmVudChldmVudCkpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfSwgdGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQgeyBNYXAsIExvZ2dlciB9IGZyb20gXCJjb3JldXRpbF92MVwiO1xyXG5pbXBvcnQgeyBYbWxFbGVtZW50IH0gZnJvbSBcInhtbHBhcnNlcl92MVwiO1xyXG5pbXBvcnQgeyBFbGVtZW50TWFwcGVyIH0gZnJvbSBcIi4uL2VsZW1lbnQvZWxlbWVudE1hcHBlclwiO1xyXG5pbXBvcnQgeyBCYXNlRWxlbWVudCB9IGZyb20gXCIuLi9lbGVtZW50L2Jhc2VFbGVtZW50XCI7XHJcbmltcG9ydCB7IEV2ZW50UmVnaXN0cnkgfSBmcm9tIFwiLi4vZXZlbnQvZXZlbnRSZWdpc3RyeVwiO1xyXG5cclxuLyoqXHJcbiAqIENvbGxlY3RzIGluZm9ybWF0aW9uIHdoZW4gZWxlbWVudHMgYXJlIGNyZWF0ZWQgYW5kIGZpbmRzIHRoZSByb290IGVsZW1lbnQsIGNyZWF0ZXMgbWFwIG9mIGVsZW1lbnRzIFxyXG4gKiBhbmQgcmVnaXN0ZXJzIGV2ZW50cyBpbiB0aGUgZXZlbnRSZWdpc3RyeVxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEVsZW1lbnRSZWdpc3RyYXRvciB7XHJcblxyXG4gICAgY29uc3RydWN0b3IoZXZlbnRSZWdpc3RyeSwgdW5pcXVlSWRSZWdpc3RyeSwgY29tcG9uZW50SW5kZXgpIHtcclxuICAgICAgICB0aGlzLmNvbXBvbmVudEluZGV4ID0gY29tcG9uZW50SW5kZXg7XHJcblxyXG4gICAgICAgIC8qKiBAdHlwZSB7TWFwfSAqL1xyXG4gICAgICAgIHRoaXMudW5pcXVlSWRSZWdpc3RyeSA9IHVuaXF1ZUlkUmVnaXN0cnk7XHJcblxyXG4gICAgICAgIC8qKiBAdHlwZSB7RXZlbnRSZWdpc3RyeX0gKi9cclxuICAgICAgICB0aGlzLmV2ZW50UmVnaXN0cnkgPSBldmVudFJlZ2lzdHJ5O1xyXG5cclxuICAgICAgICAvKiogQHR5cGUge0Jhc2VFbGVtZW50fSAqL1xyXG4gICAgICAgIHRoaXMucm9vdEVsZW1lbnQgPSBudWxsO1xyXG5cclxuICAgICAgICB0aGlzLmVsZW1lbnRNYXAgPSBuZXcgTWFwKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Um9vdEVsZW1lbnQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucm9vdEVsZW1lbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0RWxlbWVudE1hcCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50TWFwO1xyXG4gICAgfVxyXG5cclxuICAgIGdldENvbXBvbmVudEluZGV4KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNvbXBvbmVudEluZGV4O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogTGlzdGVucyB0byBlbGVtZW50cyBiZWluZyBjcmVhdGVkLCBhbmQgdGFrZXMgaW5uIHRoZSBjcmVhdGVkIFhtbEVsZW1lbnQgYW5kIGl0cyBwYXJlbnQgWG1sRWxlbWVudFxyXG4gICAgICogXHJcbiAgICAgKiBAcGFyYW0ge1htbEVsZW1lbnR9IHhtbEVsZW1lbnQgXHJcbiAgICAgKiBAcGFyYW0ge0Jhc2VFbGVtZW50fSBwYXJlbnRXcmFwcGVyIFxyXG4gICAgICovXHJcbiAgICBlbGVtZW50Q3JlYXRlZCAoeG1sRWxlbWVudCwgcGFyZW50V3JhcHBlcikge1xyXG4gICAgICAgIHZhciBlbGVtZW50ID0gRWxlbWVudE1hcHBlci5tYXAoeG1sRWxlbWVudCwgcGFyZW50V3JhcHBlcik7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkVG9FbGVtZW50SWRNYXAoZWxlbWVudCk7XHJcbiAgICAgICAgdGhpcy5yZWdpc3RlckVsZW1lbnRFdmVudHMoZWxlbWVudCk7XHJcblxyXG4gICAgICAgIGlmKHRoaXMucm9vdEVsZW1lbnQgPT09IG51bGwgJiYgZWxlbWVudCAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aGlzLnJvb3RFbGVtZW50ID0gZWxlbWVudDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBlbGVtZW50O1xyXG4gICAgfVxyXG5cclxuICAgIHJlZ2lzdGVyRWxlbWVudEV2ZW50cyhlbGVtZW50KXtcclxuICAgICAgICBpZihlbGVtZW50ID09PSBudWxsIHx8IGVsZW1lbnQgPT09IHVuZGVmaW5lZCB8fCAhKGVsZW1lbnQgaW5zdGFuY2VvZiBCYXNlRWxlbWVudCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgZXZlbnRSZWdpc3RyeSA9IHRoaXMuZXZlbnRSZWdpc3RyeTtcclxuICAgICAgICB2YXIgY29tcG9uZW50SW5kZXggPSB0aGlzLmNvbXBvbmVudEluZGV4O1xyXG4gICAgICAgIGVsZW1lbnQuZ2V0QXR0cmlidXRlcygpLmZvckVhY2goZnVuY3Rpb24gKGF0dHJpYnV0ZUtleSxhdHRyaWJ1dGUscGFyZW50KXtcclxuICAgICAgICAgICAgaWYoYXR0cmlidXRlICE9PSBudWxsICYmIGF0dHJpYnV0ZSAhPT0gdW5kZWZpbmVkICYmIGF0dHJpYnV0ZS5nZXRWYWx1ZSgpLnN0YXJ0c1dpdGgoXCIvL2V2ZW50OlwiKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGV2ZW50TmFtZSA9IGF0dHJpYnV0ZS5nZXRWYWx1ZSgpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGV2ZW50VHlwZSA9IGF0dHJpYnV0ZS5nZXROYW1lKCk7XHJcbiAgICAgICAgICAgICAgICBldmVudFJlZ2lzdHJ5LmF0dGFjaChlbGVtZW50LGV2ZW50VHlwZSxldmVudE5hbWUsY29tcG9uZW50SW5kZXgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlOyAgICAgICAgIFxyXG4gICAgICAgIH0sdGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgYWRkVG9FbGVtZW50SWRNYXAoZWxlbWVudCkge1xyXG4gICAgICAgIGlmKGVsZW1lbnQgPT09IG51bGwgfHwgZWxlbWVudCA9PT0gdW5kZWZpbmVkIHx8ICEoZWxlbWVudCBpbnN0YW5jZW9mIEJhc2VFbGVtZW50KSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBpZCA9IG51bGw7XHJcbiAgICAgICAgaWYoZWxlbWVudC5jb250YWluc0F0dHJpYnV0ZShcImlkXCIpKSB7XHJcbiAgICAgICAgICAgIGlkID0gZWxlbWVudC5nZXRBdHRyaWJ1dGVWYWx1ZShcImlkXCIpO1xyXG4gICAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZVZhbHVlKFwiaWRcIix0aGlzLnVuaXF1ZUlkUmVnaXN0cnkuaWRBdHRyaWJ1dGVXaXRoU3VmZml4KGlkKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZihpZCAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aGlzLmVsZW1lbnRNYXAuc2V0KGlkLGVsZW1lbnQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImltcG9ydCB7IENvbXBvbmVudCB9IGZyb20gXCIuL2NvbXBvbmVudFwiO1xyXG5pbXBvcnQgeyBVbmlxdWVJZFJlZ2lzdHJ5IH0gZnJvbSBcIi4vdW5pcXVlSWRSZWdpc3RyeVwiO1xyXG5pbXBvcnQgeyBFbGVtZW50UmVnaXN0cmF0b3IgfSBmcm9tIFwiLi9lbGVtZW50UmVnaXN0cmF0b3JcIjtcclxuaW1wb3J0IHsgRXZlbnRSZWdpc3RyeSB9IGZyb20gXCIuLi9ldmVudC9ldmVudFJlZ2lzdHJ5XCI7XHJcbmltcG9ydCB7IFRlbXBsYXRlUmVnaXN0cnkgfSBmcm9tIFwiLi4vdGVtcGxhdGUvdGVtcGxhdGVSZWdpc3RyeVwiO1xyXG5pbXBvcnQgeyBEb21UcmVlIH0gZnJvbSBcInhtbHBhcnNlcl92MVwiO1xyXG5pbXBvcnQgeyBMb2dnZXIgfSBmcm9tIFwiY29yZXV0aWxfdjFcIjtcclxuaW1wb3J0IHsgU3R5bGVzUmVnaXN0cnkgfSBmcm9tIFwiLi4vc3R5bGVzL3N0eWxlc1JlZ2lzdHJ5XCI7XHJcbmltcG9ydCB7IENhbnZhc1N0eWxlcyB9IGZyb20gXCIuLi9jYW52YXMvY2FudmFzU3R5bGVzXCI7XHJcbmltcG9ydCB7IEluamVjdGlvblBvaW50IH0gZnJvbSBcIm1pbmRpX3YxXCI7XHJcblxyXG5jb25zdCBMT0cgPSBuZXcgTG9nZ2VyKFwiQ29tcG9uZW50RmFjdG9yeVwiKTtcclxuXHJcbmV4cG9ydCBjbGFzcyBDb21wb25lbnRGYWN0b3J5IHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuXHJcbiAgICAgICAgLyoqIEB0eXBlIHtFdmVudFJlZ2lzdHJ5fSAqL1xyXG4gICAgICAgIHRoaXMuZXZlbnRSZWdpc3RyeSA9IEluamVjdGlvblBvaW50Lmluc3RhbmNlKEV2ZW50UmVnaXN0cnkpO1xyXG5cclxuICAgICAgICAvKiogQHR5cGUge1N0eWxlc1JlZ2lzdHJ5fSAqL1xyXG4gICAgICAgIHRoaXMuc3R5bGVzUmVnaXN0cnkgPSBJbmplY3Rpb25Qb2ludC5pbnN0YW5jZShTdHlsZXNSZWdpc3RyeSk7XHJcblxyXG4gICAgICAgIC8qKiBAdHlwZSB7VGVtcGxhdGVSZWdpc3RyeX0gKi9cclxuICAgICAgICB0aGlzLnRlbXBsYXRlUmVnaXN0cnkgPSBJbmplY3Rpb25Qb2ludC5pbnN0YW5jZShUZW1wbGF0ZVJlZ2lzdHJ5KTtcclxuXHJcbiAgICAgICAgLyoqIEB0eXBlIHtVbmlxdWVJZFJlZ2lzdHJ5fSAqL1xyXG4gICAgICAgIHRoaXMudW5pcXVlSWRSZWdpc3RyeSA9IEluamVjdGlvblBvaW50Lmluc3RhbmNlKFVuaXF1ZUlkUmVnaXN0cnkpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSByZXByZXNlbnRzIHRoZSB0ZW1wbGF0ZSBhbmQgdGhlIHN0eWxlcyBuYW1lIGlmIHRoZSBzdHlsZSBmb3IgdGhhdCBuYW1lIGlzIGF2YWlsYWJsZVxyXG4gICAgICovXHJcbiAgICBjcmVhdGUobmFtZSl7XHJcbiAgICAgICAgdmFyIHRlbXBsYXRlID0gdGhpcy50ZW1wbGF0ZVJlZ2lzdHJ5LmdldChuYW1lKTtcclxuICAgICAgICBpZighdGVtcGxhdGUpIHtcclxuICAgICAgICAgICAgTE9HLmVycm9yKHRoaXMudGVtcGxhdGVSZWdpc3RyeSk7XHJcbiAgICAgICAgICAgIHRocm93IFwiTm8gdGVtcGxhdGUgd2FzIGZvdW5kIHdpdGggbmFtZSBcIiArIG5hbWU7XHJcblxyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgZWxlbWVudFJlZ2lzdHJhdG9yID0gbmV3IEVsZW1lbnRSZWdpc3RyYXRvcih0aGlzLmV2ZW50UmVnaXN0cnksIHRoaXMudW5pcXVlSWRSZWdpc3RyeSwgY29tcG9uZW50Q291bnRlcisrKTtcclxuICAgICAgICBuZXcgRG9tVHJlZSh0ZW1wbGF0ZS5nZXRUZW1wbGF0ZVNvdXJjZSgpLGVsZW1lbnRSZWdpc3RyYXRvcikubG9hZCgpO1xyXG5cclxuICAgICAgICB0aGlzLm1vdW50U3R5bGVzKG5hbWUpO1xyXG5cclxuICAgICAgICByZXR1cm4gbmV3IENvbXBvbmVudChlbGVtZW50UmVnaXN0cmF0b3IuZ2V0Q29tcG9uZW50SW5kZXgoKSwgZWxlbWVudFJlZ2lzdHJhdG9yLmdldFJvb3RFbGVtZW50KCksIGVsZW1lbnRSZWdpc3RyYXRvci5nZXRFbGVtZW50TWFwKCkpO1xyXG4gICAgfVxyXG5cclxuICAgIG1vdW50U3R5bGVzKG5hbWUpIHtcclxuICAgICAgICBpZih0aGlzLnN0eWxlc1JlZ2lzdHJ5LmNvbnRhaW5zKG5hbWUpKSB7XHJcbiAgICAgICAgICAgIENhbnZhc1N0eWxlcy5zZXRTdHlsZShuYW1lLCB0aGlzLnN0eWxlc1JlZ2lzdHJ5LmdldChuYW1lKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxufVxyXG5cclxudmFyIGNvbXBvbmVudENvdW50ZXIgPSAwOyIsImltcG9ydCB7IFByb3BlcnR5QWNjZXNzb3IsIExpc3QsIExvZ2dlciB9IGZyb20gXCJjb3JldXRpbF92MVwiO1xuaW1wb3J0IHsgQWJzdHJhY3RJbnB1dEVsZW1lbnQgfSBmcm9tIFwiLi4vZWxlbWVudC9hYnN0cmFjdElucHV0RWxlbWVudFwiO1xuXG5jb25zdCBMT0cgPSBuZXcgTG9nZ2VyKFwiSW5wdXRFbGVtZW50RGF0YUJpbmRpbmdcIik7XG5cbmV4cG9ydCBjbGFzcyBJbnB1dEVsZW1lbnREYXRhQmluZGluZyB7XG5cbiAgICBjb25zdHJ1Y3Rvcihtb2RlbCwgdmFsaWRhdG9yKSB7XG4gICAgICAgIHRoaXMubW9kZWwgPSBtb2RlbDtcbiAgICAgICAgdGhpcy52YWxpZGF0b3IgPSB2YWxpZGF0b3I7XG4gICAgICAgIHRoaXMucHVsbGVycyA9IG5ldyBMaXN0KCk7XG4gICAgICAgIHRoaXMucHVzaGVycyA9IG5ldyBMaXN0KCk7XG4gICAgfVxuXG4gICAgc3RhdGljIGxpbmsobW9kZWwsIHZhbGlkYXRvcikge1xuICAgICAgICByZXR1cm4gbmV3IElucHV0RWxlbWVudERhdGFCaW5kaW5nKG1vZGVsLCB2YWxpZGF0b3IpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7QWJzdHJhY3RJbnB1dEVsZW1lbnR9IGZpZWxkIFxuICAgICAqL1xuICAgIGFuZChmaWVsZCkge1xuICAgICAgICByZXR1cm4gdGhpcy50byhmaWVsZCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogQHBhcmFtIHtBYnN0cmFjdElucHV0RWxlbWVudH0gZmllbGQgXG4gICAgICovXG4gICAgdG8oZmllbGQpIHtcbiAgICAgICAgY29uc3QgcHVsbGVyID0gKCkgPT4ge1xuICAgICAgICAgICAgbGV0IG1vZGVsVmFsdWUgPSBQcm9wZXJ0eUFjY2Vzc29yLmdldFZhbHVlKHRoaXMubW9kZWwsIGZpZWxkLmdldE5hbWUoKSk7XG4gICAgICAgICAgICBpZiAoZmllbGQuZ2V0VmFsdWUgJiYgbW9kZWxWYWx1ZSAhPT0gZmllbGQuZ2V0VmFsdWUoKSkge1xuICAgICAgICAgICAgICAgIFByb3BlcnR5QWNjZXNzb3Iuc2V0VmFsdWUodGhpcy5tb2RlbCwgZmllbGQuZ2V0TmFtZSgpLCBmaWVsZC5nZXRWYWx1ZSgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLnZhbGlkYXRvciAmJiB0aGlzLnZhbGlkYXRvci52YWxpZGF0ZSl7XG4gICAgICAgICAgICAgICAgdGhpcy52YWxpZGF0b3IudmFsaWRhdGUoZmllbGQuZ2V0VmFsdWUoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGZpZWxkLmF0dGFjaEV2ZW50KFwib25jaGFuZ2VcIiwgcHVsbGVyKTtcbiAgICAgICAgZmllbGQuYXR0YWNoRXZlbnQoXCJvbmtleXVwXCIsIHB1bGxlcik7XG4gICAgICAgIHB1bGxlci5jYWxsKCk7XG5cbiAgICAgICAgY29uc3QgcHVzaGVyID0gKCkgPT4ge1xuICAgICAgICAgICAgdmFyIG1vZGVsVmFsdWUgPSBQcm9wZXJ0eUFjY2Vzc29yLmdldFZhbHVlKHRoaXMubW9kZWwsIGZpZWxkLmdldE5hbWUoKSk7XG4gICAgICAgICAgICBpZiAobW9kZWxWYWx1ZSA9PT0gZmllbGQuZ2V0VmFsdWUoKSkge1xuICAgICAgICAgICAgICAgIGlmIChmaWVsZC5zZXRDaGVja2VkICYmICFmaWVsZC5nZXRDaGVja2VkKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgZmllbGQuc2V0Q2hlY2tlZCh0cnVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChmaWVsZC5zZXRDaGVja2VkICYmIGZpZWxkLmdldENoZWNrZWQoKSkge1xuICAgICAgICAgICAgICAgICAgICBmaWVsZC5zZXRDaGVja2VkKGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGZpZWxkLnNldFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGZpZWxkLnNldFZhbHVlKG1vZGVsVmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9O1xuXG4gICAgICAgIGxldCBjaGFuZ2VkRnVuY3Rpb25OYW1lID0gXCJfX2NoYW5nZWRfXCIgKyBmaWVsZC5nZXROYW1lKCkucmVwbGFjZShcIi5cIixcIl9cIik7XG4gICAgICAgIGlmICghdGhpcy5tb2RlbFtjaGFuZ2VkRnVuY3Rpb25OYW1lXSkge1xuICAgICAgICAgICAgdGhpcy5tb2RlbFtjaGFuZ2VkRnVuY3Rpb25OYW1lXSA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnB1c2goKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucHVsbGVycy5hZGQocHVsbGVyKTtcbiAgICAgICAgdGhpcy5wdXNoZXJzLmFkZChwdXNoZXIpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHB1bGwoKSB7XG4gICAgICAgIHRoaXMucHVsbGVycy5mb3JFYWNoKCh2YWx1ZSwgcGFyZW50KSA9PiB7XG4gICAgICAgICAgICB2YWx1ZS5jYWxsKHBhcmVudCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSwgdGhpcyk7XG4gICAgfVxuXG4gICAgcHVzaCgpIHtcbiAgICAgICAgdGhpcy5wdXNoZXJzLmZvckVhY2goKHZhbHVlLCBwYXJlbnQpID0+IHtcbiAgICAgICAgICAgIHZhbHVlLmNhbGwocGFyZW50KTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9LCB0aGlzKTtcbiAgICB9XG59XG4iLCJleHBvcnQgY2xhc3MgUHJveHlPYmplY3RGYWN0b3J5IHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgYSBwcm94eSBmb3IgYW4gb2JqZWN0IHdoaWNoIGFsbG93cyBkYXRhYmluZGluZyBmcm9tIHRoZSBvYmplY3QgdG8gdGhlIGZvcm0gZWxlbWVudFxyXG4gICAgICogXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgY3JlYXRlUHJveHlPYmplY3Qob2JqZWN0KSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm94eShvYmplY3QsIHtcclxuICAgICAgICAgICAgc2V0OiAodGFyZ2V0LCBwcm9wLCB2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IHN1Y2Nlc3MgPSAodGFyZ2V0W3Byb3BdID0gdmFsdWUpO1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCBjaGFuZ2VkRnVuY3Rpb25OYW1lID0gXCJfX2NoYW5nZWRfXCIgKyBwcm9wO1xyXG4gICAgICAgICAgICAgICAgbGV0IGNoYW5nZWRGdW5jdGlvbiA9IHRhcmdldFtjaGFuZ2VkRnVuY3Rpb25OYW1lXTtcclxuICAgICAgICAgICAgICAgIGlmKGNoYW5nZWRGdW5jdGlvbiAmJiB0eXBlb2YgY2hhbmdlZEZ1bmN0aW9uID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgYm91bmRDaGFuZ2VkRnVuY3Rpb24gPSBjaGFuZ2VkRnVuY3Rpb24uYmluZCh0YXJnZXQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJvdW5kQ2hhbmdlZEZ1bmN0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc3VjY2VzcyA9PT0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbn0iLCJpbXBvcnQgeyBVcmwgfSBmcm9tIFwiLi4vdXRpbC91cmxcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBIaXN0b3J5IHtcclxuXHJcbiAgICBzdGF0aWMgcHVzaFVybCh1cmwsdGl0bGUsc3RhdGVPYmplY3QpIHtcclxuICAgICAgICB3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUoc3RhdGVPYmplY3QsIHRpdGxlLCB1cmwudG9TdHJpbmcoKSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGdldFVybCgpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFVybCh3aW5kb3cubG9jYXRpb24uaHJlZik7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGxvYWRVcmwodXJsKSB7XHJcbiAgICAgICAgd2luZG93LmxvY2F0aW9uID0gdXJsLnRvU3RyaW5nKCk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQge0hpc3Rvcnl9IGZyb20gXCIuLi9uYXZpZ2F0aW9uL2hpc3RvcnkuanNcIjtcclxuaW1wb3J0IHtNYXB9IGZyb20gXCJjb3JldXRpbF92MVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFN0YXRlIHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuXHJcbiAgICAgICAgdGhpcy5zdGF0ZUxpc3RlbmVyTWFwID0gbmV3IE1hcCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlY29yZFN0YXRlKG5ld1BhdGgpIHtcclxuICAgICAgICB2YXIgdXJsID0gSGlzdG9yeS5nZXRVcmwoKTtcclxuICAgICAgICAvLyBQdXNoIGN1cnJlbnQgdXJsIHRvIGJyb3dzZXIgaGlzdG9yeVxyXG4gICAgICAgIGlmKCEodXJsLmdldFBhdGgoMCkgPT09IG5ld1BhdGgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0VXJsKHVybCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2V0cyBhIG5ldyBzdGF0ZVxyXG4gICAgICogXHJcbiAgICAgKiBAcGFyYW0gdXJsIFxyXG4gICAgICovXHJcbiAgICBzZXRVcmwodXJsKSB7XHJcbiAgICAgICAgSGlzdG9yeS5wdXNoVXJsKHVybCxcIlwiLHt9KTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IExvZ2dlciB9IGZyb20gXCJjb3JldXRpbF92MVwiXHJcbmltcG9ydCB7IE1pbmRpQ29uZmlnLCBTaW5nbGV0b25Db25maWcgfSBmcm9tIFwibWluZGlfdjFcIlxyXG5pbXBvcnQgeyBUZW1wbGF0ZVJlZ2lzdHJ5IH0gZnJvbSBcIi4vdGVtcGxhdGUvdGVtcGxhdGVSZWdpc3RyeS5qc1wiO1xyXG5pbXBvcnQgeyBFdmVudFJlZ2lzdHJ5IH0gZnJvbSBcIi4vZXZlbnQvZXZlbnRSZWdpc3RyeS5qc1wiO1xyXG5pbXBvcnQgeyBVbmlxdWVJZFJlZ2lzdHJ5IH0gZnJvbSBcIi4vY29tcG9uZW50L3VuaXF1ZUlkUmVnaXN0cnkuanNcIjtcclxuaW1wb3J0IHsgQ29tcG9uZW50RmFjdG9yeSB9IGZyb20gXCIuL2NvbXBvbmVudC9jb21wb25lbnRGYWN0b3J5LmpzXCI7XHJcbmltcG9ydCB7IFN0YXRlIH0gZnJvbSBcIi4vbmF2aWdhdGlvbi9zdGF0ZS5qc1wiO1xyXG5pbXBvcnQgeyBTdHlsZXNSZWdpc3RyeSB9IGZyb20gXCIuL3N0eWxlcy9zdHlsZXNSZWdpc3RyeS5qc1wiO1xyXG5cclxuXHJcbmNvbnN0IExPRyA9IG5ldyBMb2dnZXIoXCJKdXN0cmlnaHRDb25maWdcIik7XHJcblxyXG5leHBvcnQgY2xhc3MgSnVzdHJpZ2h0Q29uZmlnIHtcclxuXHJcbiAgICBzdGF0aWMgZ2V0SW5zdGFuY2UoKSB7XHJcbiAgICAgICAgcmV0dXJuIGp1c3RyaWdodENvbmZpZztcclxuICAgIH1cclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLmNvbmZpZyA9IG5ldyBNaW5kaUNvbmZpZygpXHJcbiAgICAgICAgICAgIC5hZGRUeXBlQ29uZmlnKFNpbmdsZXRvbkNvbmZpZy51bm5hbWVkKFRlbXBsYXRlUmVnaXN0cnkpKVxyXG4gICAgICAgICAgICAuYWRkVHlwZUNvbmZpZyhTaW5nbGV0b25Db25maWcudW5uYW1lZChTdHlsZXNSZWdpc3RyeSkpXHJcbiAgICAgICAgICAgIC5hZGRUeXBlQ29uZmlnKFNpbmdsZXRvbkNvbmZpZy51bm5hbWVkKEV2ZW50UmVnaXN0cnkpKVxyXG4gICAgICAgICAgICAuYWRkVHlwZUNvbmZpZyhTaW5nbGV0b25Db25maWcudW5uYW1lZChVbmlxdWVJZFJlZ2lzdHJ5KSlcclxuICAgICAgICAgICAgLmFkZFR5cGVDb25maWcoU2luZ2xldG9uQ29uZmlnLnVubmFtZWQoQ29tcG9uZW50RmFjdG9yeSkpXHJcbiAgICAgICAgICAgIC5hZGRUeXBlQ29uZmlnKFNpbmdsZXRvbkNvbmZpZy51bm5hbWVkKFN0YXRlKSlcclxuICAgIH1cclxuXHJcbiAgICBnZXRDb25maWcoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uZmlnO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuY29uc3QganVzdHJpZ2h0Q29uZmlnID0gbmV3IEp1c3RyaWdodENvbmZpZygpOyIsImltcG9ydCB7IENvbnRhaW5lckJyaWRnZSB9IGZyb20gXCIuLi9icmlkZ2UvY29udGFpbmVyQnJpZGdlLmpzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQXBwbGljYXRpb25TdG9yYWdlIHtcclxuICAgIFxyXG4gICAgc3RhdGljIHNldExvY2FsQXR0cmlidXRlKGtleSwgdmFsdWUpIHtcclxuICAgICAgICBDb250YWluZXJCcmlkZ2Uuc2V0TG9jYWxBdHRyaWJ1dGUoa2V5LHZhbHVlKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZ2V0TG9jYWxBdHRyaWJ1dGUoa2V5KSB7XHJcbiAgICAgICAgcmV0dXJuIENvbnRhaW5lckJyaWRnZS5nZXRMb2NhbEF0dHJpYnV0ZShrZXkpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBoYXNMb2NhbEF0dHJpYnV0ZShrZXkpIHtcclxuICAgICAgICByZXR1cm4gQ29udGFpbmVyQnJpZGdlLmhhc0xvY2FsQXR0cmlidXRlKGtleSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHJlbW92ZUxvY2FsQXR0cmlidXRlKGtleSkge1xyXG4gICAgICAgIHJldHVybiBDb250YWluZXJCcmlkZ2UucmVtb3ZlTG9jYWxBdHRyaWJ1dGUoa2V5KTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IENvbnRhaW5lckJyaWRnZSB9IGZyb20gXCIuLi9icmlkZ2UvY29udGFpbmVyQnJpZGdlLmpzXCJcclxuXHJcbmV4cG9ydCBjbGFzcyBTZXNzaW9uU3RvcmFnZSB7XHJcblxyXG4gICAgc3RhdGljIHNldFNlc3Npb25BdHRyaWJ1dGUoa2V5LCB2YWx1ZSkge1xyXG4gICAgICAgIENvbnRhaW5lckJyaWRnZS5zZXRTZXNzaW9uQXR0cmlidXRlKGtleSx2YWx1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGhhc1Nlc3Npb25BdHRyaWJ1dGUoa2V5KSB7XHJcbiAgICAgICAgcmV0dXJuIENvbnRhaW5lckJyaWRnZS5oYXNTZXNzaW9uQXR0cmlidXRlKGtleSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGdldFNlc3Npb25BdHRyaWJ1dGUoa2V5KSB7XHJcbiAgICAgICAgcmV0dXJuIENvbnRhaW5lckJyaWRnZS5nZXRTZXNzaW9uQXR0cmlidXRlKGtleSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHJlbW92ZVNlc3Npb25BdHRyaWJ1dGUoa2V5KSB7XHJcbiAgICAgICAgcmV0dXJuIENvbnRhaW5lckJyaWRnZS5yZW1vdmVTZXNzaW9uQXR0cmlidXRlKGtleSk7XHJcbiAgICB9XHJcblxyXG59IiwiaW1wb3J0IHsgT2JqZWN0RnVuY3Rpb24gfSBmcm9tIFwiY29yZXV0aWxfdjFcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBIdHRwUmVzcG9uc2VIYW5kbGVyIHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNvZGUgXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdEZ1bmN0aW9ufSBvYmplY3RGdW5jdGlvbiBcclxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IG1hcHBlckZ1bmN0aW9uIFxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3Rvcihjb2RlLCBvYmplY3RGdW5jdGlvbiwgbWFwcGVyRnVuY3Rpb24pIHtcclxuICAgICAgICB0aGlzLmNvZGUgPSBjb2RlO1xyXG4gICAgICAgIHRoaXMub2JqZWN0RnVuY3Rpb24gPSBvYmplY3RGdW5jdGlvbjtcclxuICAgICAgICB0aGlzLm1hcHBlckZ1bmN0aW9uID0gbWFwcGVyRnVuY3Rpb247XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfVxyXG4gICAgICovXHJcbiAgICBnZXRDb2RlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNvZGU7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0RnVuY3Rpb259XHJcbiAgICAgKi9cclxuICAgIGdldE9iamVjdEZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm9iamVjdEZ1bmN0aW9uXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAcmV0dXJucyB7Y2xhc3N9XHJcbiAgICAgKi9cclxuICAgIGdldE1hcHBlckZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm1hcHBlckZ1bmN0aW9uO1xyXG4gICAgfVxyXG5cclxufSIsImltcG9ydCB7IE1hcCwgT2JqZWN0RnVuY3Rpb24sIE9iamVjdE1hcHBlciwgTG9nZ2VyIH0gZnJvbSBcImNvcmV1dGlsX3YxXCI7XHJcbmltcG9ydCB7IEh0dHBSZXNwb25zZUhhbmRsZXIgfSBmcm9tIFwiLi9odHRwUmVzcG9uc2VIYW5kbGVyXCI7XHJcbmltcG9ydCB7IENsaWVudCB9IGZyb20gXCIuLi9jbGllbnQvY2xpZW50LmpzXCI7XHJcblxyXG5jb25zdCBMT0cgPSBuZXcgTG9nZ2VyKFwiSHR0cENhbGxCdWlsZGVyXCIpO1xyXG5cclxuZXhwb3J0IGNsYXNzIEh0dHBDYWxsQnVpbGRlciB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgXHJcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gcGFyYW1ldGVyIFxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3Rvcih1cmwsIHBhcmFtdGVyKSB7XHJcblxyXG4gICAgICAgIC8qKiBAdHlwZSB7U3RyaW5nfSAqL1xyXG4gICAgICAgIHRoaXMudXJsID0gdXJsO1xyXG5cclxuICAgICAgICAvKiogQHR5cGUge09iamVjdH0gKi9cclxuICAgICAgICB0aGlzLnBhcmFtdGVyID0gcGFyYW10ZXI7XHJcblxyXG4gICAgICAgIC8qKiBAdHlwZSB7TWFwfSAqL1xyXG4gICAgICAgIHRoaXMuaHR0cENhbGxiYWNrTWFwID0gbmV3IE1hcCgpO1xyXG5cclxuICAgICAgICAvKiogQHR5cGUge09iamVjdEZ1bmN0aW9ufSAqL1xyXG4gICAgICAgIHRoaXMuZXJyb3JDYWxsYmFjayA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBcclxuICAgICAqIEBwYXJhbSB7Q2xpZW50fSBjbGllbnQgXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIFxyXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHBhcmFtZXRlciBcclxuICAgICAqIEByZXR1cm5zIHtIdHRwQ2FsbEJ1aWxkZXJ9XHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBuZXdJbnN0YW5jZShjbGllbnQsIHVybCwgcGFyYW1ldGVyKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBIdHRwQ2FsbEJ1aWxkZXIoY2xpZW50LCB1cmwsIHBhcmFtZXRlcik7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBjb2RlIFxyXG4gICAgICogQHBhcmFtIHtvYmplY3R9IG9iamVjdCBcclxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrIFxyXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gbWFwcGVyRnVuY3Rpb24gbWFwcGVyIGZ1bmN0aW9uIHRvIHBhc3MgdGhlIHJlc3VsdCBvYmplY3QgdG9cclxuICAgICAqL1xyXG4gICAgcmVzcG9uc2VNYXBwaW5nKGNvZGUsIG9iamVjdCwgY2FsbGJhY2ssIG1hcHBlckZ1bmN0aW9uKSB7XHJcbiAgICAgICAgdGhpcy5odHRwQ2FsbGJhY2tNYXAuc2V0KGNvZGUsIG5ldyBIdHRwUmVzcG9uc2VIYW5kbGVyKGNvZGUsIG5ldyBPYmplY3RGdW5jdGlvbihvYmplY3QsIGNhbGxiYWNrKSwgbWFwcGVyRnVuY3Rpb24pKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFxyXG4gICAgICogQHBhcmFtIHtvYmplY3R9IG9iamVjdCBcclxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrIFxyXG4gICAgICovXHJcbiAgICBlcnJvck1hcHBpbmcob2JqZWN0LCBjYWxsYmFjaykge1xyXG4gICAgICAgIGlmKG9iamVjdCAmJiBjYWxsYmFjaykge1xyXG4gICAgICAgICAgICB0aGlzLmVycm9yQ2FsbGJhY2sgPSBuZXcgT2JqZWN0RnVuY3Rpb24ob2JqZWN0LCBjYWxsYmFjayk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCgpIHtcclxuICAgICAgICBDbGllbnQuZ2V0KHRoaXMudXJsKS50aGVuKChyZXNwb25zZSkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NSZXNwb25zZShyZXNwb25zZSk7XHJcbiAgICAgICAgfSwgKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc0Vycm9yKGVycm9yKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwb3N0KCkge1xyXG4gICAgICAgIENsaWVudC5wb3N0KHRoaXMudXJsLCB0aGlzLnBhcmFtdGVyKS50aGVuKChyZXNwb25zZSkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NSZXNwb25zZShyZXNwb25zZSk7XHJcbiAgICAgICAgfSwgKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc0Vycm9yKGVycm9yKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwdXQoKSB7XHJcbiAgICAgICAgQ2xpZW50LnB1dCh0aGlzLnVybCwgdGhpcy5wYXJhbXRlcikudGhlbigocmVzcG9uc2UpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5wcm9jZXNzUmVzcG9uc2UocmVzcG9uc2UpO1xyXG4gICAgICAgIH0sIChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NFcnJvcihlcnJvcik7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcGF0Y2goKSB7XHJcbiAgICAgICAgQ2xpZW50LnBhdGNoKHRoaXMudXJsLCB0aGlzLnBhcmFtdGVyKS50aGVuKChyZXNwb25zZSkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NSZXNwb25zZShyZXNwb25zZSk7XHJcbiAgICAgICAgfSwgKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc0Vycm9yKGVycm9yKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBkZWxldGUoKSB7XHJcbiAgICAgICAgQ2xpZW50LmRlbGV0ZSh0aGlzLnVybCkudGhlbigocmVzcG9uc2UpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5wcm9jZXNzUmVzcG9uc2UocmVzcG9uc2UpO1xyXG4gICAgICAgIH0sIChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NFcnJvcihlcnJvcik7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvY2Vzc0Vycm9yKGVycm9yKSB7XHJcbiAgICAgICAgTE9HLmVycm9yKGVycm9yKTtcclxuICAgICAgICBpZih0aGlzLmVycm9yQ2FsbGJhY2spIHtcclxuICAgICAgICAgICAgdGhpcy5lcnJvckNhbGxiYWNrLmNhbGwoZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFxyXG4gICAgICogQHBhcmFtIHtSZXNwb25zZX0gcmVzcG9uc2UgXHJcbiAgICAgKi9cclxuICAgIHByb2Nlc3NSZXNwb25zZShyZXNwb25zZSkge1xyXG4gICAgICAgIC8qKiBAdHlwZSB7SHR0cFJlc3BvbnNlSGFuZGxlcn0gKi9cclxuICAgICAgICB2YXIgcmVzcG9uc2VIYW5kbGVyID0gdGhpcy5odHRwQ2FsbGJhY2tNYXAuZ2V0KHJlc3BvbnNlLnN0YXR1cyk7XHJcbiAgICAgICAgaWYocmVzcG9uc2VIYW5kbGVyKSB7XHJcbiAgICAgICAgICAgIHJlc3BvbnNlLmpzb24oKS50aGVuKFxyXG4gICAgICAgICAgICAgICAgKG9iamVjdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtYXBwZXJGdW5jdGlvbiA9IHJlc3BvbnNlSGFuZGxlci5nZXRNYXBwZXJGdW5jdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKG1hcHBlckZ1bmN0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlSGFuZGxlci5nZXRPYmplY3RGdW5jdGlvbigpLmNhbGwobWFwcGVyRnVuY3Rpb24ob2JqZWN0KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VIYW5kbGVyLmdldE9iamVjdEZ1bmN0aW9uKCkuY2FsbChvYmplY3QpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAoZmFpbFJlYXNvbikgPT4ge1xyXG5cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBMaXN0LCBMb2dnZXIgfSBmcm9tIFwiY29yZXV0aWxfdjFcIjtcclxuXHJcbmNvbnN0IExPRyA9IG5ldyBMb2dnZXIoXCJBYnN0cmFjdFZhbGlkYXRvclwiKTtcclxuXHJcbmV4cG9ydCBjbGFzcyBBYnN0cmFjdFZhbGlkYXRvciB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGlzY3VycmVudGx5VmFsaWRcclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IoaXNjdXJyZW50bHlWYWxpZCA9IGZhbHNlKSB7XHJcbiAgICAgICAgdGhpcy52YWxpZExpc3RlbmVyTGlzdCA9IG5ldyBMaXN0KCk7XHJcbiAgICAgICAgdGhpcy5pbnZhbGlkTGlzdGVuZXJMaXN0ID0gbmV3IExpc3QoKTtcclxuICAgICAgICB0aGlzLmN1cnJlbnRseVZhbGlkID0gaXNjdXJyZW50bHlWYWxpZDtcclxuICAgIH1cclxuXHJcbiAgICBpc1ZhbGlkKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmlzY3VycmVudGx5VmFsaWQ7XHJcbiAgICB9XHJcblxyXG5cdHZhbGlkKCkge1xyXG4gICAgICAgIHRoaXMuaXNjdXJyZW50bHlWYWxpZCA9IHRydWU7XHJcbiAgICAgICAgdGhpcy52YWxpZExpc3RlbmVyTGlzdC5mb3JFYWNoKCh2YWx1ZSwgcGFyZW50KSA9PiB7XHJcbiAgICAgICAgICAgIHZhbHVlLmNhbGwoKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfSwgdGhpcyk7XHJcblx0fVxyXG5cclxuXHRpbnZhbGlkKCkge1xyXG4gICAgICAgIHRoaXMuaXNjdXJyZW50bHlWYWxpZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuaW52YWxpZExpc3RlbmVyTGlzdC5mb3JFYWNoKCh2YWx1ZSwgcGFyZW50KSA9PiB7XHJcbiAgICAgICAgICAgIHZhbHVlLmNhbGwoKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfSwgdGhpcyk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBcclxuXHQgKiBAcGFyYW0ge09iamVjdEZ1bmN0aW9ufSB2YWxpZExpc3RlbmVyIFxyXG5cdCAqL1xyXG5cdHdpdGhWYWxpZExpc3RlbmVyKHZhbGlkTGlzdGVuZXIpIHtcclxuXHRcdHRoaXMudmFsaWRMaXN0ZW5lckxpc3QuYWRkKHZhbGlkTGlzdGVuZXIpO1xyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBcclxuXHQgKiBAcGFyYW0ge09iamVjdEZ1bmN0aW9ufSBpbnZhbGlkTGlzdGVuZXIgXHJcblx0ICovXHJcblx0d2l0aEludmFsaWRMaXN0ZW5lcihpbnZhbGlkTGlzdGVuZXIpIHtcclxuXHRcdHRoaXMuaW52YWxpZExpc3RlbmVyTGlzdC5hZGQoaW52YWxpZExpc3RlbmVyKTtcclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH1cclxuXHJcbn1cclxuIiwiaW1wb3J0IHsgTGlzdCwgT2JqZWN0RnVuY3Rpb24gfSBmcm9tIFwiY29yZXV0aWxfdjFcIjtcclxuaW1wb3J0IHsgQWJzdHJhY3RWYWxpZGF0b3IgfSBmcm9tICcuL2Fic3RyYWN0VmFsaWRhdG9yLmpzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBBbmRWYWxpZGF0b3JTZXQgZXh0ZW5kcyBBYnN0cmFjdFZhbGlkYXRvciB7XHJcblxyXG4gICAgY29uc3RydWN0b3IoaXNWYWxpZEZyb21TdGFydCA9IGZhbHNlKSB7XHJcbiAgICAgICAgc3VwZXIoaXNWYWxpZEZyb21TdGFydCk7XHJcbiAgICAgICAgdGhpcy52YWxpZGF0b3JMaXN0ID0gbmV3IExpc3QoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBwYXJhbSB7QWJzdHJhY3RWYWxpZGF0b3J9IHZhbGlkYXRvclxyXG4gICAgICovXHJcbiAgICB3aXRoVmFsaWRhdG9yKHZhbGlkYXRvcikge1xyXG4gICAgICAgIHZhbGlkYXRvci53aXRoVmFsaWRMaXN0ZW5lcihuZXcgT2JqZWN0RnVuY3Rpb24odGhpcywgdGhpcy5vbmVWYWxpZCkpO1xyXG4gICAgICAgIHZhbGlkYXRvci53aXRoSW52YWxpZExpc3RlbmVyKG5ldyBPYmplY3RGdW5jdGlvbih0aGlzLCB0aGlzLm9uZUludmFsaWQpKTtcclxuICAgICAgICB0aGlzLnZhbGlkYXRvckxpc3QuYWRkKHZhbGlkYXRvcik7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBPbmUgdmFsaWRhdG9yIHNhaWQgaXQgd2FzIHZhbGlkXHJcbiAgICAgKi9cclxuICAgIG9uZVZhbGlkKCkge1xyXG4gICAgICAgIGxldCBmb3VuZEludmFsaWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnZhbGlkYXRvckxpc3QuZm9yRWFjaCgodmFsdWUscGFyZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGlmKCF2YWx1ZS5pc1ZhbGlkKCkpIHtcclxuICAgICAgICAgICAgICAgIGZvdW5kSW52YWxpZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfSwgdGhpcyk7XHJcbiAgICAgICAgaWYoIWZvdW5kSW52YWxpZCkge1xyXG4gICAgICAgICAgICBzdXBlci52YWxpZCgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHN1cGVyLmludmFsaWQoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBPbmUgdmFsaWRhdG9yIHNhaWQgaXQgd2FzIGludmFsaWRcclxuICAgICAqL1xyXG4gICAgb25lSW52YWxpZCgpIHtcclxuICAgICAgICBzdXBlci5pbnZhbGlkKCk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBBYnN0cmFjdFZhbGlkYXRvciB9IGZyb20gXCIuL2Fic3RyYWN0VmFsaWRhdG9yLmpzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgUmVnZXhWYWxpZGF0b3IgZXh0ZW5kcyBBYnN0cmFjdFZhbGlkYXRvciB7XHJcblxyXG4gICAgY29uc3RydWN0b3IoaXNjdXJyZW50bHlWYWxpZCA9IGZhbHNlLCByZWdleCA9IFwiKC4qKVwiKSB7XHJcbiAgICAgICAgc3VwZXIoaXNjdXJyZW50bHlWYWxpZCk7XHJcbiAgICAgICAgdGhpcy5yZWdleCA9IHJlZ2V4O1xyXG4gICAgfVxyXG5cclxuXHR2YWxpZGF0ZSh2YWx1ZSl7XHJcblx0XHRpZih2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgJiYgdmFsdWUubWF0Y2godGhpcy5yZWdleCkpe1xyXG5cdCAgICBcdHRoaXMudmFsaWQoKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHRoaXMuaW52YWxpZCgpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcbn1cclxuIiwiaW1wb3J0IHsgUmVnZXhWYWxpZGF0b3IgfSBmcm9tIFwiLi9yZWdleFZhbGlkYXRvci5qc1wiO1xyXG5cclxuY29uc3QgRU1BSUxfRk9STUFUID0gL15cXHcrKFtcXC4tXT9cXHcrKSpAXFx3KyhbXFwuLV0/XFx3KykqKFxcLlxcd3syLDN9KSskLztcclxuXHJcbmV4cG9ydCBjbGFzcyBFbWFpbFZhbGlkYXRvciBleHRlbmRzIFJlZ2V4VmFsaWRhdG9yIHtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihpc2N1cnJlbnRseVZhbGlkID0gZmFsc2UpIHtcclxuICAgICAgICBzdXBlcihpc2N1cnJlbnRseVZhbGlkLCBFTUFJTF9GT1JNQVQpO1xyXG4gICAgfVxyXG5cclxufVxyXG4iLCJpbXBvcnQgeyBBYnN0cmFjdFZhbGlkYXRvciB9IGZyb20gXCIuL2Fic3RyYWN0VmFsaWRhdG9yLmpzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgRXF1YWxzVmFsaWRhdG9yIGV4dGVuZHMgQWJzdHJhY3RWYWxpZGF0b3Ige1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGlzY3VycmVudGx5VmFsaWQgPSBmYWxzZSwgdmFsdWUgPSBudWxsKSB7XHJcblx0XHRzdXBlcihpc2N1cnJlbnRseVZhbGlkKTtcclxuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0VmFsdWUodmFsdWUpIHtcclxuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XHJcbiAgICB9XHJcblxyXG5cdHZhbGlkYXRlKHZhbHVlKXtcclxuXHRcdGlmKHZhbHVlICYmIHZhbHVlID09PSB0aGlzLnZhbHVlKXtcclxuXHQgICAgXHR0aGlzLnZhbGlkKCk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR0aGlzLmludmFsaWQoKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG59IiwiaW1wb3J0IHsgTGlzdCwgT2JqZWN0RnVuY3Rpb24gfSBmcm9tIFwiY29yZXV0aWxfdjFcIjtcclxuaW1wb3J0IHsgQWJzdHJhY3RWYWxpZGF0b3IgfSBmcm9tICcuL2Fic3RyYWN0VmFsaWRhdG9yLmpzJ1xyXG5cclxuZXhwb3J0IGNsYXNzIE9yVmFsaWRhdG9yU2V0IGV4dGVuZHMgQWJzdHJhY3RWYWxpZGF0b3Ige1xyXG4gICAgXHJcbiAgICBjb25zdHJ1Y3Rvcihpc1ZhbGlkRnJvbVN0YXJ0ID0gZmFsc2UpIHtcclxuICAgICAgICBzdXBlcihpc1ZhbGlkRnJvbVN0YXJ0KTtcclxuICAgICAgICB0aGlzLnZhbGlkYXRvckxpc3QgPSBuZXcgTGlzdCgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQHBhcmFtIHtBYnN0cmFjdFZhbGlkYXRvcn0gdmFsaWRhdG9yXHJcbiAgICAgKi9cclxuICAgIHdpdGhWYWxpZGF0b3IodmFsaWRhdG9yKSB7XHJcbiAgICAgICAgdmFsaWRhdG9yLndpdGhWYWxpZExpc3RlbmVyKG5ldyBPYmplY3RGdW5jdGlvbih0aGlzLCB0aGlzLm9uZVZhbGlkKSk7XHJcbiAgICAgICAgdmFsaWRhdG9yLndpdGhJbnZhbGlkTGlzdGVuZXIobmV3IE9iamVjdEZ1bmN0aW9uKHRoaXMsIHRoaXMub25lSW52YWxpZCkpO1xyXG4gICAgICAgIHRoaXMudmFsaWRhdG9yTGlzdC5hZGQodmFsaWRhdG9yKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIE9uZSB2YWxpZGF0b3Igc2FpZCBpdCB3YXMgdmFsaWRcclxuICAgICAqL1xyXG4gICAgb25lVmFsaWQoKSB7XHJcbiAgICAgICAgc3VwZXIudmFsaWQoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIE9uZSB2YWxpZGF0b3Igc2FpZCBpdCB3YXMgaW52YWxpZFxyXG4gICAgICovXHJcbiAgICBvbmVJbnZhbGlkKCkge1xyXG4gICAgICAgIGxldCBmb3VuZFZhbGlkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy52YWxpZGF0b3JMaXN0LmZvckVhY2goKHZhbHVlLHBhcmVudCkgPT4ge1xyXG4gICAgICAgICAgICBpZih2YWx1ZS5pc1ZhbGlkKCkpIHtcclxuICAgICAgICAgICAgICAgIGZvdW5kVmFsaWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH0sIHRoaXMpO1xyXG4gICAgICAgIGlmKGZvdW5kVmFsaWQpIHtcclxuICAgICAgICAgICAgc3VwZXIudmFsaWQoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBzdXBlci5pbnZhbGlkKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxufSIsImltcG9ydCB7IFJlZ2V4VmFsaWRhdG9yIH0gZnJvbSBcIi4vcmVnZXhWYWxpZGF0b3IuanNcIjtcclxuXHJcbmNvbnN0IFBBU1NXT1JEX0ZPUk1BVCA9IC9eKD89LipbQS1aYS16XSkoPz0uKj9bMC05XSkoPz0uKj9bIz8hQCQlXiYqLV0pLns4LH0kLztcclxuXHJcbmV4cG9ydCBjbGFzcyBQYXNzd29yZFZhbGlkYXRvciBleHRlbmRzIFJlZ2V4VmFsaWRhdG9yIHtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihpc2N1cnJlbnRseVZhbGlkID0gZmFsc2UpIHtcclxuICAgICAgICBzdXBlcihpc2N1cnJlbnRseVZhbGlkLCBQQVNTV09SRF9GT1JNQVQpO1xyXG4gICAgfVxyXG5cclxufVxyXG4iLCJpbXBvcnQgeyBBYnN0cmFjdFZhbGlkYXRvciB9IGZyb20gXCIuL2Fic3RyYWN0VmFsaWRhdG9yLmpzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgUmVxdWlyZWRWYWxpZGF0b3IgZXh0ZW5kcyBBYnN0cmFjdFZhbGlkYXRvciB7XHJcblxyXG5cdHZhbGlkYXRlKHZhbHVlKXtcclxuXHRcdGlmKHZhbHVlID09PSBcIlwiKXtcclxuXHQgICAgXHR0aGlzLmludmFsaWQoKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHRoaXMudmFsaWQoKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG59XHJcbiJdLCJuYW1lcyI6WyJMT0ciLCJMb2dnZXIiLCJDb250YWluZXJCcmlkZ2UiLCJbb2JqZWN0IE9iamVjdF0iLCJpZCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJ2YWx1ZSIsImNyZWF0ZVRleHROb2RlIiwibmFtZSIsImNyZWF0ZUVsZW1lbnQiLCJuYW1lU3BhY2UiLCJjcmVhdGVFbGVtZW50TlMiLCJ1cmwiLCJwYXJhbXMiLCJ3aW5kb3ciLCJmZXRjaCIsImtleSIsInNlc3Npb25TdG9yYWdlIiwic2V0SXRlbSIsInJlbW92ZUl0ZW0iLCJnZXRJdGVtIiwibG9jYWxTdG9yYWdlIiwiZWxlbWVudCIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwiYXBwZW5kIiwiQXR0cmlidXRlIiwiYXR0cmlidXRlIiwidGhpcyIsIkJhc2VFbGVtZW50IiwicGFyZW50IiwiYXR0cmlidXRlTWFwIiwiZXZlbnRzQXR0YWNoZWQiLCJMaXN0IiwiWG1sRWxlbWVudCIsImNyZWF0ZUZyb21YbWxFbGVtZW50IiwiSFRNTEVsZW1lbnQiLCJlcnJvciIsImF0dHJpYnV0ZXMiLCJ1bmRlZmluZWQiLCJNYXAiLCJpIiwibGVuZ3RoIiwic2V0IiwieG1sRWxlbWVudCIsInBhcmVudEVsZW1lbnQiLCJnZXROYW1lc3BhY2UiLCJnZXROYW1lc3BhY2VVcmkiLCJnZXRGdWxsTmFtZSIsImdldE5hbWUiLCJnZXRNYXBwZWRFbGVtZW50IiwiYXBwZW5kQ2hpbGQiLCJnZXRBdHRyaWJ1dGVzIiwiZm9yRWFjaCIsInNldEF0dHJpYnV0ZSIsImdldFZhbHVlIiwiZXZlbnRUeXBlIiwiZnVuY3Rpb25QYXJhbSIsImNvbnRhaW5zIiwid2FybiIsInN0YXJ0c1dpdGgiLCJzdWJzdHIiLCJhZGRFdmVudExpc3RlbmVyIiwiYWRkIiwidGFnTmFtZSIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInRvcCIsImJvdHRvbSIsImxlZnQiLCJyaWdodCIsIm9mZnNldFdpZHRoIiwib2Zmc2V0SGVpZ2h0IiwibG9hZEF0dHJpYnV0ZXMiLCJnZXRBdHRyaWJ1dGUiLCJoYXNBdHRyaWJ1dGUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJzdHlsZSIsImlucHV0IiwiY29uc29sZSIsInJlcGxhY2VDaGlsZCIsImdldFJvb3RFbGVtZW50IiwiVGV4dCIsIkVsZW1lbnQiLCJmaXJzdENoaWxkIiwiY2xlYXIiLCJhZGRDaGlsZCIsImluc2VydEJlZm9yZSIsIkNhbnZhc1Jvb3QiLCJjb21wb25lbnQiLCJib2R5RWxlbWVudCIsImlubmVySFRNTCIsInJlbW92ZUVsZW1lbnQiLCJhZGRIZWFkZXJFbGVtZW50IiwiYWRkQm9keUVsZW1lbnQiLCJBYnN0cmFjdElucHV0RWxlbWVudCIsInN1cGVyIiwiZ2V0QmFja2luZ1ZhbHVlIiwiZm9jdXMiLCJzZWxlY3QiLCJkaXNhYmxlZCIsIlJhZGlvSW5wdXRFbGVtZW50IiwiY2hlY2tlZCIsImlzQ2hlY2tlZCIsIkNoZWNrYm94SW5wdXRFbGVtZW50IiwiVGV4dElucHV0RWxlbWVudCIsIlRleHRhcmVhSW5wdXRFbGVtZW50Iiwic2V0VmFsdWUiLCJnZXRJbm5lckhUTUwiLCJwcmVwZW5kQ2hpbGQiLCJUZXh0bm9kZUVsZW1lbnQiLCJYbWxDZGF0YSIsImNyZWF0ZUZyb21YbWxDZGF0YSIsImNkYXRhRWxlbWVudCIsIlNpbXBsZUVsZW1lbnQiLCJFbGVtZW50TWFwcGVyIiwibWFwc1RvUmFkaW8iLCJtYXBzVG9DaGVja2JveCIsIm1hcHNUb1N1Ym1pdCIsIm1hcHNUb1RleHRhcmVhIiwibWFwc1RvVGV4dCIsIm1hcHNUb1RleHRub2RlIiwibWFwc1RvU2ltcGxlIiwibG9nIiwiSFRNTElucHV0RWxlbWVudCIsInR5cGUiLCJOb2RlIiwibm9kZVR5cGUiLCJIVE1MVGV4dEFyZWFFbGVtZW50IiwiSFRNTCIsImVsZW1lbnROYW1lIiwibWFwIiwiY2xhc3NWYWx1ZSIsInN0eWxlVmFsdWUiLCJzZXRBdHRyaWJ1dGVWYWx1ZSIsImhyZWYiLCJjdXN0b20iLCJhcHBseVN0eWxlcyIsInN0eWxlcyIsImVuYWJsZWRTdHlsZXMiLCJDYW52YXNTdHlsZXMiLCJzb3VyY2UiLCJnZXQiLCJzZXRDaGlsZCIsImdldFN0eWxlc1NvdXJjZSIsInN0eWxlRWxlbWVudCIsImRpc2FibGVTdHlsZSIsInJlbW92ZSIsIkNsaWVudCIsIm1ldGhvZCIsIm1vZGUiLCJyZWRpcmVjdCIsInRvU3RyaW5nIiwiZGF0YSIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiaGVhZGVycyIsInVzZXItYWdlbnQiLCJjb250ZW50LXR5cGUiLCJDb21wb25lbnQiLCJjb21wb25lbnRJbmRleCIsInJvb3RFbGVtZW50IiwiZWxlbWVudE1hcCIsIlVybCIsInByb3RvY29sIiwiaG9zdCIsInBvcnQiLCJwYXRoTGlzdCIsInBhcmFtZXRlck1hcCIsImJvb2ttYXJrIiwicmVtYWluaW5nIiwiZGV0ZXJtaW5lUHJvdG9jb2wiLCJkZXRlcm1pbmVIb3N0IiwiZGV0ZXJtaW5lUG9ydCIsImRldGVybWluZVBhdGgiLCJkZXRlcm1pbmVQYXJhbWV0ZXJzIiwiZGV0ZXJtaW5lQm9va21hcmsiLCJpbmRleCIsImluZGV4T2YiLCJwYXJ0cyIsInNwbGl0IiwicmVwbGFjZSIsImhvc3RQYXJ0IiwicG9ydFBhcnQiLCJzdWJzdHJpbmciLCJwYXRoUGFydHMiLCJkZWNvZGVVUkkiLCJwYXJ0TGlzdCIsImtleVZhbHVlIiwicGF0aFBhcnQiLCJmaXJzdFBhcmFtZXRlciIsInBhcmFtZXRlcktleSIsInBhcmFtZXRlclZhbHVlIiwiZW5jb2RlVVJJIiwiU3R5bGVzIiwic3R5bGVzU291cmNlIiwiU3R5bGVzUmVnaXN0cnkiLCJzdHlsZXNNYXAiLCJzdHlsZXNVcmxNYXAiLCJzdHlsZXNRdWV1ZVNpemUiLCJjYWxsYmFjayIsImRvQ2FsbGJhY2siLCJyZWdpc3RyeSIsInRtbyIsInNpemUiLCJ0ZW1wQ2FsbGJhY2siLCJjYWxsIiwiUHJvbWlzZSIsInJlc29sdmUiLCJ0aGVuIiwicmVzcG9uc2UiLCJvayIsInRleHQiLCJuYW1lVXJsTWFwIiwicmVqZWN0IiwibG9hZGVkIiwicHJpdmF0ZUxvYWQiLCJjYXRjaCIsInJlYXNvbiIsImluZm8iLCJUZW1wbGF0ZSIsInRlbXBsYXRlU291cmNlIiwiVGVtcGxhdGVSZWdpc3RyeSIsInRlbXBsYXRlTWFwIiwidGVtcGxhdGVVcmxNYXAiLCJ0ZW1wbGF0ZVF1ZXVlU2l6ZSIsImxhbmd1YWdlUHJlZml4IiwidGVtcGxhdGUiLCJnZXRQYXRoTGlzdCIsInNldExhc3QiLCJnZXRMYXN0IiwicmVzb2xzZSIsIlRlbXBsYXRlc0xvYWRlciIsInRlbXBsYXRlUmVnaXN0cnkiLCJjb25maWciLCJnZXRDb25maWdFbnRyaWVzIiwiY29uZmlnRW50cnkiLCJnZXRDbGFzc1JlZmVyZW5jZSIsIlRFTVBMQVRFX1VSTCIsIkNPTVBPTkVOVF9OQU1FIiwiZ2V0VGVtcGxhdGVzTG9hZGVkUHJvbWlzZSIsIlN0eWxlc0xvYWRlciIsInN0eWxlc1JlZ2lzdHJ5IiwiU1RZTEVTX1VSTCIsImdldFN0eWxlc0xvYWRlZFByb21pc2UiLCJDb21wb25lbnRDb25maWdQcm9jZXNzb3IiLCJJbmplY3Rpb25Qb2ludCIsImluc3RhbmNlIiwidGVtcGxhdGVzTG9hZGVyIiwic3R5bGVzTG9hZGVyIiwiYWxsIiwibG9hZCIsIkNvbXBvbmVudENyZWF0b3JJbnN0YW5jZVByb2Nlc3NvciIsImNyZWF0ZUNvbXBvbmVudCIsIlVuaXF1ZUlkUmVnaXN0cnkiLCJpZE5hbWVzIiwibnVtYmVyIiwiRXZlbnQiLCJldmVudCIsInRvTG93ZXJDYXNlIiwiZGF0YVRyYW5zZmVyIiwic2V0RGF0YSIsInByZXZlbnREZWZhdWx0Iiwib2Zmc2V0WCIsIm9mZnNldFkiLCJjbGllbnRYIiwiY2xpZW50WSIsInRhcmdldCIsImtleUNvZGUiLCJFdmVudFJlZ2lzdHJ5IiwibGlzdGVuZXJzIiwiYmVmb3JlTGlzdGVuZXJzIiwiYWZ0ZXJMaXN0ZW5lcnMiLCJldmVudE5hbWUiLCJ1bmlxdWVFdmVudE5hbWUiLCJ0aGVFdmVudFJlZ2lzdHJ5IiwiYXR0YWNoRXZlbnQiLCJ0cmlnZ2VyIiwibGlzdGVuZXIiLCJ1bmlxdWVJbmRleCIsImV4aXN0cyIsImhhbmRsZXJPYmplY3QiLCJoYW5kbGVyRnVuY3Rpb24iLCJPYmplY3RGdW5jdGlvbiIsInN1ZmZpeGVkRXZlbnROYW1lIiwiaGFuZGxlQmVmb3JlIiwiaGFuZGxlQWZ0ZXIiLCJoYW5kbGVHbG9iYWwiLCJFbGVtZW50UmVnaXN0cmF0b3IiLCJldmVudFJlZ2lzdHJ5IiwidW5pcXVlSWRSZWdpc3RyeSIsInBhcmVudFdyYXBwZXIiLCJhZGRUb0VsZW1lbnRJZE1hcCIsInJlZ2lzdGVyRWxlbWVudEV2ZW50cyIsImF0dHJpYnV0ZUtleSIsImF0dGFjaCIsImNvbnRhaW5zQXR0cmlidXRlIiwiZ2V0QXR0cmlidXRlVmFsdWUiLCJpZEF0dHJpYnV0ZVdpdGhTdWZmaXgiLCJDb21wb25lbnRGYWN0b3J5IiwiZWxlbWVudFJlZ2lzdHJhdG9yIiwiY29tcG9uZW50Q291bnRlciIsIkRvbVRyZWUiLCJnZXRUZW1wbGF0ZVNvdXJjZSIsIm1vdW50U3R5bGVzIiwiZ2V0Q29tcG9uZW50SW5kZXgiLCJnZXRFbGVtZW50TWFwIiwic2V0U3R5bGUiLCJJbnB1dEVsZW1lbnREYXRhQmluZGluZyIsIm1vZGVsIiwidmFsaWRhdG9yIiwicHVsbGVycyIsInB1c2hlcnMiLCJmaWVsZCIsInRvIiwicHVsbGVyIiwibW9kZWxWYWx1ZSIsIlByb3BlcnR5QWNjZXNzb3IiLCJ2YWxpZGF0ZSIsInB1c2hlciIsInNldENoZWNrZWQiLCJnZXRDaGVja2VkIiwiY2hhbmdlZEZ1bmN0aW9uTmFtZSIsInB1c2giLCJQcm94eU9iamVjdEZhY3RvcnkiLCJvYmplY3QiLCJQcm94eSIsInByb3AiLCJzdWNjZXNzIiwiY2hhbmdlZEZ1bmN0aW9uIiwiYm91bmRDaGFuZ2VkRnVuY3Rpb24iLCJiaW5kIiwiSGlzdG9yeSIsInRpdGxlIiwic3RhdGVPYmplY3QiLCJoaXN0b3J5IiwicHVzaFN0YXRlIiwibG9jYXRpb24iLCJTdGF0ZSIsInN0YXRlTGlzdGVuZXJNYXAiLCJuZXdQYXRoIiwiZ2V0VXJsIiwiZ2V0UGF0aCIsInNldFVybCIsInB1c2hVcmwiLCJKdXN0cmlnaHRDb25maWciLCJqdXN0cmlnaHRDb25maWciLCJNaW5kaUNvbmZpZyIsImFkZFR5cGVDb25maWciLCJTaW5nbGV0b25Db25maWciLCJ1bm5hbWVkIiwiQXBwbGljYXRpb25TdG9yYWdlIiwic2V0TG9jYWxBdHRyaWJ1dGUiLCJnZXRMb2NhbEF0dHJpYnV0ZSIsImhhc0xvY2FsQXR0cmlidXRlIiwicmVtb3ZlTG9jYWxBdHRyaWJ1dGUiLCJTZXNzaW9uU3RvcmFnZSIsInNldFNlc3Npb25BdHRyaWJ1dGUiLCJoYXNTZXNzaW9uQXR0cmlidXRlIiwiZ2V0U2Vzc2lvbkF0dHJpYnV0ZSIsInJlbW92ZVNlc3Npb25BdHRyaWJ1dGUiLCJIdHRwUmVzcG9uc2VIYW5kbGVyIiwiY29kZSIsIm9iamVjdEZ1bmN0aW9uIiwibWFwcGVyRnVuY3Rpb24iLCJIdHRwQ2FsbEJ1aWxkZXIiLCJwYXJhbXRlciIsImh0dHBDYWxsYmFja01hcCIsImVycm9yQ2FsbGJhY2siLCJjbGllbnQiLCJwYXJhbWV0ZXIiLCJwcm9jZXNzUmVzcG9uc2UiLCJwcm9jZXNzRXJyb3IiLCJwb3N0IiwicHV0IiwicGF0Y2giLCJkZWxldGUiLCJyZXNwb25zZUhhbmRsZXIiLCJzdGF0dXMiLCJqc29uIiwiZ2V0TWFwcGVyRnVuY3Rpb24iLCJnZXRPYmplY3RGdW5jdGlvbiIsImZhaWxSZWFzb24iLCJBYnN0cmFjdFZhbGlkYXRvciIsImlzY3VycmVudGx5VmFsaWQiLCJ2YWxpZExpc3RlbmVyTGlzdCIsImludmFsaWRMaXN0ZW5lckxpc3QiLCJjdXJyZW50bHlWYWxpZCIsInZhbGlkTGlzdGVuZXIiLCJpbnZhbGlkTGlzdGVuZXIiLCJBbmRWYWxpZGF0b3JTZXQiLCJpc1ZhbGlkRnJvbVN0YXJ0IiwidmFsaWRhdG9yTGlzdCIsIndpdGhWYWxpZExpc3RlbmVyIiwib25lVmFsaWQiLCJ3aXRoSW52YWxpZExpc3RlbmVyIiwib25lSW52YWxpZCIsImZvdW5kSW52YWxpZCIsImlzVmFsaWQiLCJpbnZhbGlkIiwidmFsaWQiLCJSZWdleFZhbGlkYXRvciIsInJlZ2V4IiwibWF0Y2giLCJFTUFJTF9GT1JNQVQiLCJFbWFpbFZhbGlkYXRvciIsIkVxdWFsc1ZhbGlkYXRvciIsIk9yVmFsaWRhdG9yU2V0IiwiZm91bmRWYWxpZCIsIlBBU1NXT1JEX0ZPUk1BVCIsIlBhc3N3b3JkVmFsaWRhdG9yIiwiUmVxdWlyZWRWYWxpZGF0b3IiXSwibWFwcGluZ3MiOiI0S0FFQSxNQUFNQSxLQUFNLEdBQUlDLG9CQUFPLHdCQUVWQyxpQkFNVEMsc0JBQXNCQyxHQUNsQixNQUFPQyxVQUFTQyxlQUFlRixHQU9uQ0Qsc0JBQXNCSSxHQUNsQixNQUFPRixVQUFTRyxlQUFlRCxHQU9uQ0oscUJBQXFCTSxHQUNqQixNQUFPSixVQUFTSyxjQUFjRCxHQVFsQ04sdUJBQXVCUSxFQUFXRixHQUM5QixNQUFPSixVQUFTTyxnQkFBZ0JELEVBQVdGLEdBUS9DTixhQUFhVSxFQUFLQyxHQUNkLE1BQU9DLFFB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
